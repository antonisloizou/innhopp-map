;

/*
 Hammer.JS - v2.0.8 - 2016-04-23
 http://hammerjs.github.io/

 Copyright (c) 2016 Jorik Tangelder;
 Licensed under the MIT license */
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var c=0;return function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(a,c){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:c})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function a(b){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(b||"")+"_"+c++,b)}var c=0;return a}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.iteratorFromArray=function(a,c){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var b=0,e={next:function(){if(b<a.length){var h=b++;return{value:c(h,a[h]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e};
$jscomp.polyfill=function(a,c,b,e){if(c){b=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var h=a[e];h in b||(b[h]={});b=b[h]}a=a[a.length-1];e=b[a];c=c(e);c!=e&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
$jscomp.makeIterator=function(a){var c="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return c?c.call(a):$jscomp.arrayIterator(a)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(a){function c(){this.batch_=null}function b(a){return a instanceof h?a:new h(function(d,b){d(a)})}if(a&&!$jscomp.FORCE_POLYFILL_PROMISE)return a;c.prototype.asyncExecute=function(a){if(null==this.batch_){this.batch_=[];var d=this;this.asyncExecuteFunction(function(){d.executeBatch_()})}this.batch_.push(a)};var e=$jscomp.global.setTimeout;c.prototype.asyncExecuteFunction=function(a){e(a,0)};c.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=
this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var h=a[b];a[b]=null;try{h()}catch(t){this.asyncThrow_(t)}}}this.batch_=null};c.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var h=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var d=this.createResolveAndReject_();try{a(d.resolve,d.reject)}catch(n){d.reject(n)}};h.prototype.createResolveAndReject_=function(){function a(a){return function(d){h||(h=!0,a.call(b,d))}}var b=this,h=!1;
return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};h.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof h)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var b=null!=a;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};h.prototype.resolveToNonPromiseObj_=function(a){var b=void 0;try{b=a.then}catch(n){this.reject_(n);return}"function"==typeof b?
this.settleSameAsThenable_(b,a):this.fulfill_(a)};h.prototype.reject_=function(a){this.settle_(2,a)};h.prototype.fulfill_=function(a){this.settle_(1,a)};h.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b+"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};h.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=0;a<this.onSettledCallbacks_.length;++a)m.asyncExecute(this.onSettledCallbacks_[a]);
this.onSettledCallbacks_=null}};var m=new c;h.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};h.prototype.settleSameAsThenable_=function(a,b){var d=this.createResolveAndReject_();try{a.call(b,d.resolve,d.reject)}catch(t){d.reject(t)}};h.prototype.then=function(a,b){function d(a,b){return"function"==typeof a?function(b){try{e(a(b))}catch(u){m(u)}}:b}var e,m,c=new h(function(a,b){e=a;m=b});this.callWhenSettled_(d(a,e),d(b,m));return c};
h.prototype.catch=function(a){return this.then(void 0,a)};h.prototype.callWhenSettled_=function(a,b){function d(){switch(h.state_){case 1:a(h.result_);break;case 2:b(h.result_);break;default:throw Error("Unexpected state: "+h.state_);}}var h=this;null==this.onSettledCallbacks_?m.asyncExecute(d):this.onSettledCallbacks_.push(d)};h.resolve=b;h.reject=function(a){return new h(function(b,d){d(a)})};h.race=function(a){return new h(function(d,h){for(var e=$jscomp.makeIterator(a),m=e.next();!m.done;m=e.next())b(m.value).callWhenSettled_(d,
h)})};h.all=function(a){var d=$jscomp.makeIterator(a),e=d.next();return e.done?b([]):new h(function(a,h){function m(b){return function(d){g[b]=d;f--;0==f&&a(g)}}var g=[],f=0;do g.push(void 0),f++,b(e.value).callWhenSettled_(m(g.length-1),h),e=d.next();while(!e.done)})};return h},"es6","es3");
$jscomp.checkStringArgs=function(a,c,b){if(null==a)throw new TypeError("The 'this' value for String.prototype."+b+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+b+" must not be a regular expression");return a+""};
$jscomp.polyfill("String.prototype.codePointAt",function(a){return a?a:function(a){var b=$jscomp.checkStringArgs(this,null,"codePointAt"),e=b.length;a=Number(a)||0;if(0<=a&&a<e){a|=0;var h=b.charCodeAt(a);if(55296>h||56319<h||a+1===e)return h;a=b.charCodeAt(a+1);return 56320>a||57343<a?h:1024*(h-55296)+a+9216}}},"es6","es3");
$jscomp.polyfill("Array.prototype.fill",function(a){return a?a:function(a,b,e){var h=this.length||0;0>b&&(b=Math.max(0,h+b));if(null==e||e>h)e=h;e=Number(e);0>e&&(e=Math.max(0,h+e));for(b=Number(b||0);b<e;b++)this[b]=a;return this}},"es6","es3");$jscomp.polyfill("Math.sign",function(a){return a?a:function(a){a=Number(a);return 0===a||isNaN(a)?a:0<a?1:-1}},"es6","es3");
$jscomp.polyfill("Math.trunc",function(a){return a?a:function(a){a=Number(a);if(isNaN(a)||Infinity===a||-Infinity===a||0===a)return a;var b=Math.floor(Math.abs(a));return 0>a?-b:b}},"es6","es3");
$jscomp.polyfill("Array.from",function(a){return a?a:function(a,b,e){b=null!=b?b:function(a){return a};var h=[],m="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];if("function"==typeof m){a=m.call(a);for(var d=0;!(m=a.next()).done;)h.push(b.call(e,m.value,d++))}else for(m=a.length,d=0;d<m;d++)h.push(b.call(e,a[d],d));return h}},"es6","es3");$jscomp.polyfill("Object.is",function(a){return a?a:function(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,b){var e=this;e instanceof String&&(e=String(e));var h=e.length;b=b||0;for(0>b&&(b=Math.max(b+h,0));b<h;b++){var m=e[b];if(m===a||Object.is(m,a))return!0}return!1}},"es7","es3");$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,b){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,b||0)}},"es6","es3");$jscomp.owns=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)};
$jscomp.assign="function"==typeof Object.assign?Object.assign:function(a,c){for(var b=1;b<arguments.length;b++){var e=arguments[b];if(e)for(var h in e)$jscomp.owns(e,h)&&(a[h]=e[h])}return a};$jscomp.polyfill("Object.assign",function(a){return a||$jscomp.assign},"es6","es3");
!function(a,c,b,e){function h(a,b,f){return setTimeout(t(a,f),b)}function m(a,b,f){return Array.isArray(a)?(d(a,f[b],f),!0):!1}function d(a,b,f){var d;if(a)if(a.forEach)a.forEach(b,f);else if(a.length!==e)for(d=0;d<a.length;)b.call(f,a[d],d,a),d++;else for(d in a)a.hasOwnProperty(d)&&b.call(f,a[d],d,a)}function w(b,f,d){var h="DEPRECATED METHOD: "+f+"\n"+d+" AT \n";return function(){var f=Error("get-stack-trace");f=f&&f.stack?f.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,
"{anonymous}()@"):"Unknown Stack Trace";var d=a.console&&(a.console.warn||a.console.log);return d&&d.call(a.console,h,f),b.apply(this,arguments)}}function n(a,b,f){var d=b.prototype;b=a.prototype=Object.create(d);b.constructor=a;b._super=d;f&&ma(b,f)}function t(a,b){return function(){return a.apply(b,arguments)}}function g(a,b){return typeof a==ra?a.apply(b?b[0]||e:e,b):a}function p(a,b,f){d(l(b),function(b){a.addEventListener(b,f,!1)})}function q(a,b,f){d(l(b),function(b){a.removeEventListener(b,
f,!1)})}function f(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function l(a){return a.trim().split(/\s+/g)}function u(a,b,f){if(a.indexOf&&!f)return a.indexOf(b);for(var d=0;d<a.length;){if(f&&a[d][f]==b||!f&&a[d]===b)return d;d++}return-1}function r(a){return Array.prototype.slice.call(a,0)}function v(a,b,f){for(var d=[],h=[],e=0;e<a.length;){var l=b?a[e][b]:a[e];0>u(h,l)&&d.push(a[e]);h[e]=l;e++}return f&&(d=b?d.sort(function(a,f){return a[b]>f[b]}):d.sort()),d}function A(a,b){for(var f,
d,h=b[0].toUpperCase()+b.slice(1),l=0;l<Ga.length;){if(f=Ga[l],d=f?f+h:b,d in a)return d;l++}return e}function B(b){b=b.ownerDocument||b;return b.defaultView||b.parentWindow||a}function z(a,b){var f=this;this.manager=a;this.callback=b;this.element=a.element;this.target=a.options.inputTarget;this.domHandler=function(b){g(a.options.enable,[a])&&f.handler(b)};this.init()}function I(a){var b=a.options.inputClass;return new (b?b:wb?E:xb?Q:Ba?N:y)(a,G)}function G(a,b,d){var h=d.pointers.length;var l=d.changedPointers.length;
var m=b&ta&&0===h-l;h=b&(na|va)&&0===h-l;d.isFirst=!!m;d.isFinal=!!h;m&&(a.session={});d.eventType=b;b=a.session;m=d.pointers;h=m.length;b.firstInput||(b.firstInput=J(d));1<h&&!b.firstMultiple?b.firstMultiple=J(d):1===h&&(b.firstMultiple=!1);l=b.firstInput;var g=(h=b.firstMultiple)?h.center:l.center;var n=d.center=H(m);d.timeStamp=ua();d.deltaTime=d.timeStamp-l.timeStamp;d.angle=K(g,n);d.distance=F(g,n);l=d.center;g=b.offsetDelta||{};n=b.prevDelta||{};var r=b.prevInput||{};d.eventType!==ta&&r.eventType!==
na||(n=b.prevDelta={x:r.deltaX||0,y:r.deltaY||0},g=b.offsetDelta={x:l.x,y:l.y});d.deltaX=n.x+(l.x-g.x);d.deltaY=n.y+(l.y-g.y);d.offsetDirection=C(d.deltaX,d.deltaY);g=d.deltaTime;l=d.deltaX/g||0;g=d.deltaY/g||0;d.overallVelocityX=l;d.overallVelocityY=g;d.overallVelocity=qa(l)>qa(g)?l:g;h?(l=h.pointers,l=F(m[0],m[1],Ma)/F(l[0],l[1],Ma)):l=1;d.scale=l;h?(h=h.pointers,m=K(m[1],m[0],Ma)+K(h[1],h[0],Ma)):m=0;d.rotation=m;d.maxPointers=b.prevInput?d.pointers.length>b.prevInput.maxPointers?d.pointers.length:
b.prevInput.maxPointers:d.pointers.length;g=b.lastInterval||d;m=d.timeStamp-g.timeStamp;d.eventType!=va&&(m>Xa||g.velocity===e)?(l=d.deltaX-g.deltaX,g=d.deltaY-g.deltaY,n=l/m||0,r=g/m||0,m=n,h=r,n=qa(n)>qa(r)?n:r,l=C(l,g),b.lastInterval=d):(n=g.velocity,m=g.velocityX,h=g.velocityY,l=g.direction);d.velocity=n;d.velocityX=m;d.velocityY=h;d.direction=l;b=a.element;f(d.srcEvent.target,b)&&(b=d.srcEvent.target);d.target=b;a.emit("hammer.input",d);a.recognize(d);a.session.prevInput=d}function J(a){for(var b=
[],d=0;d<a.pointers.length;)b[d]={clientX:xa(a.pointers[d].clientX),clientY:xa(a.pointers[d].clientY)},d++;return{timeStamp:ua(),pointers:b,center:H(b),deltaX:a.deltaX,deltaY:a.deltaY}}function H(a){var b=a.length;if(1===b)return{x:xa(a[0].clientX),y:xa(a[0].clientY)};for(var d=0,f=0,h=0;b>h;)d+=a[h].clientX,f+=a[h].clientY,h++;return{x:xa(d/b),y:xa(f/b)}}function C(a,b){return a===b?gb:qa(a)>=qa(b)?0>a?Ya:cb:0>b?Za:db}function F(a,b,d){d||(d=$a);var f=b[d[0]]-a[d[0]];a=b[d[1]]-a[d[1]];return Math.sqrt(f*
f+a*a)}function K(a,b,d){d||(d=$a);return 180*Math.atan2(b[d[1]]-a[d[1]],b[d[0]]-a[d[0]])/Math.PI}function y(){this.evEl=Na;this.evWin=hb;this.pressed=!1;z.apply(this,arguments)}function E(){this.evEl=pb;this.evWin=qb;z.apply(this,arguments);this.store=this.manager.session.pointerEvents=[]}function D(){this.evTarget=yb;this.evWin=rb;this.started=!1;z.apply(this,arguments)}function Q(){this.evTarget=zb;this.targetIds={};z.apply(this,arguments)}function Z(a,b){var d=r(a.touches),h=this.targetIds;if(b&
(ta|Sa)&&1===d.length)return h[d[0].identifier]=!0,[d,d];var l;a=r(a.changedTouches);var m=[],e=this.target;if(l=d.filter(function(a){return f(a.target,e)}),b===ta)for(d=0;d<l.length;)h[l[d].identifier]=!0,d++;for(d=0;d<a.length;)h[a[d].identifier]&&m.push(a[d]),b&(na|va)&&delete h[a[d].identifier],d++;return m.length?[v(l.concat(m),"identifier",!0),m]:void 0}function N(){z.apply(this,arguments);var a=t(this.handler,this);this.touch=new Q(this.manager,a);this.mouse=new y(this.manager,a);this.primaryTouch=
null;this.lastTouches=[]}function aa(a){a=a.changedPointers[0];if(a.identifier===this.primaryTouch){var b={x:a.clientX,y:a.clientY};this.lastTouches.push(b);var d=this.lastTouches;setTimeout(function(){var a=d.indexOf(b);-1<a&&d.splice(a,1)},Ab)}}function fa(a,b){this.manager=a;this.set(b)}function ca(a){if(-1<a.indexOf(Oa))return Oa;var b=-1<a.indexOf(ab),d=-1<a.indexOf(Ta);return b&&d?Oa:b||d?b?ab:Ta:-1<a.indexOf(ib)?ib:sb}function T(a){this.options=ma({},this.defaults,a||{});this.id=jb++;this.manager=
null;a=this.options.enable;this.options.enable=a===e?!0:a;this.state=bb;this.simultaneous={};this.requireFail=[]}function V(a){return a&la?"cancel":a&wa?"end":a&ya?"move":a&za?"start":""}function O(a){return a==db?"down":a==Za?"up":a==Ya?"left":a==cb?"right":""}function R(a,b){return(b=b.manager)?b.get(a):a}function S(){T.apply(this,arguments)}function da(){S.apply(this,arguments);this.pY=this.pX=null}function ja(){S.apply(this,arguments)}function ka(){T.apply(this,arguments);this._input=this._timer=
null}function X(){S.apply(this,arguments)}function Y(){S.apply(this,arguments)}function W(){T.apply(this,arguments);this.pCenter=this.pTime=!1;this._input=this._timer=null;this.count=0}function ha(a,b){b=b||{};var d=b.recognizers;return b.recognizers=d===e?ha.defaults.preset:d,new oa(a,b)}function oa(a,b){this.options=ma({},ha.defaults,b||{});this.options.inputTarget=this.options.inputTarget||a;this.handlers={};this.session={};this.recognizers=[];this.oldCssProps={};this.element=a;this.input=I(this);
this.touchAction=new fa(this,this.options.touchAction);Ca(this,!0);d(this.options.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]);a[3]&&b.requireFailure(a[3])},this)}function Ca(a,b){var f=a.element;if(f.style){var h;d(a.options.cssProps,function(d,l){h=A(f.style,l);b?(a.oldCssProps[h]=f.style[h],f.style[h]=d):f.style[h]=a.oldCssProps[h]||""});b||(a.oldCssProps={})}}function Da(a,b){var d=c.createEvent("Event");d.initEvent(a,!0,!0);d.gesture=b;b.target.dispatchEvent(d)}
var Ga=" webkit Moz MS ms o".split(" "),Aa=c.createElement("div"),ra="function",xa=Math.round,qa=Math.abs,ua=Date.now;var ma="function"!=typeof Object.assign?function(a){if(a===e||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),d=1;d<arguments.length;d++){var f=arguments[d];if(f!==e&&null!==f)for(var h in f)f.hasOwnProperty(h)&&(b[h]=f[h])}return b}:Object.assign;var Ha=w(function(a,b,d){for(var f=Object.keys(b),h=0;h<f.length;)(!d||d&&a[f[h]]===e)&&
(a[f[h]]=b[f[h]]),h++;return a},"extend","Use `assign`."),Bb=w(function(a,b){return Ha(a,b,!0)},"merge","Use `assign`."),jb=1,kb=/mobile|tablet|ip(ad|hone|od)|android/i,Ba="ontouchstart"in a,wb=A(a,"PointerEvent")!==e,xb=Ba&&kb.test(navigator.userAgent),Xa=25,ta=1,Sa=2,na=4,va=8,gb=1,Ya=2,cb=4,Za=8,db=16,Ea=Ya|cb,Ua=Za|db,Cb=Ea|Ua,$a=["x","y"],Ma=["clientX","clientY"];z.prototype={handler:function(){},init:function(){this.evEl&&p(this.element,this.evEl,this.domHandler);this.evTarget&&p(this.target,
this.evTarget,this.domHandler);this.evWin&&p(B(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&q(this.element,this.evEl,this.domHandler);this.evTarget&&q(this.target,this.evTarget,this.domHandler);this.evWin&&q(B(this.element),this.evWin,this.domHandler)}};var Ia={mousedown:ta,mousemove:Sa,mouseup:na},Na="mousedown",hb="mousemove mouseup";n(y,z,{handler:function(a){var b=Ia[a.type];b&ta&&0===a.button&&(this.pressed=!0);b&Sa&&1!==a.which&&(b=na);this.pressed&&(b&na&&(this.pressed=
!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:"mouse",srcEvent:a}))}});var Db={pointerdown:ta,pointermove:Sa,pointerup:na,pointercancel:va,pointerout:va},Eb={2:"touch",3:"pen",4:"mouse",5:"kinect"},pb="pointerdown",qb="pointermove pointerup pointercancel";a.MSPointerEvent&&!a.PointerEvent&&(pb="MSPointerDown",qb="MSPointerMove MSPointerUp MSPointerCancel");n(E,z,{handler:function(a){var b=this.store,d=!1,f=a.type.toLowerCase().replace("ms","");f=Db[f];var h=Eb[a.pointerType]||
a.pointerType,l="touch"==h,m=u(b,a.pointerId,"pointerId");f&ta&&(0===a.button||l)?0>m&&(b.push(a),m=b.length-1):f&(na|va)&&(d=!0);0>m||(b[m]=a,this.callback(this.manager,f,{pointers:b,changedPointers:[a],pointerType:h,srcEvent:a}),d&&b.splice(m,1))}});var Fb={touchstart:ta,touchmove:Sa,touchend:na,touchcancel:va},yb="touchstart",rb="touchstart touchmove touchend touchcancel";n(D,z,{handler:function(a){var b=Fb[a.type];if(b===ta&&(this.started=!0),this.started){var d=r(a.touches);var f=r(a.changedTouches);
f=(b&(na|va)&&(d=v(d.concat(f),"identifier",!0)),[d,f]);b&(na|va)&&0===f[0].length-f[1].length&&(this.started=!1);this.callback(this.manager,b,{pointers:f[0],changedPointers:f[1],pointerType:"touch",srcEvent:a})}}});var Gb={touchstart:ta,touchmove:Sa,touchend:na,touchcancel:va},zb="touchstart touchmove touchend touchcancel";n(Q,z,{handler:function(a){var b=Gb[a.type],d=Z.call(this,a,b);d&&this.callback(this.manager,b,{pointers:d[0],changedPointers:d[1],pointerType:"touch",srcEvent:a})}});var Ab=2500;
n(N,z,{handler:function(a,b,d){var f="touch"==d.pointerType,h="mouse"==d.pointerType;if(!(h&&d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents)){if(f)b&ta?(this.primaryTouch=d.changedPointers[0].identifier,aa.call(this,d)):b&(na|va)&&aa.call(this,d);else{if(f=h)a:{f=d.srcEvent.clientX;h=d.srcEvent.clientY;for(var l=0;l<this.lastTouches.length;l++){var m=this.lastTouches[l],e=Math.abs(h-m.y);if(25>=Math.abs(f-m.x)&&25>=e){f=!0;break a}}f=!1}if(f)return}this.callback(a,b,d)}},destroy:function(){this.touch.destroy();
this.mouse.destroy()}});var tb=A(Aa.style,"touchAction"),ub=tb!==e,sb="auto",ib="manipulation",Oa="none",ab="pan-x",Ta="pan-y",Va=function(){if(!ub)return!1;var b={},d=a.CSS&&a.CSS.supports;return"auto;manipulation;pan-y;pan-x;pan-x pan-y;none".split(";").forEach(function(f){b[f]=d?a.CSS.supports("touch-action",f):!0}),b}();fa.prototype={set:function(a){"compute"==a&&(a=this.compute());ub&&this.manager.element.style&&Va[a]&&(this.manager.element.style[tb]=a);this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},
compute:function(){var a=[];return d(this.manager.recognizers,function(b){g(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),ca(a.join(" "))},preventDefaults:function(a){var b=a.srcEvent,d=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var f=this.actions,h=-1<f.indexOf(Oa)&&!Va[Oa],l=-1<f.indexOf(Ta)&&!Va[Ta];f=-1<f.indexOf(ab)&&!Va[ab];if(h){var m=2>a.distance,e=250>a.deltaTime;if(1===a.pointers.length&&m&&e)return}return f&&l?void 0:h||l&&d&Ea||f&&d&
Ua?this.preventSrc(b):void 0},preventSrc:function(a){this.manager.session.prevented=!0;a.preventDefault()}};var bb=1,za=2,ya=4,wa=8,P=wa,la=16;T.prototype={defaults:{},set:function(a){return ma(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(m(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=R(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return m(a,"dropRecognizeWith",this)?this:(a=R(a,
this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(m(a,"requireFailure",this))return this;var b=this.requireFail;return a=R(a,this),-1===u(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(m(a,"dropRequireFailure",this))return this;a=R(a,this);a=u(this.requireFail,a);return-1<a&&this.requireFail.splice(a,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){d.manager.emit(b,
a)}var d=this,f=this.state;wa>f&&b(d.options.event+V(f));b(d.options.event);a.additionalEvent&&b(a.additionalEvent);f>=wa&&b(d.options.event+V(f))},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=32)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(32|bb)))return!1;a++}return!0},recognize:function(a){a=ma({},a);return g(this.options.enable,[this,a])?(this.state&(P|la|32)&&(this.state=bb),this.state=this.process(a),void(this.state&(za|
ya|wa|la)&&this.tryEmit(a))):(this.reset(),void(this.state=32))},process:function(a){},getTouchAction:function(){},reset:function(){}};n(S,T,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,d=a.eventType,f=b&(za|ya);a=this.attrTest(a);return f&&(d&va||!a)?b|la:f||a?d&na?b|wa:b&za?b|ya:za:32}});n(da,S,{defaults:{event:"pan",threshold:10,pointers:1,direction:Cb},getTouchAction:function(){var a=this.options.direction,
b=[];return a&Ea&&b.push(Ta),a&Ua&&b.push(ab),b},directionTest:function(a){var b=this.options,d=!0,f=a.distance,h=a.direction,l=a.deltaX,m=a.deltaY;return h&b.direction||(b.direction&Ea?(h=0===l?gb:0>l?Ya:cb,d=l!=this.pX,f=Math.abs(a.deltaX)):(h=0===m?gb:0>m?Za:db,d=m!=this.pY,f=Math.abs(a.deltaY))),a.direction=h,d&&f>b.threshold&&h&b.direction},attrTest:function(a){return S.prototype.attrTest.call(this,a)&&(this.state&za||!(this.state&za)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX;
this.pY=a.deltaY;var b=O(a.direction);b&&(a.additionalEvent=this.options.event+b);this._super.emit.call(this,a)}});n(ja,S,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Oa]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&za)},emit:function(a){1!==a.scale&&(a.additionalEvent=this.options.event+(1>a.scale?"in":"out"));this._super.emit.call(this,a)}});n(ka,T,{defaults:{event:"press",pointers:1,
time:251,threshold:9},getTouchAction:function(){return[sb]},process:function(a){var b=this.options,d=a.pointers.length===b.pointers,f=a.distance<b.threshold,l=a.deltaTime>b.time;if(this._input=a,!f||!d||a.eventType&(na|va)&&!l)this.reset();else if(a.eventType&ta)this.reset(),this._timer=h(function(){this.state=P;this.tryEmit()},b.time,this);else if(a.eventType&na)return P;return 32},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===P&&(a&&a.eventType&na?this.manager.emit(this.options.event+
"up",a):(this._input.timeStamp=ua(),this.manager.emit(this.options.event,this._input)))}});n(X,S,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Oa]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&za)}});n(Y,S,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Ea|Ua,pointers:1},getTouchAction:function(){return da.prototype.getTouchAction.call(this)},attrTest:function(a){var b,d=this.options.direction;
return d&(Ea|Ua)?b=a.overallVelocity:d&Ea?b=a.overallVelocityX:d&Ua&&(b=a.overallVelocityY),this._super.attrTest.call(this,a)&&d&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&qa(b)>this.options.velocity&&a.eventType&na},emit:function(a){var b=O(a.offsetDirection);b&&this.manager.emit(this.options.event+b,a);this.manager.emit(this.options.event,a)}});n(W,T,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ib]},
process:function(a){var b=this.options,d=a.pointers.length===b.pointers,f=a.distance<b.threshold,l=a.deltaTime<b.time;if(this.reset(),a.eventType&ta&&0===this.count)return this.failTimeout();if(f&&l&&d){if(a.eventType!=na)return this.failTimeout();d=this.pTime?a.timeStamp-this.pTime<b.interval:!0;f=!this.pCenter||F(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp;this.pCenter=a.center;f&&d?this.count+=1:this.count=1;this._input=a;if(0===this.count%b.taps)return this.hasRequireFailures()?
(this._timer=h(function(){this.state=P;this.tryEmit()},b.interval,this),za):P}return 32},failTimeout:function(){return this._timer=h(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==P&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});ha.VERSION="2.0.8";ha.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[X,{enable:!1}],[ja,{enable:!1},
["rotate"]],[Y,{direction:Ea}],[da,{direction:Ea},["swipe"]],[W],[W,{event:"doubletap",taps:2},["tap"]],[ka]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};oa.prototype={set:function(a){return ma(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?2:1},recognize:function(a){var b=
this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var d=this.recognizers,f=b.curRecognizer;(!f||f&&f.state&P)&&(f=b.curRecognizer=null);for(var h=0;h<d.length;){var l=d[h];2===b.stopped||f&&l!=f&&!l.canRecognizeWith(f)?l.reset():l.recognize(a);!f&&l.state&(za|ya|wa)&&(f=b.curRecognizer=l);h++}}},get:function(a){if(a instanceof T)return a;for(var b=this.recognizers,d=0;d<b.length;d++)if(b[d].options.event==a)return b[d];return null},add:function(a){if(m(a,"add",this))return this;var b=
this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(m(a,"remove",this))return this;if(a=this.get(a)){var b=this.recognizers;a=u(b,a);-1!==a&&(b.splice(a,1),this.touchAction.update())}return this},on:function(a,b){if(a!==e&&b!==e){var f=this.handlers;return d(l(a),function(a){f[a]=f[a]||[];f[a].push(b)}),this}},off:function(a,b){if(a!==e){var f=this.handlers;return d(l(a),function(a){b?f[a]&&f[a].splice(u(f[a],
b),1):delete f[a]}),this}},emit:function(a,b){this.options.domEvents&&Da(a,b);var d=this.handlers[a]&&this.handlers[a].slice();if(d&&d.length)for(b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()},a=0;a<d.length;)d[a](b),a++},destroy:function(){this.element&&Ca(this,!1);this.handlers={};this.session={};this.input.destroy();this.element=null}};ma(ha,{INPUT_START:ta,INPUT_MOVE:Sa,INPUT_END:na,INPUT_CANCEL:va,STATE_POSSIBLE:bb,STATE_BEGAN:za,STATE_CHANGED:ya,STATE_ENDED:wa,STATE_RECOGNIZED:P,
STATE_CANCELLED:la,STATE_FAILED:32,DIRECTION_NONE:gb,DIRECTION_LEFT:Ya,DIRECTION_RIGHT:cb,DIRECTION_UP:Za,DIRECTION_DOWN:db,DIRECTION_HORIZONTAL:Ea,DIRECTION_VERTICAL:Ua,DIRECTION_ALL:Cb,Manager:oa,Input:z,TouchAction:fa,TouchInput:Q,MouseInput:y,PointerEventInput:E,TouchMouseInput:N,SingleTouchInput:D,Recognizer:T,AttrRecognizer:S,Tap:W,Pan:da,Swipe:Y,Pinch:ja,Rotate:X,Press:ka,on:p,off:q,each:d,merge:Bb,extend:Ha,assign:ma,inherit:n,bindFn:t,prefixed:A});("undefined"!=typeof a?a:"undefined"!=typeof self?
self:{}).Hammer=ha;"function"==typeof define&&define.amd?define(function(){return ha}):"undefined"!=typeof module&&module.exports?module.exports=ha:a[b]=ha}(window,document,"Hammer");
(function(){function a(a,b){document.addEventListener?a.addEventListener("scroll",b,!1):a.attachEvent("scroll",b)}function c(a){document.body?a():document.addEventListener?document.addEventListener("DOMContentLoaded",function v(){document.removeEventListener("DOMContentLoaded",v);a()}):document.attachEvent("onreadystatechange",function A(){if("interactive"==document.readyState||"complete"==document.readyState)document.detachEvent("onreadystatechange",A),a()})}function b(a){this.a=document.createElement("div");
this.a.setAttribute("aria-hidden","true");this.a.appendChild(document.createTextNode(a));this.b=document.createElement("span");this.c=document.createElement("span");this.h=document.createElement("span");this.f=document.createElement("span");this.g=-1;this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";
this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;";this.b.appendChild(this.h);this.c.appendChild(this.f);this.a.appendChild(this.b);this.a.appendChild(this.c)}function e(a,b){a.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+
b+";"}function h(a){var b=a.a.offsetWidth,d=b+100;a.f.style.width=d+"px";a.c.scrollLeft=d;a.b.scrollLeft=a.b.scrollWidth+100;return a.g!==b?(a.g=b,!0):!1}function m(b,d){function f(){var a=l;h(a)&&a.a.parentNode&&d(a.g)}var l=b;a(b.b,f);a(b.c,f);h(b)}function d(a,b){b=b||{};this.family=a;this.style=b.style||"normal";this.weight=b.weight||"normal";this.stretch=b.stretch||"normal"}function w(){if(null===q)if(n()&&/Apple/.test(window.navigator.vendor)){var a=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);
q=!!a&&603>parseInt(a[1],10)}else q=!1;return q}function n(){null===l&&(l=!!document.fonts);return l}function t(){if(null===f){var a=document.createElement("div");try{a.style.font="condensed 100px sans-serif"}catch(r){}f=""!==a.style.font}return f}function g(a,b){return[a.style,a.weight,t()?a.stretch:"","100px",b].join(" ")}var p=null,q=null,f=null,l=null;d.prototype.load=function(a,d){var f=this,h=a||"BESbswy",l=0,r=d||3E3,u=(new Date).getTime();return new Promise(function(a,d){if(n()&&!w()){var t=
new Promise(function(a,b){function d(){(new Date).getTime()-u>=r?b(Error(""+r+"ms timeout exceeded")):document.fonts.load(g(f,'"'+f.family+'"'),h).then(function(b){1<=b.length?a():setTimeout(d,25)},b)}d()}),v=new Promise(function(a,b){l=setTimeout(function(){b(Error(""+r+"ms timeout exceeded"))},r)});Promise.race([v,t]).then(function(){clearTimeout(l);a(f)},d)}else c(function(){function n(){var b;if(b=-1!=q&&-1!=A||-1!=q&&-1!=z||-1!=A&&-1!=z)(b=q!=A&&q!=z&&A!=z)||(null===p&&(b=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),
p=!!b&&(536>parseInt(b[1],10)||536===parseInt(b[1],10)&&11>=parseInt(b[2],10))),b=p&&(q==B&&A==B&&z==B||q==I&&A==I&&z==I||q==C&&A==C&&z==C)),b=!b;b&&(G.parentNode&&G.parentNode.removeChild(G),clearTimeout(l),a(f))}function c(){if((new Date).getTime()-u>=r)G.parentNode&&G.parentNode.removeChild(G),d(Error(""+r+"ms timeout exceeded"));else{var a=document.hidden;if(!0===a||void 0===a)q=w.a.offsetWidth,A=t.a.offsetWidth,z=v.a.offsetWidth,n();l=setTimeout(c,50)}}var w=new b(h),t=new b(h),v=new b(h),q=
-1,A=-1,z=-1,B=-1,I=-1,C=-1,G=document.createElement("div");G.dir="ltr";e(w,g(f,"sans-serif"));e(t,g(f,"serif"));e(v,g(f,"monospace"));G.appendChild(w.a);G.appendChild(t.a);G.appendChild(v.a);document.body.appendChild(G);B=w.a.offsetWidth;I=t.a.offsetWidth;C=v.a.offsetWidth;c();m(w,function(a){q=a;n()});e(w,g(f,'"'+f.family+'",sans-serif'));m(t,function(a){A=a;n()});e(t,g(f,'"'+f.family+'",serif'));m(v,function(a){z=a;n()});e(v,g(f,'"'+f.family+'",monospace'))})})};"object"===typeof module?module.exports=
d:(window.FontFaceObserver=d,window.FontFaceObserver.prototype.load=d.prototype.load)})();glMatrixArrayType="undefined"!=typeof Float32Array?Float32Array:"undefined"!=typeof WebGLFloatArray?WebGLFloatArray:Array;
var vec3={create:function(a){var c=new glMatrixArrayType(3);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2]);return c},set:function(a,c){c[0]=a[0];c[1]=a[1];c[2]=a[2];return c},add:function(a,c,b){if(!b||a==b)return a[0]+=c[0],a[1]+=c[1],a[2]+=c[2],a;b[0]=a[0]+c[0];b[1]=a[1]+c[1];b[2]=a[2]+c[2];return b},subtract:function(a,c,b){if(!b||a==b)return a[0]-=c[0],a[1]-=c[1],a[2]-=c[2],a;b[0]=a[0]-c[0];b[1]=a[1]-c[1];b[2]=a[2]-c[2];return b},multiply:function(a,c,b){if(!b||a==b)return a[0]*=c[0],a[1]*=c[1],a[2]*=c[2],
a;b[0]=a[0]*c[0];b[1]=a[1]*c[1];b[2]=a[2]*c[2];return b},negate:function(a,c){c||(c=a);c[0]=-a[0];c[1]=-a[1];c[2]=-a[2];return c},scale:function(a,c,b){if(!b||a==b)return a[0]*=c,a[1]*=c,a[2]*=c,a;b[0]=a[0]*c;b[1]=a[1]*c;b[2]=a[2]*c;return b},normalize:function(a,c){c||(c=a);var b=a[0],e=a[1];a=a[2];var h=Math.sqrt(b*b+e*e+a*a);if(!h)return c[0]=0,c[1]=0,c[2]=0,c;if(1==h)return c[0]=b,c[1]=e,c[2]=a,c;h=1/h;c[0]=b*h;c[1]=e*h;c[2]=a*h;return c},cross:function(a,c,b){b||(b=a);var e=a[0],h=a[1];a=a[2];
var m=c[0],d=c[1];c=c[2];b[0]=h*c-a*d;b[1]=a*m-e*c;b[2]=e*d-h*m;return b},length:function(a){var c=a[0],b=a[1];a=a[2];return Math.sqrt(c*c+b*b+a*a)},dot:function(a,c){return a[0]*c[0]+a[1]*c[1]+a[2]*c[2]},direction:function(a,c,b){b||(b=a);var e=a[0]-c[0],h=a[1]-c[1];a=a[2]-c[2];c=Math.sqrt(e*e+h*h+a*a);if(!c)return b[0]=0,b[1]=0,b[2]=0,b;c=1/c;b[0]=e*c;b[1]=h*c;b[2]=a*c;return b},lerp:function(a,c,b,e){e||(e=a);e[0]=a[0]+b*(c[0]-a[0]);e[1]=a[1]+b*(c[1]-a[1]);e[2]=a[2]+b*(c[2]-a[2]);return e},str:function(a){return"["+
a[0]+", "+a[1]+", "+a[2]+"]"}},mat3={create:function(a){var c=new glMatrixArrayType(9);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[8]=a[8]);return c},set:function(a,c){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];return c},identity:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a},transpose:function(a,c){if(!c||a==c){c=a[1];var b=a[2],e=a[5];a[1]=a[3];a[2]=a[6];a[3]=c;a[5]=a[7];
a[6]=b;a[7]=e;return a}c[0]=a[0];c[1]=a[3];c[2]=a[6];c[3]=a[1];c[4]=a[4];c[5]=a[7];c[6]=a[2];c[7]=a[5];c[8]=a[8];return c},toMat4:function(a,c){c||(c=mat4.create());c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=0;c[4]=a[3];c[5]=a[4];c[6]=a[5];c[7]=0;c[8]=a[6];c[9]=a[7];c[10]=a[8];c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return c},str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+"]"}},mat4={create:function(a){var c=new glMatrixArrayType(16);a&&(c[0]=
a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);return c},set:function(a,c){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];c[9]=a[9];c[10]=a[10];c[11]=a[11];c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15];return c},identity:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;
a[14]=0;a[15]=1;return a},transpose:function(a,c){if(!c||a==c){c=a[1];var b=a[2],e=a[3],h=a[6],m=a[7],d=a[11];a[1]=a[4];a[2]=a[8];a[3]=a[12];a[4]=c;a[6]=a[9];a[7]=a[13];a[8]=b;a[9]=h;a[11]=a[14];a[12]=e;a[13]=m;a[14]=d;return a}c[0]=a[0];c[1]=a[4];c[2]=a[8];c[3]=a[12];c[4]=a[1];c[5]=a[5];c[6]=a[9];c[7]=a[13];c[8]=a[2];c[9]=a[6];c[10]=a[10];c[11]=a[14];c[12]=a[3];c[13]=a[7];c[14]=a[11];c[15]=a[15];return c},determinant:function(a){var c=a[0],b=a[1],e=a[2],h=a[3],m=a[4],d=a[5],w=a[6],n=a[7],t=a[8],
g=a[9],p=a[10],q=a[11],f=a[12],l=a[13],u=a[14];a=a[15];return f*g*w*h-t*l*w*h-f*d*p*h+m*l*p*h+t*d*u*h-m*g*u*h-f*g*e*n+t*l*e*n+f*b*p*n-c*l*p*n-t*b*u*n+c*g*u*n+f*d*e*q-m*l*e*q-f*b*w*q+c*l*w*q+m*b*u*q-c*d*u*q-t*d*e*a+m*g*e*a+t*b*w*a-c*g*w*a-m*b*p*a+c*d*p*a},inverse:function(a,c){c||(c=a);var b=a[0],e=a[1],h=a[2],m=a[3],d=a[4],w=a[5],n=a[6],t=a[7],g=a[8],p=a[9],q=a[10],f=a[11],l=a[12],u=a[13],r=a[14];a=a[15];var v=b*w-e*d,A=b*n-h*d,B=b*t-m*d,z=e*n-h*w,I=e*t-m*w,G=h*t-m*n,J=g*u-p*l,H=g*r-q*l,C=g*a-f*l,
F=p*r-q*u,K=p*a-f*u,y=q*a-f*r,E=1/(v*y-A*K+B*F+z*C-I*H+G*J);c[0]=(w*y-n*K+t*F)*E;c[1]=(-e*y+h*K-m*F)*E;c[2]=(u*G-r*I+a*z)*E;c[3]=(-p*G+q*I-f*z)*E;c[4]=(-d*y+n*C-t*H)*E;c[5]=(b*y-h*C+m*H)*E;c[6]=(-l*G+r*B-a*A)*E;c[7]=(g*G-q*B+f*A)*E;c[8]=(d*K-w*C+t*J)*E;c[9]=(-b*K+e*C-m*J)*E;c[10]=(l*I-u*B+a*v)*E;c[11]=(-g*I+p*B-f*v)*E;c[12]=(-d*F+w*H-n*J)*E;c[13]=(b*F-e*H+h*J)*E;c[14]=(-l*z+u*A-r*v)*E;c[15]=(g*z-p*A+q*v)*E;return c},toRotationMat:function(a,c){c||(c=mat4.create());c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=
a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];c[9]=a[9];c[10]=a[10];c[11]=a[11];c[12]=0;c[13]=0;c[14]=0;c[15]=1;return c},toMat3:function(a,c){c||(c=mat3.create());c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[4];c[4]=a[5];c[5]=a[6];c[6]=a[8];c[7]=a[9];c[8]=a[10];return c},toInverseMat3:function(a,c){var b=a[0],e=a[1],h=a[2],m=a[4],d=a[5],w=a[6],n=a[8],t=a[9];a=a[10];var g=a*d-w*t,p=-a*m+w*n,q=t*m-d*n,f=b*g+e*p+h*q;if(!f)return null;f=1/f;c||(c=mat3.create());c[0]=g*f;c[1]=(-a*e+h*t)*f;c[2]=(w*e-
h*d)*f;c[3]=p*f;c[4]=(a*b-h*n)*f;c[5]=(-w*b+h*m)*f;c[6]=q*f;c[7]=(-t*b+e*n)*f;c[8]=(d*b-e*m)*f;return c},multiply:function(a,c,b){b||(b=a);var e=a[0],h=a[1],m=a[2],d=a[3],w=a[4],n=a[5],t=a[6],g=a[7],p=a[8],q=a[9],f=a[10],l=a[11],u=a[12],r=a[13],v=a[14];a=a[15];var A=c[0],B=c[1],z=c[2],I=c[3],G=c[4],J=c[5],H=c[6],C=c[7],F=c[8],K=c[9],y=c[10],E=c[11],D=c[12],Q=c[13],Z=c[14];c=c[15];b[0]=A*e+B*w+z*p+I*u;b[1]=A*h+B*n+z*q+I*r;b[2]=A*m+B*t+z*f+I*v;b[3]=A*d+B*g+z*l+I*a;b[4]=G*e+J*w+H*p+C*u;b[5]=G*h+J*n+
H*q+C*r;b[6]=G*m+J*t+H*f+C*v;b[7]=G*d+J*g+H*l+C*a;b[8]=F*e+K*w+y*p+E*u;b[9]=F*h+K*n+y*q+E*r;b[10]=F*m+K*t+y*f+E*v;b[11]=F*d+K*g+y*l+E*a;b[12]=D*e+Q*w+Z*p+c*u;b[13]=D*h+Q*n+Z*q+c*r;b[14]=D*m+Q*t+Z*f+c*v;b[15]=D*d+Q*g+Z*l+c*a;return b},multiplyVec3:function(a,c,b){b||(b=c);var e=c[0],h=c[1];c=c[2];b[0]=a[0]*e+a[4]*h+a[8]*c+a[12];b[1]=a[1]*e+a[5]*h+a[9]*c+a[13];b[2]=a[2]*e+a[6]*h+a[10]*c+a[14];return b},multiplyVec4:function(a,c,b){b||(b=c);var e=c[0],h=c[1],m=c[2];c=c[3];b[0]=a[0]*e+a[4]*h+a[8]*m+a[12]*
c;b[1]=a[1]*e+a[5]*h+a[9]*m+a[13]*c;b[2]=a[2]*e+a[6]*h+a[10]*m+a[14]*c;b[3]=a[3]*e+a[7]*h+a[11]*m+a[15]*c;return b},translate:function(a,c,b){var e=c[0],h=c[1];c=c[2];if(!b||a==b)return a[12]=a[0]*e+a[4]*h+a[8]*c+a[12],a[13]=a[1]*e+a[5]*h+a[9]*c+a[13],a[14]=a[2]*e+a[6]*h+a[10]*c+a[14],a[15]=a[3]*e+a[7]*h+a[11]*c+a[15],a;var m=a[0],d=a[1],w=a[2],n=a[3],t=a[4],g=a[5],p=a[6],q=a[7],f=a[8],l=a[9],u=a[10],r=a[11];b[0]=m;b[1]=d;b[2]=w;b[3]=n;b[4]=t;b[5]=g;b[6]=p;b[7]=q;b[8]=f;b[9]=l;b[10]=u;b[11]=r;b[12]=
m*e+t*h+f*c+a[12];b[13]=d*e+g*h+l*c+a[13];b[14]=w*e+p*h+u*c+a[14];b[15]=n*e+q*h+r*c+a[15];return b},scale:function(a,c,b){var e=c[0],h=c[1];c=c[2];if(!b||a==b)return a[0]*=e,a[1]*=e,a[2]*=e,a[3]*=e,a[4]*=h,a[5]*=h,a[6]*=h,a[7]*=h,a[8]*=c,a[9]*=c,a[10]*=c,a[11]*=c,a;b[0]=a[0]*e;b[1]=a[1]*e;b[2]=a[2]*e;b[3]=a[3]*e;b[4]=a[4]*h;b[5]=a[5]*h;b[6]=a[6]*h;b[7]=a[7]*h;b[8]=a[8]*c;b[9]=a[9]*c;b[10]=a[10]*c;b[11]=a[11]*c;b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b},rotate:function(a,c,b,e){var h=
b[0],m=b[1];b=b[2];var d=Math.sqrt(h*h+m*m+b*b);if(!d)return null;1!=d&&(d=1/d,h*=d,m*=d,b*=d);var w=Math.sin(c),n=Math.cos(c),t=1-n;c=a[0];d=a[1];var g=a[2],p=a[3],q=a[4],f=a[5],l=a[6],u=a[7],r=a[8],v=a[9],A=a[10],B=a[11],z=h*h*t+n,I=m*h*t+b*w,G=b*h*t-m*w,J=h*m*t-b*w,H=m*m*t+n,C=b*m*t+h*w,F=h*b*t+m*w;h=m*b*t-h*w;m=b*b*t+n;e?a!=e&&(e[12]=a[12],e[13]=a[13],e[14]=a[14],e[15]=a[15]):e=a;e[0]=c*z+q*I+r*G;e[1]=d*z+f*I+v*G;e[2]=g*z+l*I+A*G;e[3]=p*z+u*I+B*G;e[4]=c*J+q*H+r*C;e[5]=d*J+f*H+v*C;e[6]=g*J+l*H+
A*C;e[7]=p*J+u*H+B*C;e[8]=c*F+q*h+r*m;e[9]=d*F+f*h+v*m;e[10]=g*F+l*h+A*m;e[11]=p*F+u*h+B*m;return e},rotateX:function(a,c,b){var e=Math.sin(c);c=Math.cos(c);var h=a[4],m=a[5],d=a[6],w=a[7],n=a[8],t=a[9],g=a[10],p=a[11];b?a!=b&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]):b=a;b[4]=h*c+n*e;b[5]=m*c+t*e;b[6]=d*c+g*e;b[7]=w*c+p*e;b[8]=h*-e+n*c;b[9]=m*-e+t*c;b[10]=d*-e+g*c;b[11]=w*-e+p*c;return b},rotateY:function(a,c,b){var e=Math.sin(c);c=Math.cos(c);var h=
a[0],m=a[1],d=a[2],w=a[3],n=a[8],t=a[9],g=a[10],p=a[11];b?a!=b&&(b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]):b=a;b[0]=h*c+n*-e;b[1]=m*c+t*-e;b[2]=d*c+g*-e;b[3]=w*c+p*-e;b[8]=h*e+n*c;b[9]=m*e+t*c;b[10]=d*e+g*c;b[11]=w*e+p*c;return b},rotateZ:function(a,c,b){var e=Math.sin(c);c=Math.cos(c);var h=a[0],m=a[1],d=a[2],w=a[3],n=a[4],t=a[5],g=a[6],p=a[7];b?a!=b&&(b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]):b=a;b[0]=
h*c+n*e;b[1]=m*c+t*e;b[2]=d*c+g*e;b[3]=w*c+p*e;b[4]=h*-e+n*c;b[5]=m*-e+t*c;b[6]=d*-e+g*c;b[7]=w*-e+p*c;return b},frustum:function(a,c,b,e,h,m,d){d||(d=mat4.create());var w=c-a,n=e-b,t=m-h;d[0]=2*h/w;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=2*h/n;d[6]=0;d[7]=0;d[8]=(c+a)/w;d[9]=(e+b)/n;d[10]=-(m+h)/t;d[11]=-1;d[12]=0;d[13]=0;d[14]=-(m*h*2)/t;d[15]=0;return d},perspective:function(a,c,b,e,h){a=b*Math.tan(a*Math.PI/360);c*=a;return mat4.frustum(-c,c,-a,a,b,e,h)},ortho:function(a,c,b,e,h,m,d){d||(d=mat4.create());
var w=c-a,n=e-b,t=m-h;d[0]=2/w;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=2/n;d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[10]=-2/t;d[11]=0;d[12]=-(a+c)/w;d[13]=-(e+b)/n;d[14]=-(m+h)/t;d[15]=1;return d},lookAt:function(a,c,b,e){e||(e=mat4.create());var h=a[0],m=a[1];a=a[2];var d=b[0],w=b[1],n=b[2];b=c[1];var t=c[2];if(h==c[0]&&m==b&&a==t)return mat4.identity(e);b=h-c[0];t=m-c[1];c=a-c[2];var g=1/Math.sqrt(b*b+t*t+c*c);b*=g;t*=g;c*=g;var p=w*c-n*t;n=n*b-d*c;d=d*t-w*b;(g=Math.sqrt(p*p+n*n+d*d))?(g=1/g,p*=g,n*=g,d*=g):d=n=p=
0;w=t*d-c*n;var q=c*p-b*d;var f=b*n-t*p;(g=Math.sqrt(w*w+q*q+f*f))?(g=1/g,w*=g,q*=g,f*=g):f=q=w=0;e[0]=p;e[1]=w;e[2]=b;e[3]=0;e[4]=n;e[5]=q;e[6]=t;e[7]=0;e[8]=d;e[9]=f;e[10]=c;e[11]=0;e[12]=-(p*h+n*m+d*a);e[13]=-(w*h+q*m+f*a);e[14]=-(b*h+t*m+c*a);e[15]=1;return e},str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+"]"}};
quat4={create:function(a){var c=new glMatrixArrayType(4);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3]);return c},set:function(a,c){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];return c},calculateW:function(a,c){var b=a[0],e=a[1],h=a[2];if(!c||a==c)return a[3]=-Math.sqrt(Math.abs(1-b*b-e*e-h*h)),a;c[0]=b;c[1]=e;c[2]=h;c[3]=-Math.sqrt(Math.abs(1-b*b-e*e-h*h));return c},inverse:function(a,c){if(!c||a==c)return a[0]*=-1,a[1]*=-1,a[2]*=-1,a;c[0]=-a[0];c[1]=-a[1];c[2]=-a[2];c[3]=a[3];return c},length:function(a){var c=
a[0],b=a[1],e=a[2];a=a[3];return Math.sqrt(c*c+b*b+e*e+a*a)},normalize:function(a,c){c||(c=a);var b=a[0],e=a[1],h=a[2];a=a[3];var m=Math.sqrt(b*b+e*e+h*h+a*a);if(0==m)return c[0]=0,c[1]=0,c[2]=0,c[3]=0,c;m=1/m;c[0]=b*m;c[1]=e*m;c[2]=h*m;c[3]=a*m;return c},multiply:function(a,c,b){b||(b=a);var e=a[0],h=a[1],m=a[2];a=a[3];var d=c[0],w=c[1],n=c[2];c=c[3];b[0]=e*c+a*d+h*n-m*w;b[1]=h*c+a*w+m*d-e*n;b[2]=m*c+a*n+e*w-h*d;b[3]=a*c-e*d-h*w-m*n;return b},multiplyVec3:function(a,c,b){b||(b=c);var e=c[0],h=c[1],
m=c[2];c=a[0];var d=a[1],w=a[2];a=a[3];var n=a*e+d*m-w*h,t=a*h+w*e-c*m,g=a*m+c*h-d*e;e=-c*e-d*h-w*m;b[0]=n*a+e*-c+t*-w-g*-d;b[1]=t*a+e*-d+g*-c-n*-w;b[2]=g*a+e*-w+n*-d-t*-c;return b},toMat3:function(a,c){c||(c=mat3.create());var b=a[0],e=a[1],h=a[2],m=a[3],d=b+b,w=e+e,n=h+h;a=b*d;var t=b*w;b*=n;var g=e*w;e*=n;h*=n;d*=m;w*=m;m*=n;c[0]=1-(g+h);c[1]=t-m;c[2]=b+w;c[3]=t+m;c[4]=1-(a+h);c[5]=e-d;c[6]=b-w;c[7]=e+d;c[8]=1-(a+g);return c},toMat4:function(a,c){c||(c=mat4.create());var b=a[0],e=a[1],h=a[2],m=
a[3],d=b+b,w=e+e,n=h+h;a=b*d;var t=b*w;b*=n;var g=e*w;e*=n;h*=n;d*=m;w*=m;m*=n;c[0]=1-(g+h);c[1]=t-m;c[2]=b+w;c[3]=0;c[4]=t+m;c[5]=1-(a+h);c[6]=e-d;c[7]=0;c[8]=b-w;c[9]=e+d;c[10]=1-(a+g);c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return c},slerp:function(a,c,b,e){e||(e=a);var h=a[0]*c[0]+a[1]*c[1]+a[2]*c[2]+a[3]*c[3];if(1<=Math.abs(h))return e!=a&&(e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3]),e;var m=Math.acos(h),d=Math.sqrt(1-h*h);if(.001>Math.abs(d))return e[0]=.5*a[0]+.5*c[0],e[1]=.5*a[1]+.5*c[1],e[2]=
.5*a[2]+.5*c[2],e[3]=.5*a[3]+.5*c[3],e;h=Math.sin((1-b)*m)/d;b=Math.sin(b*m)/d;e[0]=a[0]*h+c[0]*b;e[1]=a[1]*h+c[1]*b;e[2]=a[2]*h+c[2]*b;e[3]=a[3]*h+c[3]*b;return e},str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+"]"}};var jsfeat=jsfeat||{REVISION:"ALPHA"};
(function(a){var c=new Int32Array([-1,1,4,-1,4,-1,-1,-1,8,-1,-1,-1,-1,-1,-1,-1,8]),b=function(){return function(a){return a&65280}}(),e=function(){return function(a){return a&255}}(),h=function(){return function(a){return c[(a&65280)>>8]}}(),m=function(){return function(a,b){this.size=(a+7|0)&-8;"undefined"===typeof b?this.buffer=new ArrayBuffer(this.size):(this.buffer=b,this.size=b.length);this.u8=new Uint8Array(this.buffer);this.i32=new Int32Array(this.buffer);this.f32=new Float32Array(this.buffer);
this.f64=new Float64Array(this.buffer)}}(),d=function(){function a(a,d,h,f){this.type=b(h)|0;this.channel=e(h)|0;this.cols=a|0;this.rows=d|0;"undefined"===typeof f?this.allocate():(this.buffer=f,this.data=this.type&256?this.buffer.u8:this.type&512?this.buffer.i32:this.type&1024?this.buffer.f32:this.buffer.f64)}a.prototype.allocate=function(){delete this.data;delete this.buffer;this.buffer=new m(this.cols*h(this.type)*this.channel*this.rows);this.data=this.type&256?this.buffer.u8:this.type&512?this.buffer.i32:
this.type&1024?this.buffer.f32:this.buffer.f64};a.prototype.copy_to=function(a){a=a.data;for(var b=this.data,d=0,f=this.cols*this.rows*this.channel|0;d<f-4;d+=4)a[d]=b[d],a[d+1]=b[d+1],a[d+2]=b[d+2],a[d+3]=b[d+3];for(;d<f;++d)a[d]=b[d]};a.prototype.resize=function(a,b,d){"undefined"===typeof d&&(d=this.channel);a*h(this.type)*d*b>this.buffer.size?(this.cols=a,this.rows=b,this.channel=d,this.allocate()):(this.cols=a,this.rows=b,this.channel=d)};return a}(),w=function(){function a(a){this.levels=a|
0;this.data=Array(a);this.pyrdown=jsfeat.imgproc.pyrdown}a.prototype.allocate=function(a,b,h){for(var f=this.levels;0<=--f;)this.data[f]=new d(a>>f,b>>f,h)};a.prototype.build=function(a,b){"undefined"===typeof b&&(b=!0);var d=2,f=this.data[0];if(!b)for(b=a.cols*a.rows;0<=--b;)f.data[b]=a.data[b];f=this.data[1];for(this.pyrdown(a,f);d<this.levels;++d)a=f,f=this.data[d],this.pyrdown(a,f)};return a}(),n=function(){return function(a,b,d,h,f){"undefined"===typeof a&&(a=0);"undefined"===typeof b&&(b=0);
"undefined"===typeof d&&(d=0);"undefined"===typeof h&&(h=0);"undefined"===typeof f&&(f=-1);this.x=a;this.y=b;this.score=d;this.level=h;this.angle=f}}();a.U8_t=256;a.S32_t=512;a.F32_t=1024;a.S64_t=2048;a.F64_t=4096;a.C1_t=1;a.C2_t=2;a.C3_t=3;a.C4_t=4;a.U8C1_t=257;a.U8C3_t=259;a.U8C4_t=260;a.F32C1_t=1025;a.F32C2_t=1026;a.S32C1_t=513;a.S32C2_t=514;a.EPSILON=1.192092896E-7;a.FLT_MIN=1E-37;a.COLOR_RGBA2GRAY=0;a.COLOR_RGB2GRAY=1;a.COLOR_BGRA2GRAY=2;a.COLOR_BGR2GRAY=3;a.BOX_BLUR_NOSCALE=1;a.SVD_U_T=1;a.SVD_V_T=
2;a.get_data_type=b;a.get_channel=e;a.get_data_type_size=h;a.data_t=m;a.matrix_t=d;a.pyramid_t=w;a.keypoint_t=n})(jsfeat);
(function(a){var c=function(){var a=function(){function a(a){this.next=null;this.data=new jsfeat.data_t(a);this.size=this.data.size;this.buffer=this.data.buffer;this.u8=this.data.u8;this.i32=this.data.i32;this.f32=this.data.f32;this.f64=this.data.f64}a.prototype.resize=function(a){delete this.data;this.data=new jsfeat.data_t(a);this.size=this.data.size;this.buffer=this.data.buffer;this.u8=this.data.u8;this.i32=this.data.i32;this.f32=this.data.f32;this.f64=this.data.f64};return a}(),e,h,m=0;return{allocate:function(b,
c){e=h=new a(c);for(var d=0;d<b;++d){var w=new a(c);h=h.next=w;m++}},get_buffer:function(a){var b=e;e=e.next;m--;a>b.size&&b.resize(a);return b},put_buffer:function(a){h=h.next=a;m++}}}();a.cache=c;c.allocate(30,2560)})(jsfeat);
(function(a){var c=function(){var a=new Int32Array(96);return{get_gaussian_kernel:function(a,b,m,d){var h=0,e=0,c=jsfeat.cache.get_buffer(a<<2),g=c.f32;if(1==(a&1)&&7>=a&&0>=b)switch(a>>1){case 0:e=g[0]=1;break;case 1:g[0]=.25;g[1]=.5;g[2]=.25;e=1;break;case 2:g[0]=.0625;g[1]=.25;g[2]=.375;g[3]=.25;g[4]=.0625;e=1;break;case 3:g[0]=.03125,g[1]=.109375,g[2]=.21875,g[3]=.28125,g[4]=.21875,g[5]=.109375,g[6]=.03125,e=1}else for(b=0<b?b:.3*(.5*(a-1)-1)+.8,b=-.5/(b*b);h<a;++h){var p=h-.5*(a-1);p=Math.exp(b*
p*p);g[h]=p;e+=p}if(d&jsfeat.U8_t)for(e=256/e,h=0;h<a;++h)m[h]=g[h]*e+.5|0;else for(e=1/e,h=0;h<a;++h)m[h]=g[h]*e;jsfeat.cache.put_buffer(c)},perspective_4point_transform:function(a,b,m,d,c,n,t,g,p,q,f,l,u,r,v,A,B){var h=b,e=q;q=h*e*t;var w=v;v=h*w;b=e*v;var J=f;f=h*J;var H=n,C=m,F=r,K=C*F;r=K*H;var y=F*H*J,E=F*t,D=F*J,Q=e*t,Z=w*e,N=w*H,aa=J*H,fa=1/(E-D-Q+Z-N+aa),ca=h*F;m=C*H;var T=t*h,V=w*T;F=C*e;var O=K*J;n=C*J*H;var R=t*w*e;w*=C;var S=-(b-q+f*H-H*v-K*e+r-y+E*e)*fa,da=(q-b-ca*t+ca*J+r-e*m+N*e-y)*
fa,ja=h,ka=(-J*v+V+F*t-K*t+O-n+N*J-R)*fa,X=(-V+T*J-w*e+O-n+w*H+R-E*J)*fa,Y=C,W=(-f+T+F-m+D-E-Z+N)*fa,ha=(-v+f+K-F+N-aa-E+Q)*fa;h=d;e=l;t=p;q=h*e*t;w=B;v=h*w;b=e*v;J=u;f=h*J;H=g;C=c;F=A;K=C*F;r=K*H;y=F*H*J;E=F*t;D=F*J;Q=e*t;Z=w*e;N=w*H;aa=J*H;fa=1/(E-D-Q+Z-N+aa);ca=h*F;m=C*H;T=t*h;V=w*T;F=C*e;O=K*J;n=C*J*H;R=t*w*e;w*=C;d=-(b-q+f*H-H*v-K*e+r-y+E*e)*fa;c=(q-b-ca*t+ca*J+r-e*m+N*e-y)*fa;g=(-J*v+V+F*t-K*t+O-n+N*J-R)*fa;e=(-V+T*J-w*e+O-n+w*H+R-E*J)*fa;p=C;l=(-f+T+F-m+D-E-Z+N)*fa;u=(-v+f+K-F+N-aa-E+Q)*fa;
t=S*X;q=S*Y;v=ka*da;b=ja*ka;f=da*W;m=ja*W;F=1/(t-q*ha-v+b*ha+f*Y-m*X);r=-ka+Y*W;ka=-ka*ha+X*W;W=S-m;m=S*ha-f;q-=b;t-=v;n=(X-ha*Y)*F;v=(-da+ja*ha)*F;b=(-da*Y+ja*X)*F;a=a.data;a[0]=d*n+c*r*F-h*ka*F;a[1]=d*v+c*W*F-h*m*F;a[2]=-d*b-c*q*F+h*t*F;a[3]=g*n+e*r*F-p*ka*F;a[4]=g*v+e*W*F-p*m*F;a[5]=-g*b-e*q*F+p*t*F;a[6]=l*n+u*r*F-ka*F;a[7]=l*v+u*W*F-m*F;a[8]=-l*b-u*q*F+t*F},qsort:function(b,h,m,d){var e=0,n,c;if(!(1>=m-h+1))for(a[0]=h,a[1]=m;0<=e;)for(h=a[e<<1],m=a[(e<<1)+1],e--;;){var g=m-h+1;if(7>=g){for(n=
h+1;n<=m;n++)for(c=n;c>h&&d(b[c],b[c-1]);c--){var p=b[c];b[c]=b[c-1];b[c-1]=p}break}else{var q=0;n=h;c=m;var f=h+(g>>1);if(40<g){var l=g>>3;var u=h;var r=h+l;var v=h+(l<<1);g=b[u];p=b[r];var A=b[v];h=d(g,p)?d(p,A)?r:d(g,A)?v:u:d(A,p)?r:d(g,A)?u:v;u=f-l;r=f;v=f+l;g=b[u];p=b[r];A=b[v];f=d(g,p)?d(p,A)?r:d(g,A)?v:u:d(A,p)?r:d(g,A)?u:v;u=m-(l<<1);r=m-l;v=m;g=b[u];p=b[r];A=b[v];m=d(g,p)?d(p,A)?r:d(g,A)?v:u:d(A,p)?r:d(g,A)?u:v}u=h;r=f;v=m;g=b[u];p=b[r];A=b[v];f=d(g,p)?d(p,A)?r:d(g,A)?v:u:d(A,p)?r:d(g,A)?
u:v;f!=n&&(p=b[f],b[f]=b[n],b[n]=p,f=n);h=A=n+1;m=l=c;for(g=b[f];;){for(;h<=m&&!d(g,b[h]);)d(b[h],g)||(h>A&&(p=b[A],b[A]=b[h],b[h]=p),q=1,A++),h++;for(;h<=m&&!d(b[m],g);)d(g,b[m])||(m<l&&(p=b[l],b[l]=b[m],b[m]=p),q=1,l--),m--;if(h>m)break;p=b[h];b[h]=b[m];b[m]=p;q=1;h++;m--}if(0==q){h=n;m=c;for(n=h+1;n<=m;n++)for(c=n;c>h&&d(b[c],b[c-1]);c--)p=b[c],b[c]=b[c-1],b[c-1]=p;break}g=Math.min(A-n,h-A);q=h-g|0;for(f=0;f<g;++f,++q)p=b[n+f],b[n+f]=b[q],b[q]=p;g=Math.min(c-l,l-m);q=c-g+1|0;for(f=0;f<g;++f,++q)p=
b[h+f],b[h+f]=b[q],b[q]=p;g=h-A;q=l-m;if(1<g)1<q?g>q?(++e,a[e<<1]=n,a[(e<<1)+1]=n+g-1,h=c-q+1,m=c):(++e,a[e<<1]=c-q+1,a[(e<<1)+1]=c,h=n,m=n+g-1):(h=n,m=n+g-1);else if(1<q)h=c-q+1,m=c;else break}}},median:function(a,b,m){for(var d,h,e,c=b+m>>1;;){if(m<=b)return a[c];if(m==b+1)return a[b]>a[m]&&(d=a[b],a[b]=a[m],a[m]=d),a[c];h=b+m>>1;a[h]>a[m]&&(d=a[h],a[h]=a[m],a[m]=d);a[b]>a[m]&&(d=a[b],a[b]=a[m],a[m]=d);a[h]>a[b]&&(d=a[h],a[h]=a[b],a[b]=d);e=b+1;d=a[h];a[h]=a[e];a[e]=d;for(h=m;;){do++e;while(a[b]>
a[e]);do--h;while(a[h]>a[b]);if(h<e)break;d=a[e];a[e]=a[h];a[h]=d}d=a[b];a[b]=a[h];a[h]=d;h<=c?b=e:h>=c&&(m=h-1)}}}}();a.math=c})(jsfeat);
(function(a){var c=function(){return{identity:function(a,e){"undefined"===typeof e&&(e=1);var b=a.data,m=a.cols,d=m+1|0;for(m=a=a.rows*m;0<=--a;)b[a]=0;a=m;for(m=0;m<a;)b[m]=e,m+=d},transpose:function(a,e){var b=0,m=e.rows,d=e.cols,c=0,n=0;e=e.data;for(var t=a.data;b<m;n+=1,c+=d,b++){var g=n;for(a=0;a<d;g+=m,a++)t[g]=e[c+a]}},multiply:function(a,e,h){var b=0,d,c=0,n,t=0,g=e.cols,p=e.rows,q=h.cols;e=e.data;h=h.data;for(var f=a.data,l;b<p;c+=g,b++)for(a=n=0;a<q;t++,n++,a++){var u=n;var r=c;for(d=l=
0;d<g;r++,u+=q,d++)l+=e[r]*h[u];f[t]=l}},multiply_ABt:function(a,e,h){var b=0,d,c=0,n,t=0,g=e.cols,p=e.rows,q=h.rows;e=e.data;h=h.data;for(var f=a.data,l;b<p;c+=g,b++)for(a=n=0;a<q;t++,a++){var u=c;for(d=l=0;d<g;u++,n++,d++)l+=e[u]*h[n];f[t]=l}},multiply_AtB:function(a,e,h){var b=0,d,c=0,n,t=0,g=e.cols,p=e.rows,q=h.cols;e=e.data;h=h.data;for(var f=a.data,l;b<g;c++,b++)for(a=n=0;a<q;t++,n++,a++){var u=n;var r=c;for(d=l=0;d<p;r+=g,u+=q,d++)l+=e[r]*h[u];f[t]=l}},multiply_AAt:function(a,e){var b=0,m,
d=0,c=0,n=0,t,g=e.cols,p=e.rows;e=e.data;for(var q=a.data,f;b<p;d+=p+1,c=n,b++){var l=t=d;var u=c;for(a=b;a<p;t++,l+=p,a++){n=c;for(m=f=0;m<g;m++)f+=e[n++]*e[u++];q[t]=f;q[l]=f}}},multiply_AtA:function(a,e){var b=0,m,d=0,c,n=e.cols,t=e.rows;e=e.data;for(var g=a.data,p;b<n;d+=n,b++){var q=b;var f=c=d+b;for(a=b;a<n;f++,c+=n,a++){var l=q;var u=a;for(m=p=0;m<t;l+=n,u+=n,m++)p+=e[l]*e[u];g[f]=p;g[c]=p}}},identity_3x3:function(a,e){"undefined"===typeof e&&(e=1);a=a.data;a[0]=a[4]=a[8]=e;a[1]=a[2]=a[3]=
0;a[5]=a[6]=a[7]=0},invert_3x3:function(a,e){var b=a.data;e=e.data;a=b[4];var m=b[8],d=b[5],c=b[7],n=b[0],t=n*a,g=n*d,p=b[3],q=b[1],f=p*q,l=b[2],u=p*l;b=b[6];var r=b*q,v=b*l,A=1/(t*m-g*c-f*m+u*c+r*d-v*a);e[0]=(a*m-d*c)*A;e[1]=-(q*m-l*c)*A;e[2]=-(-q*d+l*a)*A;e[3]=-(p*m-d*b)*A;e[4]=(n*m-v)*A;e[5]=-(g-u)*A;e[6]=-(-p*c+a*b)*A;e[7]=-(n*c-r)*A;e[8]=(t-f)*A},multiply_3x3:function(a,e,h){a=a.data;var b=e.data,d=h.data;h=b[0];e=b[1];var c=b[2],n=b[3],t=b[4],g=b[5],p=b[6],q=b[7];b=b[8];var f=d[0],l=d[1],u=
d[2],r=d[3],v=d[4],A=d[5],B=d[6],z=d[7];d=d[8];a[0]=h*f+e*r+c*B;a[1]=h*l+e*v+c*z;a[2]=h*u+e*A+c*d;a[3]=n*f+t*r+g*B;a[4]=n*l+t*v+g*z;a[5]=n*u+t*A+g*d;a[6]=p*f+q*r+b*B;a[7]=p*l+q*v+b*z;a[8]=p*u+q*A+b*d},mat3x3_determinant:function(a){a=a.data;return a[0]*a[4]*a[8]-a[0]*a[5]*a[7]-a[3]*a[1]*a[8]+a[3]*a[2]*a[7]+a[6]*a[1]*a[5]-a[6]*a[2]*a[4]},determinant_3x3:function(a,e,h,m,d,c,n,t,g){return a*d*g-a*c*t-m*e*g+m*h*t+n*e*c-n*h*d}}}();a.matmath=c})(jsfeat);
(function(a){var c=function(){var a=function(a,b,d,e){e=a[b];a[b]=a[d];a[d]=e},e=function(a,b){a=Math.abs(a);b=Math.abs(b);return a>b?(b/=a,a*Math.sqrt(1+b*b)):0<b?(a/=b,b*Math.sqrt(1+a*a)):0};return{lu_solve:function(b,m){var d,h=b.cols;b=b.data;var e=m.data;for(m=0;m<h;m++){var c=m;for(d=m+1;d<h;d++)Math.abs(b[d*h+m])>Math.abs(b[c*h+m])&&(c=d);if(Math.abs(b[c*h+m])<jsfeat.EPSILON)return 0;if(c!=m){for(d=m;d<h;d++)a(b,m*h+d,c*h+d,void 0);a(e,m,c,void 0)}var g=-1/b[m*h+m];for(d=m+1;d<h;d++){var p=
b[d*h+m]*g;for(c=m+1;c<h;c++)b[d*h+c]+=p*b[m*h+c];e[d]+=p*e[m]}b[m*h+m]=-g}for(m=h-1;0<=m;m--){d=e[m];for(c=m+1;c<h;c++)d-=b[m*h+c]*e[c];e[m]=d*b[m*h+m]}return 1},cholesky_solve:function(a,b){var d,h,m,e=a.cols;a=a.data;var g=b.data;for(d=0;d<e;d++){var c=1;var q=b=d*e;for(h=d;h<e;h++){var f=a[q+d];for(m=0;m<d;m++)f-=a[m*e+d]*a[q+m];if(h==d){a[q+d]=f;if(0==f)return 0;c=1/f}else a[b+h]=f,a[q+d]=f*c;q+=e}}for(d=b=0;d<e;d++){f=g[d];for(h=0;h<d;h++)f-=a[b+h]*g[h];g[d]=f;b+=e}for(d=b=0;d<e;d++)g[d]/=a[b+
d],b+=e;for(d=e-1;0<=d;d--){f=g[d];h=d+1;for(b=h*e;h<e;h++)f-=a[b+d]*g[h],b+=e;g[d]=f}return 1},svd_decompose:function(b,m,d,c,n){"undefined"===typeof n&&(n=0);var h=0,g=b.rows,p=b.cols,q=g,f=p,l=b.type|jsfeat.C1_t;if(q<f){h=1;var u=q;q=f;f=u}var r=jsfeat.cache.get_buffer(q*q<<3),v=jsfeat.cache.get_buffer(f<<3),w=jsfeat.cache.get_buffer(f*f<<3),B=new jsfeat.matrix_t(q,q,l,r.data),z=new jsfeat.matrix_t(1,f,l,v.data);l=new jsfeat.matrix_t(f,f,l,w.data);if(0==h)jsfeat.matmath.transpose(B,b);else{for(u=
0;u<p*g;u++)B.data[u]=b.data[u];for(;u<f*q;u++)B.data[u]=0}b=B.data;u=q;var I=z.data,G=l.data,J=f;g=q;for(var H=f,C=q,F=2*jsfeat.EPSILON,K=jsfeat.FLT_MIN,y=0,E,D,Q=0,Z=Math.max(g,30),N,aa,fa,ca,T,V=0,O,R,S=0,da,ja,ka=4660,X=jsfeat.cache.get_buffer(H<<3),Y=X.f64;y<H;y++){for(S=D=0;D<g;D++)V=b[y*u+D],S+=V*V;Y[y]=S;if(G){for(D=0;D<H;D++)G[y*J+D]=0;G[y*J+y]=1}}for(;Q<Z;Q++){for(y=fa=0;y<H-1;y++)for(E=y+1;E<H;E++){N=y*u|0;aa=E*u|0;da=Y[y];O=0;ja=Y[E];D=2;O+=b[N]*b[aa];for(O+=b[N+1]*b[aa+1];D<g;D++)O+=
b[N+D]*b[aa+D];if(!(Math.abs(O)<=F*Math.sqrt(da*ja))){O*=2;ca=da-ja;D=e(O,ca);0>ca?(ca=.5*(D-ca),T=Math.sqrt(ca/D),ca=O/(D*T*2)):(ca=Math.sqrt((D+ca)/(2*D)),T=O/(D*ca*2));ja=da=0;D=2;O=ca*b[N]+T*b[aa];R=-T*b[N]+ca*b[aa];b[N]=O;b[aa]=R;da+=O*O;ja+=R*R;O=ca*b[N+1]+T*b[aa+1];R=-T*b[N+1]+ca*b[aa+1];b[N+1]=O;b[aa+1]=R;da+=O*O;for(ja+=R*R;D<g;D++)O=ca*b[N+D]+T*b[aa+D],R=-T*b[N+D]+ca*b[aa+D],b[N+D]=O,b[aa+D]=R,da+=O*O,ja+=R*R;Y[y]=da;Y[E]=ja;fa=1;if(G)for(N=y*J|0,aa=E*J|0,D=2,O=ca*G[N]+T*G[aa],R=-T*G[N]+
ca*G[aa],G[N]=O,G[aa]=R,O=ca*G[N+1]+T*G[aa+1],R=-T*G[N+1]+ca*G[aa+1],G[N+1]=O,G[aa+1]=R;D<H;D++)O=ca*G[N+D]+T*G[aa+D],R=-T*G[N+D]+ca*G[aa+D],G[N+D]=O,G[aa+D]=R}}if(0==fa)break}for(y=0;y<H;y++){for(S=D=0;D<g;D++)V=b[y*u+D],S+=V*V;Y[y]=Math.sqrt(S)}for(y=0;y<H-1;y++){E=y;for(D=y+1;D<H;D++)Y[E]<Y[D]&&(E=D);if(y!=E&&(a(Y,y,E,S),G)){for(D=0;D<g;D++)a(b,y*u+D,E*u+D,V);for(D=0;D<H;D++)a(G,y*J+D,E*J+D,V)}}for(y=0;y<H;y++)I[y]=Y[y];if(G)for(y=0;y<C;y++){for(S=y<H?Y[y]:0;S<=K;){Q=1/g;for(D=0;D<g;D++)ka=214013*
ka+2531011,E=0!=(ka>>16&256)?Q:-Q,b[y*u+D]=E;for(Q=0;2>Q;Q++)for(E=0;E<y;E++){for(D=S=0;D<g;D++)S+=b[y*u+D]*b[E*u+D];for(D=I=0;D<g;D++)V=b[y*u+D]-S*b[E*u+D],b[y*u+D]=V,I+=Math.abs(V);I=I?1/I:0;for(D=0;D<g;D++)b[y*u+D]*=I}for(D=S=0;D<g;D++)V=b[y*u+D],S+=V*V;S=Math.sqrt(S)}T=1/S;for(D=0;D<g;D++)b[y*u+D]*=T}jsfeat.cache.put_buffer(X);if(m){for(u=0;u<f;u++)m.data[u]=z.data[u];for(;u<p;u++)m.data[u]=0}if(0==h){if(d&&n&jsfeat.SVD_U_T)for(u=q*q;0<=--u;)d.data[u]=B.data[u];else d&&jsfeat.matmath.transpose(d,
B);if(c&&n&jsfeat.SVD_V_T)for(u=f*f;0<=--u;)c.data[u]=l.data[u];else c&&jsfeat.matmath.transpose(c,l)}else{if(d&&n&jsfeat.SVD_U_T)for(u=f*f;0<=--u;)d.data[u]=l.data[u];else d&&jsfeat.matmath.transpose(d,l);if(c&&n&jsfeat.SVD_V_T)for(u=q*q;0<=--u;)c.data[u]=B.data[u];else c&&jsfeat.matmath.transpose(c,B)}jsfeat.cache.put_buffer(r);jsfeat.cache.put_buffer(v);jsfeat.cache.put_buffer(w)},svd_solve:function(a,b,d){var h=0,m=0,e=a.rows,g=a.cols,c,q,f=a.type|jsfeat.C1_t,l=jsfeat.cache.get_buffer(e*e<<3),
u=jsfeat.cache.get_buffer(g<<3),r=jsfeat.cache.get_buffer(g*g<<3);var v=new jsfeat.matrix_t(e,e,f,l.data);var A=new jsfeat.matrix_t(1,g,f,u.data);var B=new jsfeat.matrix_t(g,g,f,r.data);d=d.data;f=v.data;var z=A.data,I=B.data;this.svd_decompose(a,A,v,B,0);for(q=jsfeat.EPSILON*z[0]*g;h<g;h++,m+=g){for(a=c=0;a<g;a++)if(z[a]>q){for(A=B=v=0;v<e;v++,A+=g)B+=f[A+a]*d[v];c+=B*I[m+a]/z[a]}b.data[h]=c}jsfeat.cache.put_buffer(l);jsfeat.cache.put_buffer(u);jsfeat.cache.put_buffer(r)},svd_invert:function(a,b){var d=
0,h=0,e=0,m=b.rows,g=b.cols,c,q=b.type|jsfeat.C1_t,f=jsfeat.cache.get_buffer(m*m<<3),l=jsfeat.cache.get_buffer(g<<3),u=jsfeat.cache.get_buffer(g*g<<3);var r=new jsfeat.matrix_t(m,m,q,f.data);var v=new jsfeat.matrix_t(1,g,q,l.data);var A=new jsfeat.matrix_t(g,g,q,u.data);a=a.data;q=r.data;var B=v.data,z=A.data;this.svd_decompose(b,v,r,A,0);for(c=jsfeat.EPSILON*B[0]*g;d<g;d++,h+=g)for(v=b=0;b<m;b++,e++){for(A=r=0;r<g;r++,v++)B[r]>c&&(A+=z[h+r]*q[v]/B[r]);a[e]=A}jsfeat.cache.put_buffer(f);jsfeat.cache.put_buffer(l);
jsfeat.cache.put_buffer(u)},eigenVV:function(b,m,d){var h=b.cols,c=h*h,t=b.type|jsfeat.C1_t,g=jsfeat.cache.get_buffer(h*h<<3),p=jsfeat.cache.get_buffer(h<<3),q=new jsfeat.matrix_t(h,h,t,g.data);for(t=new jsfeat.matrix_t(1,h,t,p.data);0<=--c;)q.data[c]=b.data[c];b=q.data;c=h;q=t.data;m=m?m.data:null;var f=h,l=h,u=jsfeat.EPSILON,r=0,v,A=0,B=l*l*30,z=0,I=jsfeat.cache.get_buffer(l<<2),G=jsfeat.cache.get_buffer(l<<2),J=I.i32,H=G.i32;if(m)for(;r<l;r++){var C=r*f;for(v=0;v<l;v++)m[C+v]=0;m[C+r]=1}for(C=
0;C<l;C++){q[C]=b[(c+1)*C];if(C<l-1){var F=C+1;z=Math.abs(b[c*C+F]);for(r=C+2;r<l;r++){var K=Math.abs(b[c*C+r]);z<K&&(z=K,F=r)}J[C]=F}if(0<C){F=0;z=Math.abs(b[C]);for(r=1;r<C;r++)K=Math.abs(b[c*r+C]),z<K&&(z=K,F=r);H[C]=F}}if(1<l)for(;A<B;A++){C=0;z=Math.abs(b[J[0]]);for(r=1;r<l-1;r++)K=Math.abs(b[c*r+J[r]]),z<K&&(z=K,C=r);var y=J[C];for(r=1;r<l;r++)K=Math.abs(b[c*H[r]+r]),z<K&&(z=K,C=H[r],y=r);r=b[c*C+y];if(Math.abs(r)<=u)break;var E=.5*(q[y]-q[C]);K=Math.abs(E)+e(r,E);v=e(r,K);F=K/v;v=r/v;K=r/K*
r;0>E&&(v=-v,K=-K);b[c*C+y]=0;q[C]-=K;q[y]+=K;for(r=0;r<C;r++){E=c*r+C;K=c*r+y;var D=b[E];var Q=b[K];b[E]=D*F-Q*v;b[K]=D*v+Q*F}for(r=C+1;r<y;r++)E=c*C+r,K=c*r+y,D=b[E],Q=b[K],b[E]=D*F-Q*v,b[K]=D*v+Q*F;r=y+1;E=c*C+r;for(K=c*y+r;r<l;r++,E++,K++)D=b[E],Q=b[K],b[E]=D*F-Q*v,b[K]=D*v+Q*F;if(m)for(E=f*C,K=f*y,r=0;r<l;r++,E++,K++)D=m[E],Q=m[K],m[E]=D*F-Q*v,m[K]=D*v+Q*F;for(v=0;2>v;v++){E=0==v?C:y;if(E<l-1){F=E+1;z=Math.abs(b[c*E+F]);for(r=E+2;r<l;r++)K=Math.abs(b[c*E+r]),z<K&&(z=K,F=r);J[E]=F}if(0<E){F=0;
z=Math.abs(b[E]);for(r=1;r<E;r++)K=Math.abs(b[c*r+E]),z<K&&(z=K,F=r);H[E]=F}}}for(C=0;C<l-1;C++){F=C;for(r=C+1;r<l;r++)q[F]<q[r]&&(F=r);if(C!=F&&(a(q,F,C,z),m))for(r=0;r<l;r++)a(m,f*F+r,f*C+r,z)}jsfeat.cache.put_buffer(I);jsfeat.cache.put_buffer(G);if(d)for(;0<=--h;)d.data[h]=t.data[h];jsfeat.cache.put_buffer(g);jsfeat.cache.put_buffer(p)}}}();a.linalg=c})(jsfeat);
(function(a){var c=function(){var a=new jsfeat.matrix_t(3,3,jsfeat.F32_t|jsfeat.C1_t),b=new jsfeat.matrix_t(3,3,jsfeat.F32_t|jsfeat.C1_t),d=new jsfeat.matrix_t(6,6,jsfeat.F32_t|jsfeat.C1_t),e=new jsfeat.matrix_t(6,1,jsfeat.F32_t|jsfeat.C1_t),c=function(){function h(){}h.prototype.run=function(f,l,h,m){for(var c=0,g,r=h.type|jsfeat.C1_t,n=h.data,u=a.data,p=b.data,q,t,w=0,F=0,K=0,y=0,E=0,D=q=0;w<m;++w)F+=f[w].x,K+=f[w].y,E+=l[w].x,q+=l[w].y;F/=m;K/=m;E/=m;q/=m;for(w=0;w<m;++w)g=f[w].x-F,t=f[w].y-K,
y+=Math.sqrt(g*g+t*t),g=l[w].x-E,t=l[w].y-q,D+=Math.sqrt(g*g+t*t);w=Math.SQRT2/(y/m);D=Math.SQRT2/(D/m);u[0]=u[4]=w;u[2]=-F*w;u[5]=-K*w;u[1]=u[3]=u[6]=u[7]=0;u[8]=1;p[0]=p[4]=D;p[2]=-E*D;p[5]=-q*D;p[1]=p[3]=p[6]=p[7]=0;p[8]=1;F=jsfeat.cache.get_buffer(12*m<<3);K=jsfeat.cache.get_buffer(2*m<<3);E=new jsfeat.matrix_t(6,2*m,r,F.data);D=new jsfeat.matrix_t(1,2*m,r,K.data);w=E.data;for(y=D.data;c<m;++c)g=f[c],r=l[c],q=u[0]*g.x+u[1]*g.y+u[2],t=u[3]*g.x+u[4]*g.y+u[5],g=12*c,w[g]=q,w[g+1]=t,w[g+2]=1,w[g+
3]=0,w[g+4]=0,w[g+5]=0,g+=6,w[g]=0,w[g+1]=0,w[g+2]=0,w[g+3]=q,w[g+4]=t,w[g+5]=1,y[c<<1]=p[0]*r.x+p[1]*r.y+p[2],y[(c<<1)+1]=p[3]*r.x+p[4]*r.y+p[5];jsfeat.matmath.multiply_AtA(d,E);jsfeat.matmath.multiply_AtB(e,E,D);jsfeat.linalg.lu_solve(d,e);n[0]=e.data[0];n[1]=e.data[1];n[2]=e.data[2];n[3]=e.data[3];n[4]=e.data[4];n[5]=e.data[5];n[6]=0;n[7]=0;n[8]=1;jsfeat.matmath.invert_3x3(b,b);jsfeat.matmath.multiply_3x3(h,b,h);jsfeat.matmath.multiply_3x3(h,h,a);jsfeat.cache.put_buffer(F);jsfeat.cache.put_buffer(K);
return 1};h.prototype.error=function(a,b,d,h,e){var f=0;for(d=d.data;f<e;++f){var l=a[f];var m=b[f];var c=m.x-d[0]*l.x-d[1]*l.y-d[2];l=m.y-d[3]*l.x-d[4]*l.y-d[5];h[f]=c*c+l*l}};h.prototype.check_subset=function(a,b,d){return!0};return h}(),t=new jsfeat.matrix_t(9,9,jsfeat.F32_t|jsfeat.C1_t),g=new jsfeat.matrix_t(9,9,jsfeat.F32_t|jsfeat.C1_t),p=function(){function d(){}d.prototype.run=function(d,l,h,e){for(var f=0,m=h.data,c=a.data,r=b.data,n=t.data,u=g.data,p,q,w=0,F=0,K=0,y=0,E=0,D=0,Q=0,Z=0;f<e;++f)K+=
l[f].x,y+=l[f].y,Q+=d[f].x,Z+=d[f].y;K/=e;y/=e;Q/=e;Z/=e;for(f=0;f<e;++f)w+=Math.abs(l[f].x-K),F+=Math.abs(l[f].y-y),E+=Math.abs(d[f].x-Q),D+=Math.abs(d[f].y-Z);if(Math.abs(w)<jsfeat.EPSILON||Math.abs(F)<jsfeat.EPSILON||Math.abs(E)<jsfeat.EPSILON||Math.abs(D)<jsfeat.EPSILON)return 0;w=e/w;F=e/F;E=e/E;D=e/D;c[0]=E;c[1]=0;c[2]=-Q*E;c[3]=0;c[4]=D;c[5]=-Z*D;c[6]=0;c[7]=0;c[8]=1;r[0]=1/w;r[1]=0;r[2]=K;r[3]=0;r[4]=1/F;r[5]=y;r[6]=0;r[7]=0;r[8]=1;for(f=81;0<=--f;)n[f]=0;for(f=0;f<e;++f)c=(l[f].x-K)*w,r=
(l[f].y-y)*F,p=(d[f].x-Q)*E,q=(d[f].y-Z)*D,n[0]+=p*p,n[1]+=p*q,n[2]+=p,n[6]+=p*-c*p,n[7]+=p*-c*q,n[8]+=p*-c,n[10]+=q*q,n[11]+=q,n[15]+=q*-c*p,n[16]+=q*-c*q,n[17]+=q*-c,n[20]+=1,n[24]+=-c*p,n[25]+=-c*q,n[26]+=-c,n[30]+=p*p,n[31]+=p*q,n[32]+=p,n[33]+=p*-r*p,n[34]+=p*-r*q,n[35]+=p*-r,n[40]+=q*q,n[41]+=q,n[42]+=q*-r*p,n[43]+=q*-r*q,n[44]+=q*-r,n[50]+=1,n[51]+=-r*p,n[52]+=-r*q,n[53]+=-r,n[60]+=-c*p*-c*p+-r*p*-r*p,n[61]+=-c*p*-c*q+-r*p*-r*q,n[62]+=-c*p*-c+-r*p*-r,n[70]+=-c*q*-c*q+-r*q*-r*q,n[71]+=-c*q*
-c+-r*q*-r,n[80]+=-c*-c+-r*-r;for(f=0;9>f;++f)for(d=0;d<f;++d)n[9*f+d]=n[9*d+f];jsfeat.linalg.eigenVV(t,g);m[0]=u[72];m[1]=u[73];m[2]=u[74];m[3]=u[75];m[4]=u[76];m[5]=u[77];m[6]=u[78];m[7]=u[79];m[8]=u[80];jsfeat.matmath.multiply_3x3(h,b,h);jsfeat.matmath.multiply_3x3(h,h,a);c=1/m[8];m[0]*=c;m[1]*=c;m[2]*=c;m[3]*=c;m[4]*=c;m[5]*=c;m[6]*=c;m[7]*=c;return m[8]=1};d.prototype.error=function(a,b,d,h,m){for(var f=0,l,e,c,g=d.data;f<m;++f)l=a[f],e=b[f],c=1/(g[6]*l.x+g[7]*l.y+1),d=(g[0]*l.x+g[1]*l.y+g[2])*
c-e.x,l=(g[3]*l.x+g[4]*l.y+g[5])*c-e.y,h[f]=d*d+l*l};d.prototype.check_subset=function(a,b,d){if(4==d){d=0;var f=a[0],l=a[1],h=a[2];a=a[3];var m=b[0],e=b[1],c=b[2];b=b[3];var g=f.x,n=f.y,u=l.x,p=l.y,q=h.x,w=h.y,t=m.x,E=m.y,D=e.x,Q=e.y,Z=c.x,N=c.y;g=jsfeat.matmath.determinant_3x3(g,n,1,u,p,1,q,w,1);t=jsfeat.matmath.determinant_3x3(t,E,1,D,Q,1,Z,N,1);0>g*t&&d++;g=l.x;n=l.y;u=h.x;p=h.y;q=a.x;w=a.y;t=e.x;E=e.y;D=c.x;Q=c.y;Z=b.x;N=b.y;g=jsfeat.matmath.determinant_3x3(g,n,1,u,p,1,q,w,1);t=jsfeat.matmath.determinant_3x3(t,
E,1,D,Q,1,Z,N,1);0>g*t&&d++;g=f.x;n=f.y;u=h.x;p=h.y;q=a.x;w=a.y;t=m.x;E=m.y;D=c.x;Q=c.y;Z=b.x;N=b.y;g=jsfeat.matmath.determinant_3x3(g,n,1,u,p,1,q,w,1);t=jsfeat.matmath.determinant_3x3(t,E,1,D,Q,1,Z,N,1);0>g*t&&d++;g=f.x;n=f.y;u=l.x;p=l.y;q=a.x;w=a.y;t=m.x;E=m.y;D=e.x;Q=e.y;Z=b.x;N=b.y;g=jsfeat.matmath.determinant_3x3(g,n,1,u,p,1,q,w,1);t=jsfeat.matmath.determinant_3x3(t,E,1,D,Q,1,Z,N,1);0>g*t&&d++;if(0!=d&&4!=d)return!1}return!0};return d}();return{affine2d:c,homography2d:p}}(),b=function(){function a(a,
b,h,e){"undefined"===typeof a&&(a=0);"undefined"===typeof b&&(b=.5);"undefined"===typeof h&&(h=.5);"undefined"===typeof e&&(e=.99);this.size=a;this.thresh=b;this.eps=h;this.prob=e}a.prototype.update_iters=function(a,b){var d=Math.log(1-this.prob);a=Math.log(1-Math.pow(1-a,this.size));return(0<=a||-d>=b*-a?b:Math.round(d/a))|0};return a}(),e=function(){var a=function(a,b,h,e,m,c,q){for(var d=[],l=0,g,n=0,p,w;1E3>n;){for(l=0;l<e&&1E3>n;){w=!1;for(p=0;!w;)for(w=!0,p=d[l]=Math.floor(Math.random()*m)|
0,g=0;g<l;++g)if(p==d[g]){w=!1;break}c[l]=b[p];q[l]=h[p];a.check_subset(c,q,l+1)?++l:n++}break}return l==e&&1E3>n},b=function(a,b,h,e,c,m,q,f){var d=0,g=0;m*=m;for(a.error(h,e,b,q,c);g<c;++g)a=q[g]<=m,f[g]=a,d+=a;return d};return{ransac:function(d,h,e,m,c,p,q,f){"undefined"===typeof f&&(f=1E3);if(c<d.size)return!1;var l=d.size,g=0,n=!1,w=[],t=[],B=p.cols,z=p.rows,I=p.type|jsfeat.C1_t,G=jsfeat.cache.get_buffer(B*z<<3),J=jsfeat.cache.get_buffer(c),H=jsfeat.cache.get_buffer(c<<2);B=new jsfeat.matrix_t(B,
z,I,G.data);z=new jsfeat.matrix_t(c,1,jsfeat.U8C1_t,J.data);I=-1;var C=H.f32;if(c==l){if(0>=h.run(e,m,B,c))return jsfeat.cache.put_buffer(G),jsfeat.cache.put_buffer(J),jsfeat.cache.put_buffer(H),!1;B.copy_to(p);if(q)for(;0<=--c;)q.data[c]=1;jsfeat.cache.put_buffer(G);jsfeat.cache.put_buffer(J);jsfeat.cache.put_buffer(H);return!0}for(;g<f;++g){var F=a(h,e,m,l,c,w,t);if(!F){if(0==g)return jsfeat.cache.put_buffer(G),jsfeat.cache.put_buffer(J),jsfeat.cache.put_buffer(H),!1;break}F=h.run(w,t,B,l);0>=F||
(F=b(h,B,e,m,c,d.thresh,C,z.data),F>Math.max(I,l-1)&&(B.copy_to(p),I=F,q&&z.copy_to(q),f=d.update_iters((c-F)/c,f),n=!0))}jsfeat.cache.put_buffer(G);jsfeat.cache.put_buffer(J);jsfeat.cache.put_buffer(H);return n},lmeds:function(d,h,c,e,m,p,q,f){"undefined"===typeof f&&(f=1E3);if(m<d.size)return!1;var l=d.size,g=f,n=0,w=!1,t=[],B=[],z=p.cols,I=p.rows,G=p.type|jsfeat.C1_t;f=jsfeat.cache.get_buffer(z*I<<3);var J=jsfeat.cache.get_buffer(m),H=jsfeat.cache.get_buffer(m<<2);G=new jsfeat.matrix_t(z,I,G,f.data);
z=new jsfeat.matrix_t(m,1,jsfeat.U8_t|jsfeat.C1_t,J.data);I=H.f32;var C=1E9;d.eps=.45;g=d.update_iters(d.eps,g);if(m==l){if(0>=h.run(c,e,G,m))return jsfeat.cache.put_buffer(f),jsfeat.cache.put_buffer(J),jsfeat.cache.put_buffer(H),!1;G.copy_to(p);if(q)for(;0<=--m;)q.data[m]=1;jsfeat.cache.put_buffer(f);jsfeat.cache.put_buffer(J);jsfeat.cache.put_buffer(H);return!0}for(;n<g;++n){d=a(h,c,e,l,m,t,B);if(!d){if(0==n)return jsfeat.cache.put_buffer(f),jsfeat.cache.put_buffer(J),jsfeat.cache.put_buffer(H),
!1;break}d=h.run(t,B,G,l);0>=d||(h.error(c,e,G,I,m),d=jsfeat.math.median(I,0,m-1),d<C&&(C=d,G.copy_to(p),w=!0))}w&&(g=2.5*1.4826*(1+5/(m-l))*Math.sqrt(C),g=Math.max(g,.001),h=b(h,p,c,e,m,g,I,z.data),q&&z.copy_to(q),w=h>=l);jsfeat.cache.put_buffer(f);jsfeat.cache.put_buffer(J);jsfeat.cache.put_buffer(H);return w}}}();a.ransac_params_t=b;a.motion_model=c;a.motion_estimator=e})(jsfeat);
(function(a){var c=function(){return{grayscale:function(a,c,h,m,d){"undefined"===typeof d&&(d=jsfeat.COLOR_RGBA2GRAY);var b,e=0,t=0,g,p=4899,q=1868,f=4;if(d==jsfeat.COLOR_BGRA2GRAY||d==jsfeat.COLOR_BGR2GRAY)p=1868,q=4899;if(d==jsfeat.COLOR_RGB2GRAY||d==jsfeat.COLOR_BGR2GRAY)f=3;d=f<<1;var l=3*f|0;m.resize(c,h,1);var u=m.data;for(b=0;b<h;++b,t+=c,e+=c*f){m=0;var r=e;for(g=t;m<=c-4;m+=4,r+=f<<2,g+=4)u[g]=a[r]*p+9617*a[r+1]+a[r+2]*q+8192>>14,u[g+1]=a[r+f]*p+9617*a[r+f+1]+a[r+f+2]*q+8192>>14,u[g+2]=a[r+
d]*p+9617*a[r+d+1]+a[r+d+2]*q+8192>>14,u[g+3]=a[r+l]*p+9617*a[r+l+1]+a[r+l+2]*q+8192>>14;for(;m<c;++m,++g,r+=f)u[g]=a[r]*p+9617*a[r+1]+a[r+2]*q+8192>>14}},resample:function(a,c,h,m){var b=a.rows,e=a.cols;if(b>m&&e>h)if(c.resize(h,m,a.channel),a.type&jsfeat.U8_t&&c.type&jsfeat.U8_t&&256>b*e/(m*h)){b=0;e=a.channel;var n=a.cols,t=a.rows;a=a.data;c=c.data;var g=n/h;m=t/m;for(var p=g*m*65536|0,q=0,f,l,u=0,r,v,A,B=jsfeat.cache.get_buffer(h*e<<2),z=jsfeat.cache.get_buffer(h*e<<2),I=jsfeat.cache.get_buffer(6*
n<<2),G=B.i32,J=z.i32,H=I.i32;q<h;q++){r=q*g;v=r+g;f=r+1-1E-6|0;l=v|0;f=Math.min(f,n-1);l=Math.min(l,n-1);f>r&&(H[u++]=q*e|0,H[u++]=(f-1)*e|0,H[u++]=256*(f-r)|0,b++);for(;f<l;f++)b++,H[u++]=q*e|0,H[u++]=f*e|0,H[u++]=256;.001<v-l&&(b++,H[u++]=q*e|0,H[u++]=l*e|0,H[u++]=256*(v-l)|0)}for(q=0;q<h*e;q++)G[q]=J[q]=0;for(l=g=0;l<t;l++){v=n*l;for(u=0;u<b;u++)for(r=H[3*u],f=H[3*u+1],A=H[3*u+2],q=0;q<e;q++)G[r+q]+=a[v+f+q]*A;if((g+1)*m<=l+1||l==t-1){f=256*Math.max(l+1-(g+1)*m,0)|0;v=256-f;u=h*g;if(0>=f)for(q=
0;q<h*e;q++)c[u+q]=Math.min(Math.max((J[q]+256*G[q])/p,0),255),J[q]=G[q]=0;else for(q=0;q<h*e;q++)c[u+q]=Math.min(Math.max((J[q]+G[q]*v)/p,0),255),J[q]=G[q]*f,G[q]=0;g++}else for(q=0;q<h*e;q++)J[q]+=256*G[q],G[q]=0}jsfeat.cache.put_buffer(z);jsfeat.cache.put_buffer(B);jsfeat.cache.put_buffer(I)}else{b=0;e=a.channel;n=a.cols;t=a.rows;a=a.data;c=c.data;f=n/h;m=t/m;g=1/(f*m);H=u=0;p=jsfeat.cache.get_buffer(h*e<<2);B=jsfeat.cache.get_buffer(h*e<<2);z=jsfeat.cache.get_buffer(6*n<<2);I=p.f32;G=B.f32;for(J=
z.f32;u<h;u++){r=u*f;v=r+f;q=r+1-1E-6|0;l=v|0;q=Math.min(q,n-1);l=Math.min(l,n-1);q>r&&(b++,J[H++]=(q-1)*e|0,J[H++]=u*e|0,J[H++]=(q-r)*g);for(;q<l;q++)b++,J[H++]=q*e|0,J[H++]=u*e|0,J[H++]=g;.001<v-l&&(b++,J[H++]=l*e|0,J[H++]=u*e|0,J[H++]=(v-l)*g)}for(u=0;u<h*e;u++)I[u]=G[u]=0;for(g=f=0;g<t;g++){l=n*g;for(H=0;H<b;H++)for(q=J[3*H]|0,v=J[3*H+1]|0,r=J[3*H+2],u=0;u<e;u++)I[v+u]+=a[l+q+u]*r;if((f+1)*m<=g+1||g==t-1){q=Math.max(g+1-(f+1)*m,0);l=1-q;H=h*f;if(.001>Math.abs(q))for(u=0;u<h*e;u++)c[H+u]=G[u]+
I[u],G[u]=I[u]=0;else for(u=0;u<h*e;u++)c[H+u]=G[u]+I[u]*l,G[u]=I[u]*q,I[u]=0;f++}else for(u=0;u<h*e;u++)G[u]+=I[u],I[u]=0}jsfeat.cache.put_buffer(B);jsfeat.cache.put_buffer(p);jsfeat.cache.put_buffer(z)}},box_blur_gray:function(a,c,h,m){"undefined"===typeof m&&(m=0);var b=a.cols,e=a.rows,n=e<<1,t=b<<1,g,p=(h<<1)+1|0,q=h+1|0,f=q+1|0;m=m&jsfeat.BOX_BLUR_NOSCALE?1:1/(p*p);p=jsfeat.cache.get_buffer(b*e<<2);var l=0,u=p.i32,r=a.data;c.resize(b,e,a.channel);for(a=0;a<e;++a){var v=a;var A=q*r[l];var B=l+
1|0;for(g=l+h|0;B<=g;++B)A+=r[B];g=l+q|0;var z=l;var I=r[z];for(B=0;B<h;++B,v+=e)u[v]=A,A+=r[g]-I,g++;for(;B<b-f;B+=2,v+=n)u[v]=A,A+=r[g]-r[z],u[v+e]=A,A+=r[g+1]-r[z+1],g+=2,z+=2;for(;B<b-q;++B,v+=e)u[v]=A,A+=r[g]-r[z],g++,z++;for(I=r[g-1];B<b;++B,v+=e)u[v]=A,A+=I-r[z],z++;l+=b}l=0;r=c.data;if(1==m)for(a=0;a<b;++a){v=a;A=q*u[l];B=l+1|0;for(g=l+h|0;B<=g;++B)A+=u[B];g=l+q;z=l;I=u[z];for(B=0;B<h;++B,v+=b)r[v]=A,A+=u[g]-I,g++;for(;B<e-f;B+=2,v+=t)r[v]=A,A+=u[g]-u[z],r[v+b]=A,A+=u[g+1]-u[z+1],g+=2,z+=
2;for(;B<e-q;++B,v+=b)r[v]=A,A+=u[g]-u[z],g++,z++;for(I=u[g-1];B<e;++B,v+=b)r[v]=A,A+=I-u[z],z++;l+=e}else for(a=0;a<b;++a){v=a;A=q*u[l];B=l+1|0;for(g=l+h|0;B<=g;++B)A+=u[B];g=l+q;z=l;I=u[z];for(B=0;B<h;++B,v+=b)r[v]=A*m,A+=u[g]-I,g++;for(;B<e-f;B+=2,v+=t)r[v]=A*m,A+=u[g]-u[z],r[v+b]=A*m,A+=u[g+1]-u[z+1],g+=2,z+=2;for(;B<e-q;++B,v+=b)r[v]=A*m,A+=u[g]-u[z],g++,z++;for(I=u[g-1];B<e;++B,v+=b)r[v]=A*m,A+=I-u[z],z++;l+=e}jsfeat.cache.put_buffer(p)},gaussian_blur:function(a,e,h,c){"undefined"===typeof c&&
(c=0);"undefined"===typeof h&&(h=0);h=0==h?2*Math.max(1,4*c+1-1E-8)+1|0:h;var b=h>>1,m=a.cols,n=a.rows,t=a.type,g=t&jsfeat.U8_t;e.resize(m,n,a.channel);a=a.data;e=e.data;var p=jsfeat.cache.get_buffer((h+Math.max(n,m)|0)<<2),q=jsfeat.cache.get_buffer(h<<2);if(g){var f=p.i32;var l=q.i32}else f=t&jsfeat.S32_t?p.i32:p.f32,l=q.f32;jsfeat.math.get_gaussian_kernel(h,c,l,t);if(g){c=f;t=l;for(var u=g=0,r=0,v,A,B,z,I=t[0],G,J=m<<1,H=3*m,C=m<<2;g<n;++g){v=a[u];for(l=0;l<b;++l)c[l]=v;for(l=0;l<=m-2;l+=2)c[l+
b]=a[u+l],c[l+b+1]=a[u+l+1];for(;l<m;++l)c[l+b]=a[u+l];v=a[u+m-1];for(l=m;l<b+m;++l)c[l+b]=v;for(l=0;l<=m-4;l+=4){v=c[l]*I;A=c[l+1]*I;B=c[l+2]*I;z=c[l+3]*I;for(f=1;f<h;++f)G=t[f],v+=c[f+l]*G,A+=c[f+l+1]*G,B+=c[f+l+2]*G,z+=c[f+l+3]*G;e[r+l]=Math.min(v>>8,255);e[r+l+1]=Math.min(A>>8,255);e[r+l+2]=Math.min(B>>8,255);e[r+l+3]=Math.min(z>>8,255)}for(;l<m;++l){v=c[l]*I;for(f=1;f<h;++f)v+=c[f+l]*t[f];e[r+l]=Math.min(v>>8,255)}u+=m;r+=m}for(g=0;g<m;++g){v=e[g];for(l=0;l<b;++l)c[l]=v;f=g;for(l=0;l<=n-2;l+=
2,f+=J)c[l+b]=e[f],c[l+b+1]=e[f+m];for(;l<n;++l,f+=m)c[l+b]=e[f];v=e[(n-1)*m+g];for(l=n;l<b+n;++l)c[l+b]=v;r=g;for(l=0;l<=n-4;l+=4,r+=C){v=c[l]*I;A=c[l+1]*I;B=c[l+2]*I;z=c[l+3]*I;for(f=1;f<h;++f)G=t[f],v+=c[f+l]*G,A+=c[f+l+1]*G,B+=c[f+l+2]*G,z+=c[f+l+3]*G;e[r]=Math.min(v>>8,255);e[r+m]=Math.min(A>>8,255);e[r+J]=Math.min(B>>8,255);e[r+H]=Math.min(z>>8,255)}for(;l<n;++l,r+=m){v=c[l]*I;for(f=1;f<h;++f)v+=c[f+l]*t[f];e[r]=Math.min(v>>8,255)}}}else{c=f;t=l;r=u=g=0;I=t[0];J=m<<1;H=3*m;for(C=m<<2;g<n;++g){v=
a[u];for(l=0;l<b;++l)c[l]=v;for(l=0;l<=m-2;l+=2)c[l+b]=a[u+l],c[l+b+1]=a[u+l+1];for(;l<m;++l)c[l+b]=a[u+l];v=a[u+m-1];for(l=m;l<b+m;++l)c[l+b]=v;for(l=0;l<=m-4;l+=4){v=c[l]*I;A=c[l+1]*I;B=c[l+2]*I;z=c[l+3]*I;for(f=1;f<h;++f)G=t[f],v+=c[f+l]*G,A+=c[f+l+1]*G,B+=c[f+l+2]*G,z+=c[f+l+3]*G;e[r+l]=v;e[r+l+1]=A;e[r+l+2]=B;e[r+l+3]=z}for(;l<m;++l){v=c[l]*I;for(f=1;f<h;++f)v+=c[f+l]*t[f];e[r+l]=v}u+=m;r+=m}for(g=0;g<m;++g){v=e[g];for(l=0;l<b;++l)c[l]=v;f=g;for(l=0;l<=n-2;l+=2,f+=J)c[l+b]=e[f],c[l+b+1]=e[f+
m];for(;l<n;++l,f+=m)c[l+b]=e[f];v=e[(n-1)*m+g];for(l=n;l<b+n;++l)c[l+b]=v;r=g;for(l=0;l<=n-4;l+=4,r+=C){v=c[l]*I;A=c[l+1]*I;B=c[l+2]*I;z=c[l+3]*I;for(f=1;f<h;++f)G=t[f],v+=c[f+l]*G,A+=c[f+l+1]*G,B+=c[f+l+2]*G,z+=c[f+l+3]*G;e[r]=v;e[r+m]=A;e[r+J]=B;e[r+H]=z}for(;l<n;++l,r+=m){v=c[l]*I;for(f=1;f<h;++f)v+=c[f+l]*t[f];e[r]=v}}}jsfeat.cache.put_buffer(p);jsfeat.cache.put_buffer(q)},hough_transform:function(a,c,h,m){var b=a.data,e=a.cols,n=a.rows;min_theta=0;max_theta=Math.PI;numangle=Math.round((max_theta-
min_theta)/h);numrho=Math.round((2*(e+n)+1)/c);irho=1/c;var t=new Int32Array((numangle+2)*(numrho+2)),g=new Float32Array(numangle),p=new Float32Array(numangle);a=0;for(var q=min_theta;a<numangle;a++)g[a]=Math.sin(q)*irho,p[a]=Math.cos(q)*irho,q+=h;for(q=0;q<n;q++)for(var f=0;f<e;f++)if(0!=b[q*e+f])for(a=0;a<numangle;a++){var l=Math.round(f*p[a]+q*g[a]);l+=(numrho-1)/2;t[(a+1)*(numrho+2)+l+1]+=1}_sort_buf=[];for(l=0;l<numrho;l++)for(a=0;a<numangle;a++)b=(a+1)*(numrho+2)+l+1,t[b]>m&&t[b]>t[b-1]&&t[b]>=
t[b+1]&&t[b]>t[b-numrho-2]&&t[b]>=t[b+numrho+2]&&_sort_buf.push(b);_sort_buf.sort(function(a,b){return t[a]>t[b]||t[a]==t[b]&&a<b});linesMax=Math.min(numangle*numrho,_sort_buf.length);scale=1/(numrho+2);lines=[];for(q=0;q<linesMax;q++)m=_sort_buf[q],a=Math.floor(m*scale)-1,l=m-(a+1)*(numrho+2)-1,lines.push([(l-.5*(numrho-1))*c,a*h]);return lines},pyrdown:function(a,c,h,m){"undefined"===typeof h&&(h=0);"undefined"===typeof m&&(m=0);var b=a.cols,e=b>>1,n=a.rows>>1,t=e-(h<<1),g=n-(m<<1);h+=m*b;m=0;c.resize(e,
n,a.channel);a=a.data;var p=c.data;for(n=0;n<g;++n){var q=h;var f=m;for(c=0;c<=t-2;c+=2,f+=2,q+=4)p[f]=a[q]+a[q+1]+a[q+b]+a[q+b+1]+2>>2,p[f+1]=a[q+2]+a[q+3]+a[q+b+2]+a[q+b+3]+2>>2;for(;c<t;++c,++f,q+=2)p[f]=a[q]+a[q+1]+a[q+b]+a[q+b+1]+2>>2;h+=b<<1;m+=e}},scharr_derivatives:function(a,c){var b=a.cols,e=a.rows,d=b<<1,w=0,n,t=0;c.resize(b,e,2);var g=a.data;c=c.data;var p=jsfeat.cache.get_buffer(b+2<<2),q=jsfeat.cache.get_buffer(b+2<<2);if(a.type&jsfeat.U8_t||a.type&jsfeat.S32_t){var f=p.i32;var l=q.i32}else f=
p.f32,l=q.f32;for(;w<e;++w,t+=b){var u=(0<w?w-1:1)*b|0;var r=(w<e-1?w+1:e-2)*b|0;var v=w*d|0;a=0;for(n=1;a<=b-2;a+=2,n+=2){var A=g[u+a];var B=g[r+a];f[n]=3*(A+B)+10*g[t+a];l[n]=B-A;A=g[u+a+1];B=g[r+a+1];f[n+1]=3*(A+B)+10*g[t+a+1];l[n+1]=B-A}for(;a<b;++a,++n)A=g[u+a],B=g[r+a],f[n]=3*(A+B)+10*g[t+a],l[n]=B-A;a=b+1|0;f[0]=f[1];f[a]=f[b];l[0]=l[1];l[a]=l[b];for(a=0;a<=b-4;a+=4){A=l[a+2];B=l[a+1];n=l[a+3];u=l[a+4];r=f[a+2];var z=f[a+3];c[v++]=r-f[a];c[v++]=3*(A+l[a])+10*B;c[v++]=z-f[a+1];c[v++]=3*(n+B)+
10*A;c[v++]=f[a+4]-r;c[v++]=3*(u+A)+10*n;c[v++]=f[a+5]-z;c[v++]=3*(l[a+5]+n)+10*u}for(;a<b;++a)c[v++]=f[a+2]-f[a],c[v++]=3*(l[a+2]+l[a])+10*l[a+1]}jsfeat.cache.put_buffer(p);jsfeat.cache.put_buffer(q)},sobel_derivatives:function(a,c){var b=a.cols,e=a.rows,d=b<<1,w=0,n,t=0;c.resize(b,e,2);var g=a.data;c=c.data;var p=jsfeat.cache.get_buffer(b+2<<2),q=jsfeat.cache.get_buffer(b+2<<2);if(a.type&jsfeat.U8_t||a.type&jsfeat.S32_t){var f=p.i32;var l=q.i32}else f=p.f32,l=q.f32;for(;w<e;++w,t+=b){var u=(0<w?
w-1:1)*b|0;var r=(w<e-1?w+1:e-2)*b|0;var v=w*d|0;a=0;for(n=1;a<=b-2;a+=2,n+=2){var A=g[u+a];var B=g[r+a];f[n]=A+B+2*g[t+a];l[n]=B-A;A=g[u+a+1];B=g[r+a+1];f[n+1]=A+B+2*g[t+a+1];l[n+1]=B-A}for(;a<b;++a,++n)A=g[u+a],B=g[r+a],f[n]=A+B+2*g[t+a],l[n]=B-A;a=b+1|0;f[0]=f[1];f[a]=f[b];l[0]=l[1];l[a]=l[b];for(a=0;a<=b-4;a+=4){A=l[a+2];B=l[a+1];n=l[a+3];u=l[a+4];r=f[a+2];var z=f[a+3];c[v++]=r-f[a];c[v++]=A+l[a]+2*B;c[v++]=z-f[a+1];c[v++]=n+B+2*A;c[v++]=f[a+4]-r;c[v++]=u+A+2*n;c[v++]=f[a+5]-z;c[v++]=l[a+5]+n+
2*u}for(;a<b;++a)c[v++]=f[a+2]-f[a],c[v++]=l[a+2]+l[a]+2*l[a+1]}jsfeat.cache.put_buffer(p);jsfeat.cache.put_buffer(q)},compute_integral_image:function(a,c,h,m){var b=a.cols|0,e=a.rows|0;a=a.data;var n=b+1|0,t,g,p=0,q,f;if(c&&h){for(;p<n;++p)c[p]=0,h[p]=0;var l=n+1|0;var u=1;for(f=p=0;p<e;++p,++l,++u){for(q=t=g=0;q<=b-2;q+=2,f+=2,l+=2,u+=2){var r=a[f];t+=r;g+=r*r;c[l]=c[u]+t;h[l]=h[u]+g;r=a[f+1];t+=r;g+=r*r;c[l+1]=c[u+1]+t;h[l+1]=h[u+1]+g}for(;q<b;++q,++f,++l,++u)r=a[f],t+=r,g+=r*r,c[l]=c[u]+t,h[l]=
h[u]+g}}else if(c){for(;p<n;++p)c[p]=0;l=n+1|0;u=1;for(f=p=0;p<e;++p,++l,++u){for(q=t=0;q<=b-2;q+=2,f+=2,l+=2,u+=2)t+=a[f],c[l]=c[u]+t,t+=a[f+1],c[l+1]=c[u+1]+t;for(;q<b;++q,++f,++l,++u)t+=a[f],c[l]=c[u]+t}}else if(h){for(;p<n;++p)h[p]=0;l=n+1|0;u=1;for(f=p=0;p<e;++p,++l,++u){for(q=g=0;q<=b-2;q+=2,f+=2,l+=2,u+=2)r=a[f],g+=r*r,h[l]=h[u]+g,r=a[f+1],g+=r*r,h[l+1]=h[u+1]+g;for(;q<b;++q,++f,++l,++u)r=a[f],g+=r*r,h[l]=h[u]+g}}if(m){for(p=0;p<n;++p)m[p]=0;l=n+1|0;for(f=p=u=0;p<e;++p,++l,++u){for(q=0;q<=
b-2;q+=2,f+=2,l+=2,u+=2)m[l]=a[f]+m[u],m[l+1]=a[f+1]+m[u+1];for(;q<b;++q,++f,++l,++u)m[l]=a[f]+m[u]}l=n+b|0;u=b;for(p=0;p<e;++p,l+=n,u+=n)m[l]+=m[u];for(q=b-1;0<q;--q)for(l=q+e*n,u=l-n,p=e;0<p;--p,l-=n,u-=n)m[l]+=m[u]+m[u+1]}},equalize_histogram:function(a,c){var b=a.cols,e=a.rows,d=a.data;c.resize(b,e,a.channel);a=c.data;b*=e;e=0;var w=jsfeat.cache.get_buffer(1024);for(c=w.i32;256>e;++e)c[e]=0;for(e=0;e<b;++e)++c[d[e]];var n=c[0];for(e=1;256>e;++e)n=c[e]+=n;n=255/b;for(e=0;e<b;++e)a[e]=c[d[e]]*n+
.5|0;jsfeat.cache.put_buffer(w)},canny:function(a,c,h,m){var b=a.cols,e=a.rows;c.resize(b,e,a.channel);c=c.data;var n=0,t=0,g=b<<1,p,q=jsfeat.cache.get_buffer(e*g<<2),f=jsfeat.cache.get_buffer(3*(b+2)<<2),l=jsfeat.cache.get_buffer((e+2)*(b+2)<<2),u=jsfeat.cache.get_buffer(e*b<<2),r=f.i32,v=l.i32,A=u.i32,B=q.i32;var z=new jsfeat.matrix_t(b,e,jsfeat.S32C2_t,q.data);var I=1,G=b+2+1|0,J=2*(b+2)+1|0,H=b+2|0,C=H+1|0,F=0;this.sobel_derivatives(a,z);h>m&&(a=h,h=m,m=a);for(a=3*(b+2)|0;0<=--a;)r[a]=0;for(a=
(e+2)*(b+2)|0;0<=--a;)v[a]=0;for(;n<b;++n,t+=2){var K=B[t];var y=B[t+1];r[G+n]=(K^K>>31)-(K>>31)+((y^y>>31)-(y>>31))}for(a=1;a<=e;++a,t+=g){if(a==e)for(n=J+b;--n>=J;)r[n]=0;else for(n=0;n<b;n++)K=B[t+(n<<1)],y=B[t+(n<<1)+1],r[J+n]=(K^K>>31)-(K>>31)+((y^y>>31)-(y>>31));z=t-g|0;for(n=p=v[C-1]=0;n<b;++n,z+=2){var E=r[G+n];if(E>h){K=B[z];y=B[z+1];var D=K^y;K=(K^K>>31)-(K>>31)|0;y=(y^y>>31)-(y>>31)|0;var Q=13573*K;K=Q+(K+K<<15);y<<=15;if(y<Q){if(E>r[G+n-1]&&E>=r[G+n+1]){E>m&&!p&&2!=v[C+n-H]?(v[C+n]=2,
p=1,A[F++]=C+n):v[C+n]=1;continue}}else if(y>K){if(E>r[I+n]&&E>=r[J+n]){E>m&&!p&&2!=v[C+n-H]?(v[C+n]=2,p=1,A[F++]=C+n):v[C+n]=1;continue}}else if(D=0>D?-1:1,E>r[I+n-D]&&E>r[J+n+D]){E>m&&!p&&2!=v[C+n-H]?(v[C+n]=2,p=1,A[F++]=C+n):v[C+n]=1;continue}}p=v[C+n]=0}v[C+b]=0;C+=H;n=I;I=G;G=J;J=n}n=C-H-1;for(a=0;a<H;++a,++n)v[n]=0;for(;0<F;)C=A[--F],C-=H+1,1==v[C]&&(v[C]=2,A[F++]=C),C+=1,1==v[C]&&(v[C]=2,A[F++]=C),C+=1,1==v[C]&&(v[C]=2,A[F++]=C),C+=H,1==v[C]&&(v[C]=2,A[F++]=C),C-=2,1==v[C]&&(v[C]=2,A[F++]=
C),C+=H,1==v[C]&&(v[C]=2,A[F++]=C),C+=1,1==v[C]&&(v[C]=2,A[F++]=C),C+=1,1==v[C]&&(v[C]=2,A[F++]=C);C=H+1;for(a=I=0;a<e;++a,C+=H)for(n=0;n<b;++n)c[I++]=255*(2==v[C+n]);jsfeat.cache.put_buffer(q);jsfeat.cache.put_buffer(f);jsfeat.cache.put_buffer(l);jsfeat.cache.put_buffer(u)},warp_perspective:function(a,c,h,m){"undefined"===typeof m&&(m=0);var b=a.cols|0,e=a.rows|0,n=c.cols|0,t=c.rows|0;a=a.data;c=c.data;var g=0;var p=h.data;h=p[0];for(var q=p[1],f=p[2],l=p[3],u=p[4],r=p[5],v=p[6],A=p[7],B=p[8],z=
0;g<t;++g){var I=q*g+f;var G=u*g+r;var J=A*g+B;for(p=0;p<n;++p,++z,I+=h,G+=l,J+=v){var H=1/J;var C=I*H;H*=G;var F=C|0;var K=H|0;0<C&&0<H&&F<b-1&&K<e-1?(C=Math.max(C-F,0),H=Math.max(H-K,0),K=b*K+F|0,F=a[K]+C*(a[K+1]-a[K]),C=a[K+b]+C*(a[K+b+1]-a[K+b]),c[z]=F+H*(C-F)):c[z]=m}}},warp_affine:function(a,c,h,m){"undefined"===typeof m&&(m=0);var b=a.cols,e=a.rows,n=c.cols,t=c.rows;a=a.data;c=c.data;var g=0;var p=h.data;h=p[0];for(var q=p[1],f=p[2],l=p[3],u=p[4],r=p[5],v=0;g<t;++g){var A=q*g+f;var B=u*g+r;
for(p=0;p<n;++p,++v,A+=h,B+=l){var z=A|0;var I=B|0;if(0<=z&&0<=I&&z<b-1&&I<e-1){var G=A-z;var J=B-I;I=b*I+z;z=a[I]+G*(a[I+1]-a[I]);G=a[I+b]+G*(a[I+b+1]-a[I+b]);c[v]=z+J*(G-z)}else c[v]=m}}},skindetector:function(a,c){for(var b,e,d,w=a.width*a.height;w--;)d=4*w,b=a.data[d],e=a.data[d+1],d=a.data[d+2],c[w]=95<b&&40<e&&20<d&&b>e&&b>d&&15<b-Math.min(e,d)&&15<Math.abs(b-e)?255:0}}}();a.imgproc=c})(jsfeat);
(function(a){var c=function(){var a=new Int32Array([0,3,1,3,2,2,3,1,3,0,3,-1,2,-2,1,-3,0,-3,-1,-3,-2,-2,-3,-1,-3,0,-3,1,-2,2,-1,3]),c=new Uint8Array(512),h=new Int32Array(25),m=new Int32Array(25),d=function(a,b,c,d,h){for(var f=0,l=a[b];25>f;++f)d[f]=l-a[b+c[f]];for(f=0;16>f;f+=2)a=Math.min(d[f+1],d[f+2]),a=Math.min(a,d[f+3]),a<=h||(a=Math.min(a,d[f+4]),a=Math.min(a,d[f+5]),a=Math.min(a,d[f+6]),a=Math.min(a,d[f+7]),a=Math.min(a,d[f+8]),h=Math.max(h,Math.min(a,d[f])),h=Math.max(h,Math.min(a,d[f+9])));
a=-h;for(f=0;16>f;f+=2)b=Math.max(d[f+1],d[f+2]),b=Math.max(b,d[f+3]),b=Math.max(b,d[f+4]),b=Math.max(b,d[f+5]),b>=a||(b=Math.max(b,d[f+6]),b=Math.max(b,d[f+7]),b=Math.max(b,d[f+8]),a=Math.min(a,Math.max(b,d[f])),a=Math.min(a,Math.max(b,d[f+9])));return-a-1},w=20;return{set_threshold:function(a){w=Math.min(Math.max(a,0),255);for(a=-255;255>=a;++a)c[a+255]=a<-w?1:a>w?2:0;return w},detect:function(b,e,g){"undefined"===typeof g&&(g=3);var n=b.data,q=b.cols,f=b.rows,l;b=jsfeat.cache.get_buffer(3*q);var u=
jsfeat.cache.get_buffer(3*(q+1)<<2),r=b.u8,v=u.i32,t=Math.max(3,g);f=Math.min(f-2,f-g);var B=Math.max(3,g);g=Math.min(q-3,q-g);var z,I=0,G=w;for(l=0;16>l;++l)h[l]=a[l<<1]+a[(l<<1)+1]*q;for(;25>l;++l)h[l]=h[l-16];var J=h[0],H=h[1],C=h[2],F=h[3],K=h[4],y=h[5],E=h[6],D=h[7],Q=h[8],Z=h[9],N=h[10],aa=h[11],fa=h[12],ca=h[13],T=h[14],V=h[15];for(l=0;l<3*q;++l)r[l]=0;for(l=t;l<f;++l){var O=l*q+B|0;var R=(l-3)%3;var S=R*q|0;var da=R*(q+1)|0;for(R=0;R<q;++R)r[S+R]=0;var ja=0;if(l<f-1)for(R=B;R<g;++R,++O){var ka=
n[O];var X=-ka+255;var Y=c[X+n[O+J]]|c[X+n[O+Q]];if(0!=Y&&(Y&=c[X+n[O+C]]|c[X+n[O+N]],Y&=c[X+n[O+K]]|c[X+n[O+fa]],Y&=c[X+n[O+E]]|c[X+n[O+T]],0!=Y)){Y&=c[X+n[O+H]]|c[X+n[O+Z]];Y&=c[X+n[O+F]]|c[X+n[O+aa]];Y&=c[X+n[O+y]]|c[X+n[O+ca]];Y&=c[X+n[O+D]]|c[X+n[O+V]];if(Y&1){var W=ka-G;for(X=z=0;25>X;++X){var ha=n[O+h[X]];if(ha<W){if(++z,8<z){++ja;v[da+ja]=R;r[S+R]=d(n,O,h,m,G);break}}else z=0}}if(Y&2)for(W=ka+G,X=z=0;25>X;++X)if(ha=n[O+h[X]],ha>W){if(++z,8<z){++ja;v[da+ja]=R;r[S+R]=d(n,O,h,m,G);break}}else z=
0}}v[da+q]=ja;if(l!=t)for(R=(l-4+3)%3,O=R*q|0,da=R*(q+1)|0,R=(l-5+3)%3,ka=R*q|0,ja=v[da+q],X=0;X<ja;++X)R=v[da+X],W=R+1|0,ha=R-1|0,Y=r[O+R],Y>r[O+W]&&Y>r[O+ha]&&Y>r[ka+ha]&&Y>r[ka+R]&&Y>r[ka+W]&&Y>r[S+ha]&&Y>r[S+R]&&Y>r[S+W]&&(W=e[I],W.x=R,W.y=l-1,W.score=Y,I++)}jsfeat.cache.put_buffer(b);jsfeat.cache.put_buffer(u);return I}}}();a.fast_corners=c;c.set_threshold(20)})(jsfeat);
(function(a){var c=function(){return{laplacian_threshold:30,min_eigen_value_threshold:25,detect:function(a,c,h){"undefined"===typeof h&&(h=5);var b=a.cols;var d=a.rows;a=a.data;var e=5*b|0,n=3+3*b|0,t=3-3*b|0,g=jsfeat.cache.get_buffer(b*d<<2),p=g.i32,q,f,l=0,u=this.laplacian_threshold,r=this.min_eigen_value_threshold,v=Math.max(5,h)|0;var A=Math.max(3,h)|0;var B=Math.min(b-5,b-h)|0;h=Math.min(d-3,d-h)|0;for(d*=b;0<=--d;)p[d]=0;var z=f=A*b+v|0;for(d=A;d<h;++d,f+=b,z=f)for(q=v;q<B;++q,++z)p[z]=-4*a[z]+
a[z+5]+a[z-5]+a[z+e]+a[z-e];for(q=A*b+v|0;A<h;++A,q+=b)for(d=v,f=q;d<B;++d,++f)if(z=p[f],z<-u&&z<p[f-1]&&z<p[f+1]&&z<p[f-b]&&z<p[f+b]&&z<p[f-b-1]&&z<p[f+b-1]&&z<p[f-b+1]&&z<p[f+b+1]||z>u&&z>p[f-1]&&z>p[f+1]&&z>p[f-b]&&z>p[f+b]&&z>p[f-b-1]&&z>p[f+b-1]&&z>p[f-b+1]&&z>p[f+b+1]){var I=-2*a[f]+a[f+5]+a[f-5];var G=-2*a[f]+a[f+e]+a[f-e],J=a[f+n]+a[f-n]-a[f+t]-a[f-t];I=Math.sqrt((I-G)*(I-G)+4*J*J)|0;z=Math.min(Math.abs(z-I),Math.abs(-(z+I)));z>r&&(I=c[l],I.x=d,I.y=A,I.score=z,++l,++d,++f)}jsfeat.cache.put_buffer(g);
return l}}}();a.yape06=c})(jsfeat);
(function(a){var c=function(){var a=function(a,b,c,e,n,t,g,p){var d=0,f=g-1|0;var l=a[b+t[0]];if(l<=n)if(l>=e){var h=a[b+t[f]];if(h<=n){if(h>=e){c[b]=0;return}f++;var m=a[b+t[f]];if(m>n){f++;var v=a[b+t[f]];if(v>n)var w=3;else if(v<e)w=6;else{c[b]=0;return}}else if(f++,v=a[b+t[f]],v>n)w=7;else if(v<e)w=2;else{c[b]=0;return}}else if(f++,m=a[b+t[f]],m>n)if(f++,v=a[b+t[f]],v>n)w=3;else if(v<e)w=6;else{c[b]=0;return}else if(m<e)if(f++,v=a[b+t[f]],v>n)w=7;else if(v<e)w=2;else{c[b]=0;return}else{c[b]=0;
return}}else{h=a[b+t[f]];if(h>n){c[b]=0;return}f++;m=a[b+t[f]];if(m>n){c[b]=0;return}f++;v=a[b+t[f]];if(v>n){c[b]=0;return}w=1}else{h=a[b+t[f]];if(h<e){c[b]=0;return}f++;m=a[b+t[f]];if(m<e){c[b]=0;return}f++;v=a[b+t[f]];if(v<e){c[b]=0;return}w=0}for(h=1;h<=g;h++)switch(l=a[b+t[h]],w){case 0:if(l>n){m=v;f++;v=a[b+t[f]];if(v<e){c[b]=0;return}d-=l+m;w=0;break}if(l<e){if(m>n){c[b]=0;return}if(v>n){c[b]=0;return}m=v;f++;v=a[b+t[f]];if(v>n){c[b]=0;return}d-=l+m;w=8;break}if(m<=n){c[b]=0;return}if(v<=n){c[b]=
0;return}m=v;f++;v=a[b+t[f]];if(v>n){d-=l+m;w=3;break}if(v<e){d-=l+m;w=6;break}c[b]=0;return;case 1:if(l<e){m=v;f++;v=a[b+t[f]];if(v>n){c[b]=0;return}d-=l+m;w=1;break}if(l>n){if(m<e){c[b]=0;return}if(v<e){c[b]=0;return}m=v;f++;v=a[b+t[f]];if(v<e){c[b]=0;return}d-=l+m;w=9;break}if(m>=e){c[b]=0;return}if(v>=e){c[b]=0;return}m=v;f++;v=a[b+t[f]];if(v<e){d-=l+m;w=2;break}if(v>n){d-=l+m;w=7;break}c[b]=0;return;case 2:if(l>n){c[b]=0;return}m=v;f++;v=a[b+t[f]];if(l<e){if(v>n){c[b]=0;return}d-=l+m;w=4;break}if(v>
n){d-=l+m;w=7;break}if(v<e){d-=l+m;w=2;break}c[b]=0;return;case 3:if(l<e){c[b]=0;return}m=v;f++;v=a[b+t[f]];if(l>n){if(v<e){c[b]=0;return}d-=l+m;w=5;break}if(v>n){d-=l+m;w=3;break}if(v<e){d-=l+m;w=6;break}c[b]=0;return;case 4:if(l>n){c[b]=0;return}if(l<e){m=v;f++;v=a[b+t[f]];if(v>n){c[b]=0;return}d-=l+m;w=1;break}if(v>=e){c[b]=0;return}m=v;f++;v=a[b+t[f]];if(v<e){d-=l+m;w=2;break}if(v>n){d-=l+m;w=7;break}c[b]=0;return;case 5:if(l<e){c[b]=0;return}if(l>n){m=v;f++;v=a[b+t[f]];if(v<e){c[b]=0;return}d-=
l+m;w=0;break}if(v<=n){c[b]=0;return}m=v;f++;v=a[b+t[f]];if(v>n){d-=l+m;w=3;break}if(v<e){d-=l+m;w=6;break}c[b]=0;return;case 7:if(l>n){c[b]=0;return}if(l<e){c[b]=0;return}m=v;f++;v=a[b+t[f]];if(v>n){d-=l+m;w=3;break}if(v<e){d-=l+m;w=6;break}c[b]=0;return;case 6:if(l>n){c[b]=0;return}if(l<e){c[b]=0;return}m=v;f++;v=a[b+t[f]];if(v<e){d-=l+m;w=2;break}if(v>n){d-=l+m;w=7;break}c[b]=0;return;case 8:if(l>n){if(v<e){c[b]=0;return}m=v;f++;v=a[b+t[f]];if(v<e){c[b]=0;return}d-=l+m;w=9;break}if(l<e){m=v;f++;
v=a[b+t[f]];if(v>n){c[b]=0;return}d-=l+m;w=1;break}c[b]=0;return;case 9:if(l<e){if(v>n){c[b]=0;return}m=v;f++;v=a[b+t[f]];if(v>n){c[b]=0;return}d-=l+m;w=8}else if(l>n){m=v;f++;v=a[b+t[f]];if(v<e){c[b]=0;return}d-=l+m;w=0}else{c[b]=0;return}}c[b]=d+p*a[b]},c=function(){return function(a,b,c){var d=this.dirs=new Int32Array(1024),e=0,h;var g=c;for(h=0;h<g;h++,e++)g=Math.sqrt(c*c-h*h)+.5|0,d[e]=g+a*h;for(g--;g<h&&0<=g;g--,e++)h=Math.sqrt(c*c-g*g)+.5|0,d[e]=g+a*h;for(;-g<h;g--,e++)h=Math.sqrt(c*c-g*g)+
.5|0,d[e]=g+a*h;for(h--;0<=h;h--,e++)g=-Math.sqrt(c*c-h*h)-.5|0,d[e]=g+a*h;for(;h>g;h--,e++)g=-Math.sqrt(c*c-h*h)-.5|0,d[e]=g+a*h;for(g++;0>=g;g++,e++)h=-Math.sqrt(c*c-g*g)-.5|0,d[e]=g+a*h;for(;g<-h;g++,e++)h=-Math.sqrt(c*c-g*g)-.5|0,d[e]=g+a*h;for(h++;0>h;h++,e++)g=Math.sqrt(c*c-h*h)+.5|0,d[e]=g+a*h;d[e]=d[0];d[e+1]=d[1];this.dirs_count=e|0;this.scores=new Int32Array(a*b);this.radius=c|0}}();return{level_tables:[],tau:7,init:function(a,b,d,e){"undefined"===typeof e&&(e=1);var h;d=Math.min(d,7);d=
Math.max(d,3);for(h=0;h<e;++h)this.level_tables[h]=new c(a>>h,b>>h,d)},detect:function(b,c,d){"undefined"===typeof d&&(d=4);var e=this.level_tables[0],h=e.radius|0,m=h-1|0,g=e.dirs,p=e.dirs_count|0,q=p>>1,f=b.data,l=b.cols|0,u=b.rows|0;b=l>>1;e=e.scores;var r,v=this.tau|0,A=0,B=Math.max(h+1,d)|0,z=Math.max(h+1,d)|0,I=Math.min(l-h-2,l-d)|0,G=Math.min(u-h-2,u-d)|0;var J=z*l+B|0;for(u=z;u<G;++u,J+=l)for(d=B,r=J;d<I;++d,++r){var H=f[r]+v;var C=f[r]-v;C<f[r+h]&&f[r+h]<H&&C<f[r-h]&&f[r-h]<H?e[r]=0:a(f,
r,e,C,H,g,q,p)}J=z*l+B|0;for(u=z;u<G;++u,J+=l)for(d=B,r=J;d<I;++d,++r)if(p=e[r],g=Math.abs(p),5>g)++d,++r;else{q=0;0!=e[r+1]&&q++;0!=e[r-1]&&q++;0!=e[r+l]&&q++;0!=e[r+l+1]&&q++;0!=e[r+l-1]&&q++;0!=e[r-l]&&q++;0!=e[r-l+1]&&q++;0!=e[r-l-1]&&q++;if(q=3<=q)a:{v=r;if(0<p)for(v-=b*h,q=-h;q<=h;++q){for(f=-h;f<=h;++f)if(e[v+f]>p){q=!1;break a}v+=b}else for(v-=b*h,q=-h;q<=h;++q){for(f=-h;f<=h;++f)if(e[v+f]<p){q=!1;break a}v+=b}q=!0}q&&(p=c[A],p.x=d,p.y=u,p.score=g,++A,d+=m,r+=m)}return A}}}();a.yape=c})(jsfeat);
(function(a){var c=function(){var a=new Int32Array([8,-3,9,5,4,2,7,-12,-11,9,-8,2,7,-12,12,-13,2,-13,2,12,1,-7,1,6,-2,-10,-2,-4,-13,-13,-11,-8,-13,-3,-12,-9,10,4,11,9,-13,-8,-8,-9,-11,7,-9,12,7,7,12,6,-4,-5,-3,0,-13,2,-12,-3,-9,0,-7,5,12,-6,12,-1,-3,6,-2,12,-6,-13,-4,-8,11,-13,12,-8,4,7,5,1,5,-3,10,-3,3,-7,6,12,-8,-7,-6,-2,-2,11,-1,-10,-13,12,-8,10,-7,3,-5,-3,-4,2,-3,7,-10,-12,-6,11,5,-12,6,-7,5,-6,7,-1,1,0,4,-5,9,11,11,-13,4,7,4,12,2,-1,4,4,-4,-12,-2,7,-8,-5,-7,-10,4,11,9,12,0,-8,1,-13,-13,-2,-8,
2,-3,-2,-2,3,-6,9,-4,-9,8,12,10,7,0,9,1,3,7,-5,11,-10,-13,-6,-11,0,10,7,12,1,-6,-3,-6,12,10,-9,12,-4,-13,8,-8,-12,-13,0,-8,-4,3,3,7,8,5,7,10,-7,-1,7,1,-12,3,-10,5,6,2,-4,3,-10,-13,0,-13,5,-13,-7,-12,12,-13,3,-11,8,-7,12,-4,7,6,-10,12,8,-9,-1,-7,-6,-2,-5,0,12,-12,5,-7,5,3,-10,8,-13,-7,-7,-4,5,-3,-2,-1,-7,2,9,5,-11,-11,-13,-5,-13,-1,6,0,-1,5,-3,5,2,-4,-13,-4,12,-9,-6,-9,6,-12,-10,-8,-4,10,2,12,-3,7,12,12,12,-7,-13,-6,5,-4,9,-3,4,7,-1,12,2,-7,6,-5,1,-13,11,-12,5,-3,7,-2,-6,7,-8,12,-7,-13,-7,-11,-12,
1,-3,12,12,2,-6,3,0,-4,3,-2,-13,-1,-13,1,9,7,1,8,-6,1,-1,3,12,9,1,12,6,-1,-9,-1,3,-13,-13,-10,5,7,7,10,12,12,-5,12,9,6,3,7,11,5,-13,6,10,2,-12,2,3,3,8,4,-6,2,6,12,-13,9,-12,10,3,-8,4,-7,9,-11,12,-4,-6,1,12,2,-8,6,-9,7,-4,2,3,3,-2,6,3,11,0,3,-3,8,-8,7,8,9,3,-11,-5,-6,-4,-10,11,-5,10,-5,-8,-3,12,-10,5,-9,0,8,-1,12,-6,4,-6,6,-11,-10,12,-8,7,4,-2,6,7,-2,0,-2,12,-5,-8,-5,2,7,-6,10,12,-9,-13,-8,-8,-5,-13,-5,-2,8,-8,9,-13,-9,-11,-9,0,1,-8,1,-2,7,-4,9,1,-2,1,-1,-4,11,-6,12,-11,-12,-9,-6,4,3,7,7,12,5,5,10,
8,0,-4,2,8,-9,12,-5,-13,0,7,2,12,-1,2,1,7,5,11,7,-9,3,5,6,-8,-13,-4,-8,9,-5,9,-3,-3,-4,-7,-3,-12,6,5,8,0,-7,6,-6,12,-13,6,-5,-2,1,-10,3,10,4,1,8,-4,-2,-2,2,-13,2,-12,12,12,-2,-13,0,-6,4,1,9,3,-6,-10,-3,-5,-3,-13,-1,1,7,5,12,-11,4,-2,5,-7,-13,9,-9,-5,7,1,8,6,7,-8,7,6,-7,-4,-7,1,-8,11,-7,-8,-13,6,-12,-8,2,4,3,9,10,-5,12,3,-6,-5,-6,7,8,-3,9,-8,2,-12,2,8,-11,-2,-10,3,-12,-13,-7,-9,-11,0,-10,-5,5,-3,11,8,-2,-13,-1,12,-1,-8,0,9,-13,-11,-12,-5,-10,-2,-10,11,-3,9,-2,-13,2,-3,3,2,-9,-13,-4,0,-4,6,-3,-10,-4,
12,-2,-7,-6,-11,-4,9,6,-3,6,11,-13,11,-5,5,11,11,12,6,7,-5,12,-2,-1,12,0,7,-4,-8,-3,-2,-7,1,-6,7,-13,-12,-8,-13,-7,-2,-6,-8,-8,5,-6,-9,-5,-1,-4,5,-13,7,-8,10,1,5,5,-13,1,0,10,-13,9,12,10,-1,5,-8,10,-9,-1,11,1,-13,-9,-3,-6,2,-1,-10,1,12,-13,1,-8,-10,8,-11,10,-6,2,-13,3,-6,7,-13,12,-9,-10,-10,-5,-7,-10,-8,-8,-13,4,-6,8,5,3,12,8,-13,-4,2,-3,-3,5,-13,10,-12,4,-13,5,-1,-9,9,-4,3,0,3,3,-9,-12,1,-6,1,3,2,4,-8,-10,-10,-10,9,8,-13,12,12,-8,-12,-6,-5,2,2,3,7,10,6,11,-8,6,8,8,-12,-7,10,-6,5,-3,-9,-3,9,-1,-13,
-1,5,-3,-7,-3,4,-8,-2,-8,3,4,2,12,12,2,-5,3,11,6,-9,11,-13,3,-1,7,12,11,-1,12,4,-3,0,-3,6,4,-11,4,12,2,-4,2,1,-10,-6,-8,1,-13,7,-11,1,-13,12,-11,-13,6,0,11,-13,0,-1,1,4,-13,3,-9,-2,-9,8,-6,-3,-13,-6,-8,-2,5,-9,8,10,2,7,3,-9,-1,-6,-1,-1,9,5,11,-2,11,-3,12,-8,3,0,3,5,-1,4,0,10,3,-6,4,5,-13,0,-10,5,5,8,12,11,8,9,9,-6,7,-4,8,-12,-10,4,-10,9,7,3,12,4,9,-7,10,-2,7,0,12,-2,-1,-6,0,-11]),c=new jsfeat.matrix_t(3,3,jsfeat.F32_t|jsfeat.C1_t),h=new jsfeat.matrix_t(32,32,jsfeat.U8_t|jsfeat.C1_t);return{describe:function(b,
d,e,n){var m=h.data;n.type&jsfeat.U8_t?n.resize(32,e,1):(n.type=jsfeat.U8_t,n.cols=32,n.rows=e,n.channel=1,n.allocate());var g=n.data,p=0;for(n=0;n<e;++n){var q=d[n].x;var f=d[n].y;var l=d[n].angle;var u=b;var r=h;var v=Math.cos(l);l=Math.sin(l);c.data[0]=v;c.data[1]=-l;c.data[2]=16*(-v+l)+q;c.data[3]=l;c.data[4]=v;c.data[5]=16*(-l-v)+f;jsfeat.imgproc.warp_affine(u,r,c,128);for(u=f=0;32>u;++u)r=m[528+32*a[f+1]+a[f]],f+=2,l=m[528+32*a[f+1]+a[f]],f+=2,q=r<l|0,r=m[528+32*a[f+1]+a[f]],f+=2,l=m[528+32*
a[f+1]+a[f]],f+=2,q|=(r<l)<<1,r=m[528+32*a[f+1]+a[f]],f+=2,l=m[528+32*a[f+1]+a[f]],f+=2,q|=(r<l)<<2,r=m[528+32*a[f+1]+a[f]],f+=2,l=m[528+32*a[f+1]+a[f]],f+=2,q|=(r<l)<<3,r=m[528+32*a[f+1]+a[f]],f+=2,l=m[528+32*a[f+1]+a[f]],f+=2,q|=(r<l)<<4,r=m[528+32*a[f+1]+a[f]],f+=2,l=m[528+32*a[f+1]+a[f]],f+=2,q|=(r<l)<<5,r=m[528+32*a[f+1]+a[f]],f+=2,l=m[528+32*a[f+1]+a[f]],f+=2,q|=(r<l)<<6,r=m[528+32*a[f+1]+a[f]],f+=2,l=m[528+32*a[f+1]+a[f]],f+=2,q|=(r<l)<<7,g[p+u]=q;p+=32}}}}();a.orb=c})(jsfeat);
(function(a){var c=function(){var a=jsfeat.imgproc.scharr_derivatives;return{track:function(b,c,m,d,w,n,t,g,p,q){"undefined"===typeof t&&(t=30);"undefined"===typeof g&&(g=new Uint8Array(w));"undefined"===typeof p&&(p=.01);"undefined"===typeof q&&(q=1E-4);var f=.5*(n-1),e=n*n|0,h=e<<1,r=b.data;c=c.data;var v=r[0].cols,A=r[0].rows;e=jsfeat.cache.get_buffer(e<<2);var B=jsfeat.cache.get_buffer(h<<2),z=jsfeat.cache.get_buffer(A*(v<<1)<<2),I=new jsfeat.matrix_t(v,A,jsfeat.S32C2_t,z.data),G=e.i32,J=B.i32,
H=z.i32;var C=0;var F,K,y,E,D,Q=1/1048576,Z;for(p*=p;C<w;++C)g[C]=1;var N=b.levels-1|0;for(K=N;0<=K;--K){var aa=1/(1<<K);var fa=v>>K;C=A>>K;var ca=fa<<1;b=r[K].data;var T=c[K].data;var V=fa-n|0;var O=C-n|0;a(r[K],I);for(y=0;y<w;++y){C=y<<1;var R=C+1;var S=m[C]*aa;var da=m[R]*aa;if(K==N){var ja=S;var ka=da}else ja=2*d[C],ka=2*d[R];d[C]=ja;d[R]=ka;S-=f;da-=f;var X=S|0;var Y=da|0;var W=0>=X|X>=V|0>=Y|Y>=O;if(0!=W)0==K&&(g[y]=0);else{W=S-X;var ha=da-Y;var oa=(1-W)*(1-ha)*16384+.5|0;var Ca=W*(1-ha)*16384+
.5|0;var Da=(1-W)*ha*16384+.5|0;var Ga=16384-oa-Ca-Da;for(F=Z=S=da=0;F<n;++F){var Aa=(F+Y)*fa+X|0;var ra=Aa<<1;ha=F*n|0;var xa=ha<<1;for(W=0;W<n;++W,++Aa,++ha,ra+=2){var qa=b[Aa]*oa+b[Aa+1]*Ca+b[Aa+fa]*Da+b[Aa+fa+1]*Ga;qa=qa+256>>9;var ua=H[ra]*oa+H[ra+2]*Ca+H[ra+ca]*Da+H[ra+ca+2]*Ga;ua=ua+8192>>14;var ma=H[ra+1]*oa+H[ra+3]*Ca+H[ra+ca+1]*Da+H[ra+ca+3]*Ga;ma=ma+8192>>14;G[ha]=qa;J[xa++]=ua;J[xa++]=ma;da+=ua*ua;S+=ua*ma;Z+=ma*ma}}da*=Q;S*=Q;Z*=Q;X=da*Z-S*S;W=(Z+da-Math.sqrt((da-Z)*(da-Z)+4*S*S))/h;
if(W<q||1.1920929E-7>X)0==K&&(g[y]=0);else for(X=1/X,ja-=f,ka-=f,ra=Aa=Y=0;ra<t;++ra){ua=ja|0;ma=ka|0;W=0>=ua|ua>=V|0>=ma|ma>=O;if(0!=W){0==K&&(g[y]=0);break}W=ja-ua;ha=ka-ma;oa=(1-W)*(1-ha)*16384+.5|0;Ca=W*(1-ha)*16384+.5|0;Da=(1-W)*ha*16384+.5|0;Ga=16384-oa-Ca-Da;for(F=D=E=0;F<n;++F){var Ha=(F+ma)*fa+ua|0;ha=F*n|0;xa=ha<<1;for(W=0;W<n;++W,++Ha,++ha)qa=T[Ha]*oa+T[Ha+1]*Ca+T[Ha+fa]*Da+T[Ha+fa+1]*Ga,qa=qa+256>>9,qa-=G[ha],E+=qa*J[xa++],D+=qa*J[xa++]}E*=Q;D*=Q;W=(S*D-Z*E)*X;oa=(S*E-da*D)*X;ja+=W;ka+=
oa;d[C]=ja+f;d[R]=ka+f;if(W*W+oa*oa<=p)break;if(0<ra&&.01>Math.abs(W+Y)&&.01>Math.abs(oa+Aa)){d[C]-=.5*W;d[R]-=.5*oa;break}Y=W;Aa=oa}}}}jsfeat.cache.put_buffer(e);jsfeat.cache.put_buffer(B);jsfeat.cache.put_buffer(z)}}}();a.optical_flow_lk=c})(jsfeat);
(function(a){var c=function(){return{edges_density:.07,detect_single_scale:function(a,c,h,m,d,w,n,t){var b=t.size[0]*n|0,e=t.size[1]*n|0,q=.5*n+1.5|0,f,l,u,r=d-b|0;w=w-e|0;var v=d+1|0,A=1/(b*e),B=e*v,z=B+b,I=b*e*255*this.edges_density|0,G=[];for(u=0;u<w;u+=q){var J=u*v;for(d=0;d<r;d+=q,J+=q){var H=a[J]-a[J+b]-a[J+B]+a[J+z];if(m){var C=m[J]-m[J+b]-m[J+B]+m[J+z];if(C<I||20>H){d+=q;J+=q;continue}}H*=A;C=(c[J]-c[J+b]-c[J+B]+c[J+z])*A-H*H;H=0<C?Math.sqrt(C):1;var F=t.complexClassifiers;var K=F.length;
var y=!0;for(C=0;C<K;++C){var E=F[C];var D=E.threshold;var Q=E.simpleClassifiers;var Z=Q.length;for(f=E=0;f<Z;++f){var N=Q[f];var aa=0;var fa=N.features;var ca=fa.length;if(1===N.tilted)for(l=0;l<ca;++l){var T=fa[l];var V=~~(d+T[0]*n)+~~(u+T[1]*n)*v;var O=~~(T[2]*n);var R=~~(T[3]*n);var S=O*v;var da=R*v;aa+=(h[V]-h[V+O+S]-h[V-R+da]+h[V+O-R+S+da])*T[4]}else for(l=0;l<ca;++l)T=fa[l],V=~~(d+T[0]*n)+~~(u+T[1]*n)*v,O=~~(T[2]*n),R=~~(T[3]*n),da=R*v,aa+=(a[V]-a[V+O]-a[V+da]+a[V+da+O])*T[4];E+=aa*A<N.threshold*
H?N.left_val:N.right_val}if(E<D){y=!1;break}}y&&(G.push({x:d,y:u,width:b,height:e,neighbor:1,confidence:E}),d+=q,J+=q)}}return G},detect_multi_scale:function(a,c,h,m,d,w,n,t,g){"undefined"===typeof t&&(t=1.2);"undefined"===typeof g&&(g=1);for(var b=n.size[0],e=n.size[1],f=[];g*b<d&&g*e<w;)f=f.concat(this.detect_single_scale(a,c,h,m,d,w,g,n)),g*=t;return f},group_rectangles:function(a,c){"undefined"===typeof c&&(c=1);var b,e,d=a.length,w=[];for(b=0;b<d;++b)w[b]={parent:-1,element:a[b],rank:0};for(b=
0;b<d;++b)if(w[b].element){for(var n=b;-1!=w[n].parent;)n=w[n].parent;for(e=0;e<d;++e){var t;if(t=b!=e&&w[e].element){t=w[b].element;var g=w[e].element,p=.25*t.width+.5|0;t=g.x<=t.x+p&&g.x>=t.x-p&&g.y<=t.y+p&&g.y>=t.y-p&&g.width<=1.5*t.width+.5|0&&1.5*g.width+.5|0>=t.width}if(t){for(t=e;-1!=w[t].parent;)t=w[t].parent;if(t!=n){w[n].rank>w[t].rank?w[t].parent=n:(w[n].parent=t,w[n].rank==w[t].rank&&w[t].rank++,n=t);for(g=e;-1!=w[g].parent;)t=g,g=w[g].parent,w[t].parent=n;for(g=b;-1!=w[g].parent;)t=g,
g=w[g].parent,w[t].parent=n}}}}t=[];for(b=n=0;b<d;b++){e=-1;g=b;if(w[g].element){for(;-1!=w[g].parent;)g=w[g].parent;0<=w[g].rank&&(w[g].rank=~n++);e=~w[g].rank}t[b]=e}e=[];for(b=0;b<n+1;++b)e[b]={neighbors:0,x:0,y:0,width:0,height:0,confidence:0};for(b=0;b<d;++b)w=a[b],g=t[b],0==e[g].neighbors&&(e[g].confidence=w.confidence),++e[g].neighbors,e[g].x+=w.x,e[g].y+=w.y,e[g].width+=w.width,e[g].height+=w.height,e[g].confidence=Math.max(e[g].confidence,w.confidence);a=[];for(b=0;b<n;++b)d=e[b].neighbors,
d>=c&&a.push({x:(2*e[b].x+d)/(2*d),y:(2*e[b].y+d)/(2*d),width:(2*e[b].width+d)/(2*d),height:(2*e[b].height+d)/(2*d),neighbors:e[b].neighbors,confidence:e[b].confidence});c=[];d=a.length;for(b=0;b<d;++b){w=a[b];n=!0;for(e=0;e<d;++e)if(t=a[e],g=.25*t.width+.5|0,b!=e&&w.x>=t.x-g&&w.y>=t.y-g&&w.x+w.width<=t.x+t.width+g&&w.y+w.height<=t.y+t.height+g&&(t.neighbors>Math.max(3,w.neighbors)||3>w.neighbors)){n=!1;break}n&&c.push(w)}return c}}}();a.haar=c})(jsfeat);
(function(a){var c=function(){var a=new jsfeat.pyramid_t(1);return{interval:4,scale:1.1486,next:5,scale_to:1,prepare_cascade:function(a){for(var b=a.stage_classifier.length,c=0;c<b;c++)for(var d=a.stage_classifier[c].feature,e=a.stage_classifier[c].count,n=a.stage_classifier[c]._feature=Array(e),t=0;t<e;t++)n[t]={size:d[t].size,px:Array(d[t].size),pz:Array(d[t].size),nx:Array(d[t].size),nz:Array(d[t].size)}},build_pyramid:function(b,c,m,d){"undefined"===typeof d&&(d=4);var e=b.cols,h=b.rows,t=!1,
g=jsfeat.U8_t|jsfeat.C1_t;this.interval=d;this.scale=Math.pow(2,1/(this.interval+1));this.next=this.interval+1|0;this.scale_to=Math.log(Math.min(e/c,h/m))/Math.log(this.scale)|0;c=4*(this.scale_to+2*this.next)|0;a.levels!=c&&(a.levels=c,a.data=Array(c),t=!0,a.data[0]=b);for(c=1;c<=this.interval;++c){m=e/Math.pow(this.scale,c)|0;d=h/Math.pow(this.scale,c)|0;var p=a.data[c<<2];if(t||m!=p.cols||d!=p.rows)a.data[c<<2]=new jsfeat.matrix_t(m,d,g),p=a.data[c<<2];jsfeat.imgproc.resample(b,p,m,d)}for(c=this.next;c<
this.scale_to+2*this.next;++c){b=a.data[(c<<2)-(this.next<<2)];p=a.data[c<<2];m=b.cols>>1;d=b.rows>>1;if(t||m!=p.cols||d!=p.rows)a.data[c<<2]=new jsfeat.matrix_t(m,d,g),p=a.data[c<<2];jsfeat.imgproc.pyrdown(b,p)}for(c=2*this.next;c<this.scale_to+2*this.next;++c){b=a.data[(c<<2)-(this.next<<2)];m=b.cols>>1;d=b.rows>>1;p=a.data[(c<<2)+1];if(t||m!=p.cols||d!=p.rows)a.data[(c<<2)+1]=new jsfeat.matrix_t(m,d,g),p=a.data[(c<<2)+1];jsfeat.imgproc.pyrdown(b,p,1,0);p=a.data[(c<<2)+2];if(t||m!=p.cols||d!=p.rows)a.data[(c<<
2)+2]=new jsfeat.matrix_t(m,d,g),p=a.data[(c<<2)+2];jsfeat.imgproc.pyrdown(b,p,0,1);p=a.data[(c<<2)+3];if(t||m!=p.cols||d!=p.rows)a.data[(c<<2)+3]=new jsfeat.matrix_t(m,d,g),p=a.data[(c<<2)+3];jsfeat.imgproc.pyrdown(b,p,1,1)}return a},detect:function(a,b){var c=this.scale,d=this.next,e=this.scale_to,h,t,g,p,q=1,f=1,l=[0,1,0,1],u=[0,0,1,1],r=[],v=a.data,A=[],B=[0,0,0],z=[0,0,0],I=[0,0,0];for(a=0;a<e;a++){var G=a<<2;var J=v[G+(d<<3)].cols-(b.width>>2);var H=v[G+(d<<3)].rows-(b.height>>2);z[0]=1*v[G].cols;
z[1]=1*v[G+(d<<2)].cols;z[2]=1*v[G+(d<<3)].cols;I[0]=4*v[G].cols-4*J;I[1]=2*v[G+(d<<2)].cols-2*J;I[2]=1*v[G+(d<<3)].cols-1*J;var C=b.stage_classifier.length;for(h=0;h<C;h++){var F=b.stage_classifier[h].feature;var K=b.stage_classifier[h]._feature;var y=b.stage_classifier[h].count;for(t=0;t<y;t++){var E=K[t];var D=F[t];var Q=D.size|0;for(g=0;g<Q;g++)E.px[g]=1*D.px[g]+D.py[g]*z[D.pz[g]],E.pz[g]=D.pz[g],E.nx[g]=1*D.nx[g]+D.ny[g]*z[D.nz[g]],E.nz[g]=D.nz[g]}}A[0]=v[G].data;A[1]=v[G+(d<<2)].data;for(g=
0;4>g;g++)for(A[2]=v[G+(d<<3)+g].data,B[0]=2*l[g]+2*u[g]*v[G].cols,B[1]=1*l[g]+1*u[g]*v[G+(d<<2)].cols,D=B[2]=0;D<H;D++){for(F=0;F<J;F++){var Z=0;var N=!0;C=b.stage_classifier.length;for(h=0;h<C;h++){Z=0;var aa=b.stage_classifier[h].alpha;K=b.stage_classifier[h]._feature;y=b.stage_classifier[h].count;for(t=0;t<y;t++){E=K[t];var fa=A[E.pz[0]][B[E.pz[0]]+E.px[0]];var ca=A[E.nz[0]][B[E.nz[0]]+E.nx[0]];if(fa<=ca)Z+=aa[t<<1];else{var T=!0;Q=E.size;for(p=1;p<Q;p++){if(0<=E.pz[p]){var V=A[E.pz[p]][B[E.pz[p]]+
E.px[p]];if(V<fa){if(V<=ca){T=!1;break}fa=V}}if(0<=E.nz[p]&&(V=A[E.nz[p]][B[E.nz[p]]+E.nx[p]],V>ca)){if(fa<=V){T=!1;break}ca=V}}Z+=T?aa[(t<<1)+1]:aa[t<<1]}}if(Z<b.stage_classifier[h].threshold){N=!1;break}}N&&(r.push({x:(4*F+2*l[g])*q,y:(4*D+2*u[g])*f,width:b.width*q,height:b.height*f,neighbor:1,confidence:Z}),++F,B[0]+=4,B[1]+=2,B[2]+=1);B[0]+=4;B[1]+=2;B[2]+=1}B[0]+=I[0];B[1]+=I[1];B[2]+=I[2]}q*=c;f*=c}return r},group_rectangles:function(a,b){"undefined"===typeof b&&(b=1);var c,d,e=a.length,h=[];
for(c=0;c<e;++c)h[c]={parent:-1,element:a[c],rank:0};for(c=0;c<e;++c)if(h[c].element){for(var t=c;-1!=h[t].parent;)t=h[t].parent;for(d=0;d<e;++d){var g;if(g=c!=d&&h[d].element){g=h[c].element;var p=h[d].element,q=.25*g.width+.5|0;g=p.x<=g.x+q&&p.x>=g.x-q&&p.y<=g.y+q&&p.y>=g.y-q&&p.width<=1.5*g.width+.5|0&&1.5*p.width+.5|0>=g.width}if(g){for(g=d;-1!=h[g].parent;)g=h[g].parent;if(g!=t){h[t].rank>h[g].rank?h[g].parent=t:(h[t].parent=g,h[t].rank==h[g].rank&&h[g].rank++,t=g);for(p=d;-1!=h[p].parent;)g=
p,p=h[p].parent,h[g].parent=t;for(p=c;-1!=h[p].parent;)g=p,p=h[p].parent,h[g].parent=t}}}}g=[];for(c=t=0;c<e;c++){d=-1;p=c;if(h[p].element){for(;-1!=h[p].parent;)p=h[p].parent;0<=h[p].rank&&(h[p].rank=~t++);d=~h[p].rank}g[c]=d}d=[];for(c=0;c<t+1;++c)d[c]={neighbors:0,x:0,y:0,width:0,height:0,confidence:0};for(c=0;c<e;++c)h=a[c],p=g[c],0==d[p].neighbors&&(d[p].confidence=h.confidence),++d[p].neighbors,d[p].x+=h.x,d[p].y+=h.y,d[p].width+=h.width,d[p].height+=h.height,d[p].confidence=Math.max(d[p].confidence,
h.confidence);a=[];for(c=0;c<t;++c)e=d[c].neighbors,e>=b&&a.push({x:(2*d[c].x+e)/(2*e),y:(2*d[c].y+e)/(2*e),width:(2*d[c].width+e)/(2*e),height:(2*d[c].height+e)/(2*e),neighbors:d[c].neighbors,confidence:d[c].confidence});b=[];e=a.length;for(c=0;c<e;++c){h=a[c];t=!0;for(d=0;d<e;++d)if(g=a[d],p=.25*g.width+.5|0,c!=d&&h.x>=g.x-p&&h.y>=g.y-p&&h.x+h.width<=g.x+g.width+p&&h.y+h.height<=g.y+g.height+p&&(g.neighbors>Math.max(3,h.neighbors)||3>h.neighbors)){t=!1;break}t&&b.push(h)}return b}}}();a.bbf=c})(jsfeat);
(function(a){"undefined"===typeof module||"undefined"===typeof module.exports?window.jsfeat=a:module.exports=a})(jsfeat);var QRCode;
!function(){function a(a){this.mode=d.MODE_8BIT_BYTE;this.data=a;this.parsedData=[];a=[];for(var b=0,c=this.data.length;c>b;b++){var f=this.data.charCodeAt(b);65536<f?(a[0]=240|(1835008&f)>>>18,a[1]=128|(258048&f)>>>12,a[2]=128|(4032&f)>>>6,a[3]=128|63&f):2048<f?(a[0]=224|(61440&f)>>>12,a[1]=128|(4032&f)>>>6,a[2]=128|63&f):128<f?(a[0]=192|(1984&f)>>>6,a[1]=128|63&f):a[0]=f;this.parsedData=this.parsedData.concat(a)}this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),
this.parsedData.unshift(239))}function c(a,b){this.typeNumber=a;this.errorCorrectLevel=b;this.modules=null;this.moduleCount=0;this.dataCache=null;this.dataList=[]}function b(a,b){if(void 0==a.length)throw Error(a.length+"/"+b);for(var c=0;c<a.length&&0==a[c];)c++;this.num=Array(a.length-c+b);for(b=0;b<a.length-c;b++)this.num[b]=a[b+c]}function e(a,b){this.totalCount=a;this.dataCount=b}function h(){this.buffer=[];this.length=0}function m(){var a=!1,b=navigator.userAgent;return/android/i.test(b)&&(a=
!0,aMat=b.toString().match(/android ([0-9]\.[0-9])/i),aMat&&aMat[1]&&(a=parseFloat(aMat[1]))),a}a.prototype={getLength:function(){return this.parsedData.length},write:function(a){for(var b=0,c=this.parsedData.length;c>b;b++)a.put(this.parsedData[b],8)}};c.prototype={addData:function(b){b=new a(b);this.dataList.push(b);this.dataCache=null},isDark:function(a,b){if(0>a||this.moduleCount<=a||0>b||this.moduleCount<=b)throw Error(a+","+b);return this.modules[a][b]},getModuleCount:function(){return this.moduleCount},
make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(a,b){this.moduleCount=4*this.typeNumber+17;this.modules=Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++){this.modules[d]=Array(this.moduleCount);for(var f=0;f<this.moduleCount;f++)this.modules[d][f]=null}this.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(a,
b);7<=this.typeNumber&&this.setupTypeNumber(a);null==this.dataCache&&(this.dataCache=c.createData(this.typeNumber,this.errorCorrectLevel,this.dataList));this.mapData(this.dataCache,b)},setupPositionProbePattern:function(a,b){for(var c=-1;7>=c;c++)if(!(-1>=a+c||this.moduleCount<=a+c))for(var d=-1;7>=d;d++)-1>=b+d||this.moduleCount<=b+d||(this.modules[a+c][b+d]=0<=c&&6>=c&&(0==d||6==d)||0<=d&&6>=d&&(0==c||6==c)||2<=c&&4>=c&&2<=d&&4>=d?!0:!1)},getBestMaskPattern:function(){for(var a=0,b=0,c=0;8>c;c++){this.makeImpl(!0,
c);var d=n.getLostPoint(this);(0==c||a>d)&&(a=d,b=c)}return b},createMovieClip:function(a,b,c){a=a.createEmptyMovieClip(b,c);this.make();for(b=0;b<this.modules.length;b++){c=1*b;for(var d=0;d<this.modules[b].length;d++){var f=1*d;this.modules[b][d]&&(a.beginFill(0,100),a.moveTo(f,c),a.lineTo(f+1,c),a.lineTo(f+1,c+1),a.lineTo(f,c+1),a.endFill())}}return a},setupTimingPattern:function(){for(var a=8;a<this.moduleCount-8;a++)null==this.modules[a][6]&&(this.modules[a][6]=0==a%2);for(a=8;a<this.moduleCount-
8;a++)null==this.modules[6][a]&&(this.modules[6][a]=0==a%2)},setupPositionAdjustPattern:function(){for(var a=n.getPatternPosition(this.typeNumber),b=0;b<a.length;b++)for(var c=0;c<a.length;c++){var d=a[b],e=a[c];if(null==this.modules[d][e])for(var h=-2;2>=h;h++)for(var g=-2;2>=g;g++)this.modules[d+h][e+g]=-2==h||2==h||-2==g||2==g||0==h&&0==g?!0:!1}},setupTypeNumber:function(a){for(var b=n.getBCHTypeNumber(this.typeNumber),c=0;18>c;c++){var d=!a&&1==(1&b>>c);this.modules[Math.floor(c/3)][c%3+this.moduleCount-
8-3]=d}for(c=0;18>c;c++)d=!a&&1==(1&b>>c),this.modules[c%3+this.moduleCount-8-3][Math.floor(c/3)]=d},setupTypeInfo:function(a,b){b=n.getBCHTypeInfo(this.errorCorrectLevel<<3|b);for(var c=0;15>c;c++){var d=!a&&1==(1&b>>c);6>c?this.modules[c][8]=d:8>c?this.modules[c+1][8]=d:this.modules[this.moduleCount-15+c][8]=d}for(c=0;15>c;c++)d=!a&&1==(1&b>>c),8>c?this.modules[8][this.moduleCount-c-1]=d:9>c?this.modules[8][15-c-1+1]=d:this.modules[8][15-c-1]=d;this.modules[this.moduleCount-8][8]=!a},mapData:function(a,
b){for(var c=-1,d=this.moduleCount-1,f=7,e=0,h=this.moduleCount-1;0<h;h-=2)for(6==h&&h--;;){for(var l=0;2>l;l++)if(null==this.modules[d][h-l]){var g=!1;e<a.length&&(g=1==(1&a[e]>>>f));n.getMask(b,d,h-l)&&(g=!g);this.modules[d][h-l]=g;f--; -1==f&&(e++,f=7)}if(d+=c,0>d||this.moduleCount<=d){d-=c;c=-c;break}}}};c.PAD0=236;c.PAD1=17;c.createData=function(a,b,d){b=e.getRSBlocks(a,b);for(var f=new h,l=0;l<d.length;l++){var g=d[l];f.put(g.mode,4);f.put(g.getLength(),n.getLengthInBits(g.mode,a));g.write(f)}for(l=
a=0;l<b.length;l++)a+=b[l].dataCount;if(f.getLengthInBits()>8*a)throw Error("code length overflow. ("+f.getLengthInBits()+">"+8*a+")");for(f.getLengthInBits()+4<=8*a&&f.put(0,4);0!=f.getLengthInBits()%8;)f.putBit(!1);for(;!(f.getLengthInBits()>=8*a||(f.put(c.PAD0,8),f.getLengthInBits()>=8*a));)f.put(c.PAD1,8);return c.createBytes(f,b)};c.createBytes=function(a,c){for(var d=0,f=0,e=0,h=Array(c.length),l=Array(c.length),g=0;g<c.length;g++){var m=c[g].dataCount,p=c[g].totalCount-m;f=Math.max(f,m);e=
Math.max(e,p);h[g]=Array(m);for(var q=0;q<h[g].length;q++)h[g][q]=255&a.buffer[q+d];d+=m;q=n.getErrorCorrectPolynomial(p);m=(new b(h[g],q.getLength()-1)).mod(q);l[g]=Array(q.getLength()-1);for(q=0;q<l[g].length;q++)p=q+m.getLength()-l[g].length,l[g][q]=0<=p?m.get(p):0}for(q=g=0;q<c.length;q++)g+=c[q].totalCount;a=Array(g);for(q=d=0;f>q;q++)for(g=0;g<c.length;g++)q<h[g].length&&(a[d++]=h[g][q]);for(q=0;e>q;q++)for(g=0;g<c.length;g++)q<l[g].length&&(a[d++]=l[g][q]);return a};for(var d={MODE_NUMBER:1,
MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},w={L:1,M:0,Q:3,H:2},n={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,
86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var b=a<<10;0<=n.getBCHDigit(b)-n.getBCHDigit(n.G15);)b^=n.G15<<n.getBCHDigit(b)-n.getBCHDigit(n.G15);return(a<<10|b)^n.G15_MASK},getBCHTypeNumber:function(a){for(var b=a<<12;0<=n.getBCHDigit(b)-n.getBCHDigit(n.G18);)b^=n.G18<<n.getBCHDigit(b)-
n.getBCHDigit(n.G18);return a<<12|b},getBCHDigit:function(a){for(var b=0;0!=a;)b++,a>>>=1;return b},getPatternPosition:function(a){return n.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,b,c){switch(a){case 0:return 0==(b+c)%2;case 1:return 0==b%2;case 2:return 0==c%3;case 3:return 0==(b+c)%3;case 4:return 0==(Math.floor(b/2)+Math.floor(c/3))%2;case 5:return 0==b*c%2+b*c%3;case 6:return 0==(b*c%2+b*c%3)%2;case 7:return 0==(b*c%3+(b+c)%2)%2;default:throw Error("bad maskPattern:"+a);}},getErrorCorrectPolynomial:function(a){for(var c=
new b([1],0),d=0;a>d;d++)c=c.multiply(new b([1,t.gexp(d)],0));return c},getLengthInBits:function(a,b){if(1<=b&&10>b)switch(a){case d.MODE_NUMBER:return 10;case d.MODE_ALPHA_NUM:return 9;case d.MODE_8BIT_BYTE:return 8;case d.MODE_KANJI:return 8;default:throw Error("mode:"+a);}else if(27>b)switch(a){case d.MODE_NUMBER:return 12;case d.MODE_ALPHA_NUM:return 11;case d.MODE_8BIT_BYTE:return 16;case d.MODE_KANJI:return 10;default:throw Error("mode:"+a);}else{if(!(41>b))throw Error("type:"+b);switch(a){case d.MODE_NUMBER:return 14;
case d.MODE_ALPHA_NUM:return 13;case d.MODE_8BIT_BYTE:return 16;case d.MODE_KANJI:return 12;default:throw Error("mode:"+a);}}},getLostPoint:function(a){for(var b=a.getModuleCount(),c=0,d=0;b>d;d++)for(var e=0;b>e;e++){for(var f=0,h=a.isDark(d,e),g=-1;1>=g;g++)if(!(0>d+g||d+g>=b))for(var m=-1;1>=m;m++)0>e+m||e+m>=b||(0!=g||0!=m)&&h==a.isDark(d+g,e+m)&&f++;5<f&&(c+=3+f-5)}for(d=0;b-1>d;d++)for(e=0;b-1>e;e++)f=0,a.isDark(d,e)&&f++,a.isDark(d+1,e)&&f++,a.isDark(d,e+1)&&f++,a.isDark(d+1,e+1)&&f++,0!=f&&
4!=f||(c+=3);for(d=0;b>d;d++)for(e=0;b-6>e;e++)a.isDark(d,e)&&!a.isDark(d,e+1)&&a.isDark(d,e+2)&&a.isDark(d,e+3)&&a.isDark(d,e+4)&&!a.isDark(d,e+5)&&a.isDark(d,e+6)&&(c+=40);for(e=0;b>e;e++)for(d=0;b-6>d;d++)a.isDark(d,e)&&!a.isDark(d+1,e)&&a.isDark(d+2,e)&&a.isDark(d+3,e)&&a.isDark(d+4,e)&&!a.isDark(d+5,e)&&a.isDark(d+6,e)&&(c+=40);for(e=f=0;b>e;e++)for(d=0;b>d;d++)a.isDark(d,e)&&f++;return c+Math.abs(100*f/b/b-50)/5*10}},t={glog:function(a){if(1>a)throw Error("glog("+a+")");return t.LOG_TABLE[a]},
gexp:function(a){for(;0>a;)a+=255;for(;256<=a;)a-=255;return t.EXP_TABLE[a]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},g=0;8>g;g++)t.EXP_TABLE[g]=1<<g;for(g=8;256>g;g++)t.EXP_TABLE[g]=t.EXP_TABLE[g-4]^t.EXP_TABLE[g-5]^t.EXP_TABLE[g-6]^t.EXP_TABLE[g-8];for(g=0;255>g;g++)t.LOG_TABLE[t.EXP_TABLE[g]]=g;b.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(a){for(var c=Array(this.getLength()+a.getLength()-1),d=0;d<this.getLength();d++)for(var e=
0;e<a.getLength();e++)c[d+e]^=t.gexp(t.glog(this.get(d))+t.glog(a.get(e)));return new b(c,0)},mod:function(a){if(0>this.getLength()-a.getLength())return this;for(var c=t.glog(this.get(0))-t.glog(a.get(0)),d=Array(this.getLength()),e=0;e<this.getLength();e++)d[e]=this.get(e);for(e=0;e<a.getLength();e++)d[e]^=t.gexp(t.glog(a.get(e))+c);return(new b(d,0)).mod(a)}};e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],
[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,
46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,
70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,
46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],
[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,
46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];e.getRSBlocks=function(a,b){var c=e.getRsBlockTable(a,b);if(void 0==c)throw Error("bad rs block @ typeNumber:"+a+"/errorCorrectLevel:"+b);a=c.length/3;b=[];for(var d=0;a>d;d++)for(var f=c[3*d],h=c[3*d+1],g=c[3*d+2],l=0;f>l;l++)b.push(new e(h,g));return b};e.getRsBlockTable=function(a,
b){switch(b){case w.L:return e.RS_BLOCK_TABLE[4*(a-1)];case w.M:return e.RS_BLOCK_TABLE[4*(a-1)+1];case w.Q:return e.RS_BLOCK_TABLE[4*(a-1)+2];case w.H:return e.RS_BLOCK_TABLE[4*(a-1)+3]}};h.prototype={get:function(a){return 1==(1&this.buffer[Math.floor(a/8)]>>>7-a%8)},put:function(a,b){for(var c=0;b>c;c++)this.putBit(1==(1&a>>>b-c-1))},getLengthInBits:function(){return this.length},putBit:function(a){var b=Math.floor(this.length/8);this.buffer.length<=b&&this.buffer.push(0);a&&(this.buffer[b]|=128>>>
this.length%8);this.length++}};var p=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,
625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];g=function(){var a=function(a,b){this._el=a;this._htOption=b};return a.prototype.draw=function(a){function b(a,b){a=document.createElementNS("http://www.w3.org/2000/svg",a);for(var c in b)b.hasOwnProperty(c)&&a.setAttribute(c,
b[c]);return a}var c=this._htOption,d=this._el,e=a.getModuleCount();Math.floor(c.width/e);Math.floor(c.height/e);this.clear();var f=b("svg",{viewBox:"0 0 "+String(e)+" "+String(e),width:"100%",height:"100%",fill:c.colorLight});f.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");d.appendChild(f);f.appendChild(b("rect",{fill:c.colorDark,width:"1",height:"1",id:"template"}));for(c=0;e>c;c++)for(d=0;e>d;d++)if(a.isDark(c,d)){var h=b("use",{x:String(c),y:String(d)});
h.setAttributeNS("http://www.w3.org/1999/xlink","href","#template");f.appendChild(h)}},a.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},a}();var q="svg"===document.documentElement.tagName.toLowerCase()?g:"undefined"!=typeof CanvasRenderingContext2D?function(){function a(){this._elImage.src=this._elCanvas.toDataURL("image/png");this._elImage.style.display="block";this._elCanvas.style.display="none"}function b(a,b){var c=this;if(c._fFail=b,c._fSuccess=
a,null===c._bSupportDataURI)return a=document.createElement("img"),b=function(){c._bSupportDataURI=!1;c._fFail&&_fFail.call(c)},a.onabort=b,a.onerror=b,a.onload=function(){c._bSupportDataURI=!0;c._fSuccess&&c._fSuccess.call(c)},a.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==",void 0;!0===c._bSupportDataURI&&c._fSuccess?c._fSuccess.call(c):!1===c._bSupportDataURI&&c._fFail&&c._fFail.call(c)}if(this._android&&
2.1>=this._android){var c=1/window.devicePixelRatio,d=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(a,b,e,f,h,g,l,m){if("nodeName"in a&&/img/i.test(a.nodeName))for(var n=arguments.length-1;1<=n;n--)arguments[n]*=c;else"undefined"==typeof m&&(arguments[1]*=c,arguments[2]*=c,arguments[3]*=c,arguments[4]*=c);d.apply(this,arguments)}}var e=function(a,b){this._bIsPainted=!1;this._android=m();this._htOption=b;this._elCanvas=document.createElement("canvas");
this._elCanvas.width=b.width;this._elCanvas.height=b.height;a.appendChild(this._elCanvas);this._el=a;this._oContext=this._elCanvas.getContext("2d");this._bIsPainted=!1;this._elImage=document.createElement("img");this._elImage.style.display="none";this._el.appendChild(this._elImage);this._bSupportDataURI=null};return e.prototype.draw=function(a){var b=this._elImage,c=this._oContext,d=this._htOption,e=a.getModuleCount(),f=d.width/e,h=d.height/e,g=Math.round(f),l=Math.round(h);b.style.display="none";
this.clear();for(b=0;e>b;b++)for(var m=0;e>m;m++){var n=a.isDark(b,m),q=m*f,p=b*h;c.strokeStyle=n?d.colorDark:d.colorLight;c.lineWidth=1;c.fillStyle=n?d.colorDark:d.colorLight;c.fillRect(q,p,f,h);c.strokeRect(Math.floor(q)+.5,Math.floor(p)+.5,g,l);c.strokeRect(Math.ceil(q)-.5,Math.ceil(p)-.5,g,l)}this._bIsPainted=!0},e.prototype.makeImage=function(){this._bIsPainted&&b.call(this,a)},e.prototype.isPainted=function(){return this._bIsPainted},e.prototype.clear=function(){this._oContext.clearRect(0,0,
this._elCanvas.width,this._elCanvas.height);this._bIsPainted=!1},e.prototype.round=function(a){return a?Math.floor(1E3*a)/1E3:a},e}():function(){var a=function(a,b){this._el=a;this._htOption=b};return a.prototype.draw=function(a){for(var b=this._htOption,c=this._el,d=a.getModuleCount(),e=Math.floor(b.width/d),f=Math.floor(b.height/d),h=['<table style="border:0;border-collapse:collapse;">'],g=0;d>g;g++){h.push("<tr>");for(var l=0;d>l;l++)h.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+
e+"px;height:"+f+"px;background-color:"+(a.isDark(g,l)?b.colorDark:b.colorLight)+';"></td>');h.push("</tr>")}h.push("</table>");c.innerHTML=h.join("");a=c.childNodes[0];c=(b.width-a.offsetWidth)/2;b=(b.height-a.offsetHeight)/2;0<c&&0<b&&(a.style.margin=b+"px "+c+"px")},a.prototype.clear=function(){this._el.innerHTML=""},a}();QRCode=function(a,b){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:w.H},"string"==typeof b&&(b={text:b}),b)for(var c in b)this._htOption[c]=
b[c];"string"==typeof a&&(a=document.getElementById(a));this._android=m();this._el=a;this._oQRCode=null;this._oDrawing=new q(this._el,this._htOption);this._htOption.text&&this.makeCode(this._htOption.text)};QRCode.prototype.makeCode=function(a){var b=this._htOption.correctLevel,d=1;var e=encodeURI(a).toString().replace(/%[0-9a-fA-F]{2}/g,"a");e=e.length+(e.length!=a?3:0);for(var f=0,h=p.length;h>=f;f++){var g=0;switch(b){case w.L:g=p[f][0];break;case w.M:g=p[f][1];break;case w.Q:g=p[f][2];break;case w.H:g=
p[f][3]}if(g>=e)break;d++}if(d>p.length)throw Error("Too long data");this._oQRCode=new c(d,this._htOption.correctLevel);this._oQRCode.addData(a);this._oQRCode.make();this._el.title=a;this._oDrawing.draw(this._oQRCode);this.makeImage()};QRCode.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||3<=this._android)&&this._oDrawing.makeImage()};QRCode.prototype.clear=function(){this._oDrawing.clear()};QRCode.CorrectLevel=w}();
!function(a,c){"object"==typeof exports&&"undefined"!=typeof module?c(exports):"function"==typeof define&&define.amd?define(["exports"],c):c(a.opentype={})}(this,function(a){function c(){this.table=new Uint16Array(16);this.trans=new Uint16Array(288)}function b(a,b,c,d){var k;for(k=0;k<c;++k)a[k]=0;for(k=0;k<30-c;++k)a[k+c]=k/c|0;c=d;for(k=0;30>k;++k)b[k]=c,c+=1<<a[k]}function e(a,b,c,d){var k,x;for(k=0;16>k;++k)a.table[k]=0;for(k=0;k<d;++k)a.table[b[c+k]]++;for(k=x=a.table[0]=0;16>k;++k)Yb[k]=x,x+=
a.table[k];for(k=0;k<d;++k)b[c+k]&&(a.trans[Yb[b[c+k]]++]=k)}function h(a){a.bitcount--||(a.tag=a.source[a.sourceIndex++],a.bitcount=7);var k=1&a.tag;return a.tag>>>=1,k}function m(a,b,c){if(!b)return c;for(;24>a.bitcount;)a.tag|=a.source[a.sourceIndex++]<<a.bitcount,a.bitcount+=8;var k=a.tag&65535>>>16-b;return a.tag>>>=b,a.bitcount-=b,k+c}function d(a,b){for(;24>a.bitcount;)a.tag|=a.source[a.sourceIndex++]<<a.bitcount,a.bitcount+=8;for(var k=0,x=0,c=0,d=a.tag;x=2*x+(1&d),d>>>=1,++c,k+=b.table[c],
0<=(x-=b.table[c]););return a.tag=d,a.bitcount-=c,b.trans[k+x]}function w(a,b,c){var k;var x=m(a,5,257);var L=m(a,5,1);var f=m(a,4,4);for(k=0;19>k;++k)Qa[k]=0;for(k=0;k<f;++k){var h=m(a,3,0);Qa[Cc[k]]=h}e(Zb,Qa,0,19);for(f=0;f<x+L;)switch(k=d(a,Zb),k){case 16:h=Qa[f-1];for(k=m(a,2,3);k;--k)Qa[f++]=h;break;case 17:for(k=m(a,3,3);k;--k)Qa[f++]=0;break;case 18:for(k=m(a,7,11);k;--k)Qa[f++]=0;break;default:Qa[f++]=k}e(b,Qa,0,x);e(c,Qa,x,L)}function n(a,b,c){for(;;){var k;var x=d(a,b);if(256===x)return 0;
if(256>x)a.dest[a.destLen++]=x;else{var L=m(a,Qb[x-=257],Rb[x]);x=d(a,c);for(k=x=a.destLen-m(a,$b[x],ac[x]);k<x+L;++k)a.dest[a.destLen++]=a.dest[k]}}}function t(a){for(var k;8<a.bitcount;)a.sourceIndex--,a.bitcount-=8;if((k=256*(k=a.source[a.sourceIndex+1])+a.source[a.sourceIndex])!==(65535&~(256*a.source[a.sourceIndex+3]+a.source[a.sourceIndex+2])))return-3;for(a.sourceIndex+=4;k;--k)a.dest[a.destLen++]=a.source[a.sourceIndex++];return a.bitcount=0,0}function g(a,b,c,d,e){return Math.pow(1-e,3)*
a+3*Math.pow(1-e,2)*e*b+3*(1-e)*Math.pow(e,2)*c+Math.pow(e,3)*d}function p(){this.y2=this.x2=this.y1=this.x1=Number.NaN}function q(){this.commands=[];this.fill="black";this.stroke=null;this.strokeWidth=1}function f(a){throw Error(a);}function l(a,b){a||f(b)}function u(a){return function(){return a}}function r(a,b,c){for(var k=0;k<b.length;k+=1){var x=b[k];this[x.name]=x.value}if(this.tableName=a,this.fields=b,c)for(a=Object.keys(c),b=0;b<a.length;b+=1)k=a[b],x=c[k],void 0!==this[k]&&(this[k]=x)}function v(a,
b,c){void 0===c&&(c=b.length);var k=Array(b.length+1);k[0]={name:a+"Count",type:"USHORT",value:c};for(c=0;c<b.length;c++)k[c+1]={name:a+c,type:"USHORT",value:b[c]};return k}function A(a,b,c){var k=b.length,x=Array(k+1);x[0]={name:a+"Count",type:"USHORT",value:k};for(var L=0;L<k;L++)x[L+1]={name:a+L,type:"TABLE",value:c(b[L],L)};return x}function B(a,b,c){var k=b.length,x=[];x[0]={name:a+"Count",type:"USHORT",value:k};for(a=0;a<k;a++)x=x.concat(c(b[a],a));return x}function z(a){1===a.format?r.call(this,
"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(v("glyph",a.glyphs))):ia.assert(!1,"Can't create coverage table format 2 yet.")}function I(a){r.call(this,"scriptListTable",B("scriptRecord",a,function(a,k){var b=a.script,x=b.defaultLangSys;return ia.assert(!!x,"Unable to write GSUB: script "+a.tag+" has no default language system."),[{name:"scriptTag"+k,type:"TAG",value:a.tag},{name:"script"+k,type:"TABLE",value:new r("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new r("defaultLangSys",
[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:x.reqFeatureIndex}].concat(v("featureIndex",x.featureIndexes)))}].concat(B("langSys",b.langSysRecords,function(a,k){var b=a.langSys;return[{name:"langSysTag"+k,type:"TAG",value:a.tag},{name:"langSys"+k,type:"TABLE",value:new r("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:b.reqFeatureIndex}].concat(v("featureIndex",b.featureIndexes)))}]})))}]}))}function G(a){r.call(this,
"featureListTable",B("featureRecord",a,function(a,k){var b=a.feature;return[{name:"featureTag"+k,type:"TAG",value:a.tag},{name:"feature"+k,type:"TABLE",value:new r("featureTable",[{name:"featureParams",type:"USHORT",value:b.featureParams}].concat(v("lookupListIndex",b.lookupListIndexes)))}]}))}function J(a,b){r.call(this,"lookupListTable",A("lookup",a,function(a){var k=b[a.lookupType];return ia.assert(!!k,"Unable to write GSUB lookup type "+a.lookupType+" tables."),new r("lookupTable",[{name:"lookupType",
type:"USHORT",value:a.lookupType},{name:"lookupFlag",type:"USHORT",value:a.lookupFlag}].concat(A("subtable",a.subtables,k)))}))}function H(a,b){return a.getUint8(b)}function C(a,b){return a.getUint16(b,!1)}function F(a,b){return a.getUint32(b,!1)}function K(a,b){return a.getInt16(b,!1)+a.getUint16(b+2,!1)/65535}function y(a,b){this.data=a;this.offset=b;this.relativeOffset=0}function E(a){this.font=a}function D(a){this.cmap=a}function Q(a,b){this.encoding=a;this.charset=b}function Z(a){switch(a.version){case 1:this.names=
eb.slice();break;case 2:this.names=Array(a.numberOfGlyphs);for(var k=0;k<a.numberOfGlyphs;k++)a.glyphNameIndex[k]<eb.length?this.names[k]=eb[a.glyphNameIndex[k]]:this.names[k]=a.names[a.glyphNameIndex[k]-eb.length];break;case 2.5:this.names=Array(a.numberOfGlyphs);for(k=0;k<a.numberOfGlyphs;k++)this.names[k]=eb[k+a.glyphNameIndex[k]];break;default:this.names=[]}}function N(a){this.bindConstructorValues(a)}function aa(a,b,c){Object.defineProperty(a,b,{get:function(){return a.path,a[c]},set:function(k){a[c]=
k},enumerable:!0,configurable:!0})}function fa(a,b){if(this.font=a,this.glyphs={},Array.isArray(b))for(a=0;a<b.length;a++)this.glyphs[a]=b[a];this.length=b&&b.length||0}function ca(a,b){if(a===b)return!0;if(Array.isArray(a)&&Array.isArray(b)){if(a.length!==b.length)return!1;for(var k=0;k<a.length;k+=1)if(!ca(a[k],b[k]))return!1;return!0}return!1}function T(a){return 1240>a.length?107:33900>a.length?1131:32768}function V(a,b,c){var k=[],x=[];var L=U.getCard16(a,b);if(0!==L){var d=U.getByte(a,b+2);
var e=b+(L+1)*d+2;for(var f=b+3,h=0;h<L+1;h+=1)k.push(U.getOffset(a,f,d)),f+=d;L=e+k[L]}else L=b+2;for(d=0;d<k.length-1;d+=1)f=U.getBytes(a,e+k[d],e+k[d+1]),c&&(f=c(f)),x.push(f);return{objects:x,startOffset:b,endOffset:L}}function O(a,b){if(28===b)return a.parseByte()<<8|a.parseByte();if(29===b)return a.parseByte()<<24|a.parseByte()<<16|a.parseByte()<<8|a.parseByte();if(30===b){b="";for(var k=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var x=a.parseByte(),c=x>>4;x&=15;if(15===
c)break;if(b+=k[c],15===x)break;b+=k[x]}return parseFloat(b)}if(32<=b&&246>=b)return b-139;if(247<=b&&250>=b)return 256*(b-247)+a.parseByte()+108;if(251<=b&&254>=b)return 256*-(b-251)-a.parseByte()-108;throw Error("Invalid b0 "+b);}function R(a,b,c){var k=new U.Parser(a,void 0!==b?b:0);b=[];var x=[];for(c=void 0!==c?c:a.length;k.relativeOffset<c;)a=k.parseByte(),21>=a?(12===a&&(a=1200+k.parseByte()),b.push([a,x]),x=[]):x.push(O(k,a));c={};for(a=0;a<b.length;a+=1){k=b[a][0];x=b[a][1];if(x=1===x.length?
x[0]:x,c.hasOwnProperty(k)&&!isNaN(c[k]))throw Error("Object "+c+" already has key "+k);c[k]=x}return c}function S(a,b){return 390>=b?Jb[b]:a[b-391]}function da(a,b,c){for(var k,x={},L=0;L<b.length;L+=1){var d=b[L];if(Array.isArray(d.type)){var e=[];e.length=d.type.length;for(var f=0;f<d.type.length;f++)void 0===(k=void 0!==a[d.op]?a[d.op][f]:void 0)&&(k=void 0!==d.value&&void 0!==d.value[f]?d.value[f]:null),"SID"===d.type[f]&&(k=S(c,k)),e[f]=k;x[d.name]=e}else void 0===(k=a[d.op])&&(k=void 0!==d.value?
d.value:null),"SID"===d.type&&(k=S(c,k)),x[d.name]=k}return x}function ja(a,b,c,d){return da(R(a,b,c),bc,d)}function ka(a,b,c,d){for(var k,x,L=[],e=0;e<c.length;e+=1){var f=new DataView((new Uint8Array(c[e])).buffer);f=(x=d,da(R(k=f,0,k.byteLength),cc,x));f._subrs=[];f._subrsBias=0;var h=f.private[0],sa=f.private[1];if(0!==h&&0!==sa){h=ja(a,sa+b,h,d);if(f._defaultWidthX=h.defaultWidthX,f._nominalWidthX=h.nominalWidthX,0!==h.subrs)sa=V(a,sa+h.subrs+b),f._subrs=sa.objects,f._subrsBias=T(f._subrs);f._privateDict=
h}L.push(f)}return L}function X(a,b,c){function k(a,k){n&&h.closePath();h.moveTo(a,k);n=!0}function x(){0!=g.length%2&&!m&&(A=g.shift()+y);l+=g.length>>1;g.length=0;m=!0}var d,L,e,f,h=new q,g=[],l=0,m=!1,n=!1,p=0,r=0;if(a.isCIDFont){var t=a.tables.cff.topDict._fdArray[a.tables.cff.topDict._fdSelect[b.index]];var u=t._subrs;var v=t._subrsBias;var w=t._defaultWidthX;var y=t._nominalWidthX}else u=a.tables.cff.topDict._subrs,v=a.tables.cff.topDict._subrsBias,w=a.tables.cff.topDict._defaultWidthX,y=a.tables.cff.topDict._nominalWidthX;
var A=w;return function dc(c){for(var sa,Hb,q,Ib,t,Pa,w,Fa,Ja,z,B,C=0;C<c.length;)switch(t=c[C],C+=1,t){case 1:case 3:x();break;case 4:1<g.length&&!m&&(A=g.shift()+y,m=!0);r+=g.pop();k(p,r);break;case 5:for(;0<g.length;)p+=g.shift(),r+=g.shift(),h.lineTo(p,r);break;case 6:for(;0<g.length&&(p+=g.shift(),h.lineTo(p,r),0!==g.length);)r+=g.shift(),h.lineTo(p,r);break;case 7:for(;0<g.length&&(r+=g.shift(),h.lineTo(p,r),0!==g.length);)p+=g.shift(),h.lineTo(p,r);break;case 8:for(;0<g.length;)d=p+g.shift(),
L=r+g.shift(),e=d+g.shift(),f=L+g.shift(),p=e+g.shift(),r=f+g.shift(),h.curveTo(d,L,e,f,p,r);break;case 10:t=g.pop()+v;(Pa=u[t])&&dc(Pa);break;case 11:return;case 12:switch(t=c[C],C+=1,t){case 35:d=p+g.shift();L=r+g.shift();e=d+g.shift();f=L+g.shift();t=e+g.shift();w=f+g.shift();Fa=t+g.shift();Ja=w+g.shift();z=Fa+g.shift();B=Ja+g.shift();p=z+g.shift();r=B+g.shift();g.shift();h.curveTo(d,L,e,f,t,w);h.curveTo(Fa,Ja,z,B,p,r);break;case 34:d=p+g.shift();L=r;e=d+g.shift();f=L+g.shift();t=e+g.shift();w=
f;Fa=t+g.shift();Ja=f;z=Fa+g.shift();B=r;p=z+g.shift();h.curveTo(d,L,e,f,t,w);h.curveTo(Fa,Ja,z,B,p,r);break;case 36:d=p+g.shift();L=r+g.shift();e=d+g.shift();f=L+g.shift();t=e+g.shift();w=f;Fa=t+g.shift();Ja=f;z=Fa+g.shift();B=Ja+g.shift();p=z+g.shift();h.curveTo(d,L,e,f,t,w);h.curveTo(Fa,Ja,z,B,p,r);break;case 37:d=p+g.shift();L=r+g.shift();e=d+g.shift();f=L+g.shift();t=e+g.shift();w=f+g.shift();Fa=t+g.shift();Ja=w+g.shift();z=Fa+g.shift();B=Ja+g.shift();Math.abs(z-p)>Math.abs(B-r)?p=z+g.shift():
r=B+g.shift();h.curveTo(d,L,e,f,t,w);h.curveTo(Fa,Ja,z,B,p,r);break;default:console.log("Glyph "+b.index+": unknown operator 1200"+t),g.length=0}break;case 14:0<g.length&&!m&&(A=g.shift()+y,m=!0);n&&(h.closePath(),n=!1);break;case 18:x();break;case 19:case 20:x();C+=l+7>>3;break;case 21:2<g.length&&!m&&(A=g.shift()+y,m=!0);r+=g.pop();k(p+=g.pop(),r);break;case 22:1<g.length&&!m&&(A=g.shift()+y,m=!0);k(p+=g.pop(),r);break;case 23:x();break;case 24:for(;2<g.length;)d=p+g.shift(),L=r+g.shift(),e=d+g.shift(),
f=L+g.shift(),p=e+g.shift(),r=f+g.shift(),h.curveTo(d,L,e,f,p,r);p+=g.shift();r+=g.shift();h.lineTo(p,r);break;case 25:for(;6<g.length;)p+=g.shift(),r+=g.shift(),h.lineTo(p,r);d=p+g.shift();L=r+g.shift();e=d+g.shift();f=L+g.shift();p=e+g.shift();r=f+g.shift();h.curveTo(d,L,e,f,p,r);break;case 26:for(g.length%2&&(p+=g.shift());0<g.length;)d=p,L=r+g.shift(),e=d+g.shift(),f=L+g.shift(),p=e,r=f+g.shift(),h.curveTo(d,L,e,f,p,r);break;case 27:for(g.length%2&&(r+=g.shift());0<g.length;)d=p+g.shift(),L=r,
e=d+g.shift(),f=L+g.shift(),p=e+g.shift(),r=f,h.curveTo(d,L,e,f,p,r);break;case 28:sa=c[C];Hb=c[C+1];g.push((sa<<24|Hb<<16)>>16);C+=2;break;case 29:t=g.pop()+a.gsubrsBias;(Pa=a.gsubrs[t])&&dc(Pa);break;case 30:for(;0<g.length&&(d=p,L=r+g.shift(),e=d+g.shift(),f=L+g.shift(),p=e+g.shift(),r=f+(1===g.length?g.shift():0),h.curveTo(d,L,e,f,p,r),0!==g.length);)d=p+g.shift(),L=r,e=d+g.shift(),f=L+g.shift(),r=f+g.shift(),p=e+(1===g.length?g.shift():0),h.curveTo(d,L,e,f,p,r);break;case 31:for(;0<g.length&&
(d=p+g.shift(),L=r,e=d+g.shift(),f=L+g.shift(),r=f+g.shift(),p=e+(1===g.length?g.shift():0),h.curveTo(d,L,e,f,p,r),0!==g.length);)d=p,L=r+g.shift(),e=d+g.shift(),f=L+g.shift(),p=e+g.shift(),r=f+(1===g.length?g.shift():0),h.curveTo(d,L,e,f,p,r);break;default:32>t?console.log("Glyph "+b.index+": unknown operator "+t):247>t?g.push(t-139):251>t?(sa=c[C],C+=1,g.push(256*(t-247)+sa+108)):255>t?(sa=c[C],C+=1,g.push(256*-(t-251)-sa-108)):(sa=c[C],Hb=c[C+1],q=c[C+2],Ib=c[C+3],C+=4,g.push((sa<<24|Hb<<16|q<<
8|Ib)/65536))}}(c),b.advanceWidth=A,h}function Y(a,b){var k,x=Jb.indexOf(a);return 0<=(x=b.indexOf(a))?k=x+Jb.length:(k=Jb.length+b.length,b.push(a)),k}function W(a,b,c){for(var k={},x=0;x<a.length;x+=1){var d=a[x],L=b[d.name];void 0===L||ca(L,d.value)||("SID"===d.type&&(L=Y(L,c)),k[d.op]={name:d.name,type:d.type,value:L})}return k}function ha(a,b){var k=new ba.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return k.dict=W(cc,a,b),k}function oa(a){var k=new ba.Record("Top DICT INDEX",[{name:"topDicts",
type:"INDEX",value:[]}]);return k.topDicts=[{name:"topDict_0",type:"TABLE",value:a}],k}function Ca(a,b,c){switch(a){case 0:return"utf-16";case 1:return Dc[c]||Ec[b];case 3:if(1===b||10===b)return"utf-16"}}function Da(a){var k={},b;for(b in a)k[a[b]]=parseInt(b);return k}function Ga(a,b,c,d,e,f){return new ba.Record("NameRecord",[{name:"platformID",type:"USHORT",value:a},{name:"encodingID",type:"USHORT",value:b},{name:"languageID",type:"USHORT",value:c},{name:"nameID",type:"USHORT",value:d},{name:"length",
type:"USHORT",value:e},{name:"offset",type:"USHORT",value:f}])}function Aa(a,b){a:{var k=a.length;var c=b.length-k+1,x=0;b:for(;x<c;x++)for(;x<c;){for(var d=0;d<k;d++)if(b[x+d]!==a[d])continue b;k=x;break a}k=-1}if(0>k)for(k=b.length,c=0,x=a.length;c<x;++c)b.push(a[c]);return k}function ra(a){for(;0!=a.length%4;)a.push(0);for(var k=0,b=0;b<a.length;b+=4)k+=(a[b]<<24)+(a[b+1]<<16)+(a[b+2]<<8)+a[b+3];return k%Math.pow(2,32)}function xa(a,b,c,d){return new ba.Record("Table Record",[{name:"tag",type:"TAG",
value:void 0!==a?a:""},{name:"checkSum",type:"ULONG",value:void 0!==b?b:0},{name:"offset",type:"ULONG",value:void 0!==c?c:0},{name:"length",type:"ULONG",value:void 0!==d?d:0}])}function qa(a){var k=new ba.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);k.tables=a;k.numTables=a.length;var b=Math.pow(2,Math.log(k.numTables)/
Math.log(2)|0);k.searchRange=16*b;k.entrySelector=Math.log(b)/Math.log(2)|0;k.rangeShift=16*k.numTables-k.searchRange;b=[];for(var c=[],d=k.sizeOf()+xa().sizeOf()*k.numTables;0!=d%4;)d+=1,c.push({name:"padding",type:"BYTE",value:0});for(var e=0;e<a.length;e+=1){var f=a[e];ia.argument(4===f.tableName.length,"Table name"+f.tableName+" is invalid.");var g=f.sizeOf(),h=xa(f.tableName,ra(f.encode()),d,g);b.push({name:h.tag+" Table Record",type:"RECORD",value:h});c.push({name:f.tableName+" table",type:"RECORD",
value:f});d+=g;for(ia.argument(!isNaN(d),"Something went wrong calculating the offset.");0!=d%4;)d+=1,c.push({name:"padding",type:"BYTE",value:0})}return b.sort(function(a,k){return a.value.tag>k.value.tag?1:-1}),k.fields=k.fields.concat(b),k.fields=k.fields.concat(c),k}function ua(a,b,c){for(var k=0;k<b.length;k+=1){var x=a.charToGlyphIndex(b[k]);if(0<x)return a.glyphs.get(x).getMetrics()}return c}function ma(a,b){for(var k=0,c=a.length-1;k<=c;){var x=k+c>>>1,d=a[x].tag;if(d===b)return x;d<b?k=x+
1:c=x-1}return-k-1}function Ha(a,b){for(var k=0,c=a.length-1;k<=c;){var x=k+c>>>1,d=a[x];if(d===b)return x;d<b?k=x+1:c=x-1}return-k-1}function Bb(a,b){for(var k,c=0,x=a.length-1;c<=x;){var d=c+x>>>1,e=(k=a[d]).start;if(e===b)return k;e<b?c=d+1:x=d-1}if(0<c)return b>(k=a[c-1]).end?0:k}function jb(a,b){this.font=a;this.tableName=b}function kb(a){jb.call(this,a,"gpos")}function Ba(a){jb.call(this,a,"gsub")}function wb(a,b,c){a=a.subtables;for(var k=0;k<a.length;k++){var x=a[k];if(x.substFormat===b)return x}if(c)return a.push(c),
c}function xb(a){for(var k=new ArrayBuffer(a.length),b=new Uint8Array(k),c=0;c<a.length;++c)b[c]=a[c];return k}function Xa(a,b){if(!a)throw b;}function ta(a,b,c,d,e){var k;return 0<(b&d)?(k=a.parseByte(),0==(b&e)&&(k=-k),k=c+k):k=0<(b&e)?c:c+a.parseShort(),k}function Sa(a,b,c){var k,x;b=new U.Parser(b,c);if(a.numberOfContours=b.parseShort(),a._xMin=b.parseShort(),a._yMin=b.parseShort(),a._xMax=b.parseShort(),a._yMax=b.parseShort(),0<a.numberOfContours){var d=a.endPointIndices=[];for(k=0;k<a.numberOfContours;k+=
1)d.push(b.parseUShort());a.instructionLength=b.parseUShort();a.instructions=[];for(k=0;k<a.instructionLength;k+=1)a.instructions.push(b.parseByte());c=d[d.length-1]+1;k=[];for(var L=0;L<c;L+=1)if(x=b.parseByte(),k.push(x),0<(8&x))for(var e=b.parseByte(),f=0;f<e;f+=1)k.push(x),L+=1;if(ia.argument(k.length===c,"Bad flags."),0<d.length){e=[];if(0<c){for(f=0;f<c;f+=1)x=k[f],(L={}).onCurve=!!(1&x),L.lastPointOfContour=0<=d.indexOf(f),e.push(L);for(f=d=0;f<c;f+=1)x=k[f],(L=e[f]).x=ta(b,x,d,2,16),d=L.x;
for(f=d=0;f<c;f+=1)x=k[f],(L=e[f]).y=ta(b,x,d,4,32),d=L.y}a.points=e}else a.points=[]}else if(0===a.numberOfContours)a.points=[];else{a.isComposite=!0;a.points=[];a.components=[];for(x=!0;x;)k=b.parseUShort(),x={glyphIndex:b.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0},0<(1&k)?0<(2&k)?(x.dx=b.parseShort(),x.dy=b.parseShort()):x.matchedPoints=[b.parseUShort(),b.parseUShort()]:0<(2&k)?(x.dx=b.parseChar(),x.dy=b.parseChar()):x.matchedPoints=[b.parseByte(),b.parseByte()],0<(8&k)?x.xScale=
x.yScale=b.parseF2Dot14():0<(64&k)?(x.xScale=b.parseF2Dot14(),x.yScale=b.parseF2Dot14()):0<(128&k)&&(x.xScale=b.parseF2Dot14(),x.scale01=b.parseF2Dot14(),x.scale10=b.parseF2Dot14(),x.yScale=b.parseF2Dot14()),a.components.push(x),x=!!(32&k);if(256&k)for(a.instructionLength=b.parseUShort(),a.instructions=[],k=0;k<a.instructionLength;k+=1)a.instructions.push(b.parseByte())}}function na(a,b){for(var k=[],c=0;c<a.length;c+=1){var x=a[c];k.push({x:b.xScale*x.x+b.scale01*x.y+b.dx,y:b.scale10*x.x+b.yScale*
x.y+b.dy,onCurve:x.onCurve,lastPointOfContour:x.lastPointOfContour})}return k}function va(a){var k=new q;if(!a)return k;for(var b=[],c=[],d=0;d<a.length;d+=1){var e=a[d];c.push(e);e.lastPointOfContour&&(b.push(c),c=[])}a=(ia.argument(0===c.length,"There are still points left in the current contour."),b);for(b=0;b<a.length;++b){c=a[b];e=c[c.length-1];var f=c[0];e.onCurve?k.moveTo(e.x,e.y):f.onCurve?k.moveTo(f.x,f.y):k.moveTo(.5*(e.x+f.x),.5*(e.y+f.y));for(var g=0;g<c.length;++g)if(d=e,e=f,f=c[(g+1)%
c.length],e.onCurve)k.lineTo(e.x,e.y);else{var h=f;d.onCurve||{x:.5*(e.x+d.x),y:.5*(e.y+d.y)};f.onCurve||(h={x:.5*(e.x+f.x),y:.5*(e.y+f.y)});k.quadraticCurveTo(e.x,e.y,h.x,h.y)}k.closePath()}return k}function gb(a,b){if(b.isComposite)for(var k=0;k<b.components.length;k+=1){var c=b.components[k],x=a.get(c.glyphIndex);if(x.getPath(),x.points){if(void 0===c.matchedPoints)x=na(x.points,c);else{if(c.matchedPoints[0]>b.points.length-1||c.matchedPoints[1]>x.points.length-1)throw Error("Matched points out of range in "+
b.name);var d=b.points[c.matchedPoints[0]],e=x.points[c.matchedPoints[1]];c={xScale:c.xScale,scale01:c.scale01,scale10:c.scale10,yScale:c.yScale,dx:0,dy:0};e=na([e],c)[0];c.dx=d.x-e.x;c.dy=d.y-e.y;x=na(x.points,c)}b.points=b.points.concat(x)}}return va(b.points)}function Ya(a){this.font=a;this.getCommands=function(a){return ec.getPath(a).commands};this._fpgmState=this._prepState=void 0;this._errorState=0}function cb(a){return a}function Za(a){return Math.sign(a)*Math.round(Math.abs(a))}function db(a){return Math.sign(a)*
Math.round(Math.abs(2*a))/2}function Ea(a){return Math.sign(a)*(Math.round(Math.abs(a)+.5)-.5)}function Ua(a){return Math.sign(a)*Math.ceil(Math.abs(a))}function Cb(a){return Math.sign(a)*Math.floor(Math.abs(a))}function $a(a,b){this.x=a;this.y=b;this.axis=void 0;this.slope=b/a;this.normalSlope=-a/b;Object.freeze(this)}function Ma(a,b){var k=Math.sqrt(a*a+b*b);return b/=k,1===(a/=k)&&0===b?Ra:0===a&&1===b?Wa:new $a(a,b)}function Ia(a,b,c,d){this.x=this.xo=Math.round(64*a)/64;this.y=this.yo=Math.round(64*
b)/64;this.lastPointOfContour=c;this.onCurve=d;this.nextPointOnContour=this.prevPointOnContour=void 0;this.yTouched=this.xTouched=!1;Object.preventExtensions(this)}function Na(a,b){switch(this.env=a,this.stack=[],this.prog=b,a){case "glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case "prep":this.fv=this.pv=this.dpv=Ra,this.round=Za}}function hb(a){a=a.tZone=Array(a.gZone.length);for(var k=0;k<a.length;k++)a[k]=new Ia(0,0)}function Db(a,b){var k,c=a.prog,x=a.ip,d=1;do if(88===(k=
c[++x]))d++;else if(89===k)d--;else if(64===k)x+=c[x+1]+1;else if(65===k)x+=2*c[x+1]+1;else if(176<=k&&183>=k)x+=k-176+1;else if(184<=k&&191>=k)x+=2*(k-184+1);else if(b&&1===d&&27===k)break;while(0<d);a.ip=x}function Eb(k,b){a.DEBUG&&console.log(b.step,"SVTCA["+k.axis+"]");b.fv=b.pv=b.dpv=k}function pb(k,b){a.DEBUG&&console.log(b.step,"SPVTCA["+k.axis+"]");b.pv=b.dpv=k}function qb(k,b){a.DEBUG&&console.log(b.step,"SFVTCA["+k.axis+"]");b.fv=k}function Fb(k,b){var c,x,d=b.stack,e=d.pop();d=d.pop();
var f=b.z2[e],g=b.z1[d];a.DEBUG&&console.log("SPVTL["+k+"]",e,d);k?(c=f.y-g.y,x=g.x-f.x):(c=g.x-f.x,x=g.y-f.y);b.pv=b.dpv=Ma(c,x)}function yb(k,b){var c,x,d=b.stack,e=d.pop();d=d.pop();var f=b.z2[e],g=b.z1[d];a.DEBUG&&console.log("SFVTL["+k+"]",e,d);k?(c=f.y-g.y,x=g.x-f.x):(c=g.x-f.x,x=g.y-f.y);b.fv=Ma(c,x)}function rb(k){a.DEBUG&&console.log(k.step,"POP[]");k.stack.pop()}function Gb(k,b){var c=b.stack.pop(),x=b.z0[c],d=b.fv,e=b.pv;a.DEBUG&&console.log(b.step,"MDAP["+k+"]",c);var f=e.distance(x,vb);
k&&(f=b.round(f));d.setRelative(x,vb,f,e);d.touch(x);b.rp0=b.rp1=c}function zb(k,b){var c,x,d=b.z2,e=d.length-2;a.DEBUG&&console.log(b.step,"IUP["+k.axis+"]");for(var f=0;f<e;f++)b=d[f],k.touched(b)||(c=b.prevTouched(k))!==b&&(c===(x=b.nextTouched(k))&&k.setRelative(b,b,k.distance(c,c,!1,!0),k,!0),k.interpolate(b,c,x,k))}function Ab(k,b){for(var c=b.stack,x=(k?b.z0:b.z1)[k?b.rp1:b.rp2],d=b.fv,e=b.pv,f=b.loop,g=b.z2;f--;){var h=c.pop(),l=g[h],m=e.distance(x,x,!1,!0);d.setRelative(l,l,m,e);d.touch(l);
a.DEBUG&&console.log(b.step,(1<b.loop?"loop "+(b.loop-f)+": ":"")+"SHP["+(k?"rp1":"rp2")+"]",h)}b.loop=1}function tb(k,b){var c=(k?b.z0:b.z1)[k?b.rp1:b.rp2],x=b.fv,d=b.pv,e=b.stack.pop(),f=b.z2[b.contours[e]],g=f;a.DEBUG&&console.log(b.step,"SHC["+k+"]",e);for(k=d.distance(c,c,!1,!0);g!==c&&x.setRelative(g,g,k,d),(g=g.nextPointOnContour)!==f;);}function ub(k,b){var c=(k?b.z0:b.z1)[k?b.rp1:b.rp2];var x=b.fv,d=b.pv,e=b.stack.pop();switch(a.DEBUG&&console.log(b.step,"SHZ["+k+"]",e),e){case 0:k=b.tZone;
break;case 1:k=b.gZone;break;default:throw Error("Invalid zone");}b=d.distance(c,c,!1,!0);e=k.length-2;for(var f=0;f<e;f++)c=k[f],x.setRelative(c,c,b,d)}function sb(k,b){var c=b.stack,x=c.pop()/64;c=c.pop();var d=b.z1[c],e=b.fv;e.setRelative(d,b.z0[b.rp0],x,b.pv);e.touch(d);a.DEBUG&&console.log(b.step,"MSIRP["+k+"]",x,c);b.rp1=b.rp0;b.rp2=c;k&&(b.rp0=c)}function ib(k,b){var c=b.stack,x=c.pop();c=c.pop();var d=b.z0[c],e=b.fv,f=b.pv,g=b.cvt[x];a.DEBUG&&console.log(b.step,"MIAP["+k+"]",x,"(",g,")",c);
x=f.distance(d,vb);k&&(Math.abs(x-g)<b.cvCutIn&&(x=g),x=b.round(x));e.setRelative(d,vb,x,f);0===b.zp0&&(d.xo=d.x,d.yo=d.y);e.touch(d);b.rp0=b.rp1=c}function Oa(k,b){var c=b.stack,x=c.pop(),d=b.z2[x];a.DEBUG&&console.log(b.step,"GC["+k+"]",x);c.push(64*b.dpv.distance(d,vb,k,!1))}function ab(b,c){var k=c.stack,x=k.pop();k=k.pop();var d=c.dpv.distance(c.z0[k],c.z1[x],b,b);a.DEBUG&&console.log(c.step,"MD["+b+"]",x,k,"->",d);c.stack.push(Math.round(64*d))}function Ta(b,c){var k=c.stack,x=k.pop(),d=c.fv,
e=c.pv,f=c.ppem,g=c.deltaBase+16*(b-1),h=c.deltaShift,l=c.z0;a.DEBUG&&console.log(c.step,"DELTAP["+b+"]",x,k);for(b=0;b<x;b++){var m=k.pop(),n=k.pop();g+((240&n)>>4)===f&&(n=(15&n)-8,0<=n&&n++,a.DEBUG&&console.log(c.step,"DELTAPFIX",m,"by",n*h),m=l[m],d.setRelative(m,m,n*h,e))}}function Va(b,c){b=c.stack;var k=b.pop();a.DEBUG&&console.log(c.step,"ROUND[]");b.push(64*c.round(k/64))}function bb(b,c){var k=c.stack,x=k.pop(),d=c.ppem,e=c.deltaBase+16*(b-1),f=c.deltaShift;a.DEBUG&&console.log(c.step,"DELTAC["+
b+"]",x,k);for(b=0;b<x;b++){var g=k.pop(),h=k.pop();e+((240&h)>>4)===d&&(h=(15&h)-8,0<=h&&h++,h*=f,a.DEBUG&&console.log(c.step,"DELTACFIX",g,"by",h),c.cvt[g]+=h)}}function za(b,c){var k,x,d=c.stack,e=d.pop();d=d.pop();var f=c.z2[e],g=c.z1[d];a.DEBUG&&console.log(c.step,"SDPVTL["+b+"]",e,d);b?(k=f.y-g.y,x=g.x-f.x):(k=g.x-f.x,x=g.y-f.y);c.dpv=Ma(k,x)}function ya(b,c){var k=c.stack,d=c.prog,x=c.ip;a.DEBUG&&console.log(c.step,"PUSHB["+b+"]");for(var e=0;e<b;e++)k.push(d[++x]);c.ip=x}function wa(b,c){var k=
c.ip,d=c.prog,x=c.stack;a.DEBUG&&console.log(c.ip,"PUSHW["+b+"]");for(var e=0;e<b;e++){var f=d[++k]<<8|d[++k];32768&f&&(f=-(1+(65535^f)));x.push(f)}c.ip=k}function P(b,c,d,e,f,g){var k,x;var L=g.stack;var h=b&&L.pop(),l=L.pop(),m=g.z0[g.rp0],sa=g.z1[l],n=g.minDis,p=g.fv,q=g.dpv;var r=0<=(k=L=q.distance(sa,m,!0,!0))?1:-1;k=Math.abs(k);b&&(x=g.cvt[h],e&&Math.abs(k-x)<g.cvCutIn&&(k=x));d&&k<n&&(k=n);e&&(k=g.round(k));p.setRelative(sa,m,r*k,q);p.touch(sa);a.DEBUG&&console.log(g.step,(b?"MIRP[":"MDRP[")+
(c?"M":"m")+(d?">":"_")+(e?"R":"_")+(0===f?"Gr":1===f?"Bl":2===f?"Wh":"")+"]",b?h+"("+g.cvt[h]+","+x+")":"",l,"(d =",L,"->",r*k,")");g.rp1=g.rp0;g.rp2=l;c&&(g.rp0=l)}function la(a){(a=a||{}).empty||(Xa(a.familyName,"When creating a new Font object, familyName is required."),Xa(a.styleName,"When creating a new Font object, styleName is required."),Xa(a.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Xa(a.ascender,"When creating a new Font object, ascender is required."),Xa(a.descender,
"When creating a new Font object, descender is required."),Xa(0>a.descender,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:a.familyName||" "},fontSubfamily:{en:a.styleName||" "},fullName:{en:a.fullName||a.familyName+" "+a.styleName},postScriptName:{en:a.postScriptName||a.familyName+a.styleName},designer:{en:a.designer||" "},designerURL:{en:a.designerURL||" "},manufacturer:{en:a.manufacturer||" "},manufacturerURL:{en:a.manufacturerURL||" "},license:{en:a.license||" "},licenseURL:{en:a.licenseURL||
" "},version:{en:a.version||"Version 0.1"},description:{en:a.description||" "},copyright:{en:a.copyright||" "},trademark:{en:a.trademark||" "}},this.unitsPerEm=a.unitsPerEm||1E3,this.ascender=a.ascender,this.descender=a.descender,this.createdTimestamp=a.createdTimestamp,this.tables={os2:{usWeightClass:a.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:a.widthClass||this.usWidthClasses.MEDIUM,fsSelection:a.fsSelection||this.fsSelectionValues.REGULAR}});this.supported=!0;this.glyphs=new lb.GlyphSet(this,
a.glyphs||[]);this.encoding=new E(this);this.position=new kb(this);this.substitution=new Ba(this);this.tables=this.tables||{};Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:"truetype"===this.outlinesFormat?this._hinting=new Ya(this):void 0}})}function Wb(a,b){var k=JSON.stringify(a),c=256,d;for(d in b){var x=parseInt(d);if(x&&!(256>x)){if(JSON.stringify(b[d])===k)return x;c<=x&&(c=x+1)}}return b[c]=a,c}function yc(a,b,c,d){d=[{name:"nameID_"+a,type:"USHORT",
value:Wb(b.name,d)},{name:"flags_"+a,type:"USHORT",value:0}];for(var k=0;k<c.length;++k){var x=c[k].tag;d.push({name:"axis_"+a+" "+x,type:"FIXED",value:b.coordinates[x]<<16})}return d}function zc(a,b,c,d){var k={};a=new U.Parser(a,b);k.name=d[a.parseUShort()]||{};a.skip("uShort",1);k.coordinates={};for(d=0;d<c.length;++d)k.coordinates[c[d].tag]=a.parseFixed();return k}function Ac(a,b){require("fs").readFile(a,function(a,k){if(a)return b(a.message);b(null,xb(k))})}function Bc(a,b){var k=new XMLHttpRequest;
k.open("get",a,!0);k.responseType="arraybuffer";k.onload=function(){return k.response?b(null,k.response):b("Font could not be loaded: "+k.statusText)};k.onerror=function(){b("Font could not be loaded")};k.send()}function Xb(a,b){for(var k=[],c=12,d=0;d<b;d+=1){var x=U.getTag(a,c),e=U.getULong(a,c+4),f=U.getULong(a,c+8),g=U.getULong(a,c+12);k.push({tag:x,checksum:e,offset:f,length:g,compression:!1});c+=16}return k}function pa(a,b){if("WOFF"===b.compression){a=new Uint8Array(a.buffer,b.offset+2,b.compressedLength-
2);var k=new Uint8Array(b.length);if(Fc(a,k),k.byteLength!==b.length)throw Error("Decompression error: "+b.tag+" decompressed length doesn't match recorded length");return{data:new DataView(k.buffer,0),offset:0}}return{data:a,offset:b.offset}}function Ob(a){var b=new la({empty:!0});a=new DataView(a,0);var k=[];var c=U.getTag(a,0);if(c===String.fromCharCode(0,1,0,0)||"true"===c||"typ1"===c)b.outlinesFormat="truetype",k=Xb(a,c=U.getUShort(a,4));else if("OTTO"===c)b.outlinesFormat="cff",k=Xb(a,c=U.getUShort(a,
4));else{if("wOFF"!==c)throw Error("Unsupported OpenType signature "+c);k=U.getTag(a,4);if(k===String.fromCharCode(0,1,0,0))b.outlinesFormat="truetype";else{if("OTTO"!==k)throw Error("Unsupported OpenType flavor "+c);b.outlinesFormat="cff"}k=function(a,b){for(var k=[],c=44,d=0;d<b;d+=1){var x=U.getTag(a,c),e=U.getULong(a,c+4),f=U.getULong(a,c+8),g=U.getULong(a,c+12);k.push({tag:x,offset:e,compression:f<g&&"WOFF",compressedLength:f,length:g});c+=20}return k}(a,c=U.getUShort(a,12))}for(var d=0;d<c;d+=
1){var e=k[d];var f=void 0;switch(e.tag){case "cmap":f=pa(a,e);b.tables.cmap=fc.parse(f.data,f.offset);b.encoding=new D(b.tables.cmap);break;case "cvt ":f=pa(a,e);f=new U.Parser(f.data,f.offset);b.tables.cvt=f.parseShortList(e.length/2);break;case "fvar":var g=e;break;case "fpgm":f=pa(a,e);f=new U.Parser(f.data,f.offset);b.tables.fpgm=f.parseByteList(e.length);break;case "head":f=pa(a,e);b.tables.head=gc.parse(f.data,f.offset);b.unitsPerEm=b.tables.head.unitsPerEm;var h=b.tables.head.indexToLocFormat;
break;case "hhea":f=pa(a,e);b.tables.hhea=hc.parse(f.data,f.offset);b.ascender=b.tables.hhea.ascender;b.descender=b.tables.hhea.descender;b.numberOfHMetrics=b.tables.hhea.numberOfHMetrics;break;case "hmtx":var l=e;break;case "ltag":f=pa(a,e);var m=ic.parse(f.data,f.offset);break;case "maxp":f=pa(a,e);b.tables.maxp=jc.parse(f.data,f.offset);b.numGlyphs=b.tables.maxp.numGlyphs;break;case "name":var n=e;break;case "OS/2":f=pa(a,e);b.tables.os2=Sb.parse(f.data,f.offset);break;case "post":f=pa(a,e);b.tables.post=
kc.parse(f.data,f.offset);b.glyphNames=new Z(b.tables.post);break;case "prep":f=pa(a,e);f=new U.Parser(f.data,f.offset);b.tables.prep=f.parseByteList(e.length);break;case "glyf":var p=e;break;case "loca":var q=e;break;case "CFF ":var r=e;break;case "kern":var t=e;break;case "GPOS":var u=e;break;case "GSUB":var v=e;break;case "meta":var w=e}}n=pa(a,n);if(b.tables.name=lc.parse(n.data,n.offset,m),b.names=b.tables.name,p&&q)h=0===h,q=pa(a,q),q=Gc.parse(q.data,q.offset,b.numGlyphs,h),p=pa(a,p),b.glyphs=
ec.parse(p.data,p.offset,q,b);else{if(!r)throw Error("Font doesn't contain TrueType or CFF outlines.");p=pa(a,r);mc.parse(p.data,p.offset,b)}l=pa(a,l);(nc.parse(l.data,l.offset,b.numberOfHMetrics,b.numGlyphs,b.glyphs),function(a){var b=a.tables.cmap.glyphIndexMap;for(var k=Object.keys(b),c=0;c<k.length;c+=1){var d=k[c];a.glyphs.get(b[d]).addUnicode(parseInt(d))}for(k=0;k<a.glyphs.length;k+=1)b=a.glyphs.get(k),a.cffEncoding?a.isCIDFont?b.name="gid"+k:b.name=a.cffEncoding.charset[k]:a.glyphNames.names&&
(b.name=a.glyphNames.glyphIndexToName(k))}(b),t)?(t=pa(a,t),b.kerningPairs=Hc.parse(t.data,t.offset)):b.kerningPairs={};u&&(u=pa(a,u),b.tables.gpos=Ic.parse(u.data,u.offset),b.position.init());v&&(v=pa(a,v),b.tables.gsub=oc.parse(v.data,v.offset));g&&(g=pa(a,g),b.tables.fvar=Jc.parse(g.data,g.offset,b.names));w&&(w=pa(a,w),b.tables.meta=pc.parse(w.data,w.offset),b.metas=b.tables.meta);return b}var Pb,Tb;String.prototype.codePointAt||(Pb=function(){try{var a={},b=Object.defineProperty,c=b(a,a,a)&&
b}catch(sa){}return c}(),Tb=function(a){if(null==this)throw TypeError();var b=String(this),k=b.length;a=a?Number(a):0;if(a!=a&&(a=0),!(0>a||k<=a)){var c,d=b.charCodeAt(a);return 55296<=d&&56319>=d&&a+1<k&&56320<=(c=b.charCodeAt(a+1))&&57343>=c?1024*(d-55296)+c-56320+65536:d}},Pb?Pb(String.prototype,"codePointAt",{value:Tb,configurable:!0,writable:!0}):String.prototype.codePointAt=Tb);var qc=new c,rc=new c,Qb=new Uint8Array(30),Rb=new Uint16Array(30),$b=new Uint8Array(30),ac=new Uint16Array(30),Cc=
new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Zb=new c,Qa=new Uint8Array(320),Yb=new Uint16Array(16);!function(a,b){var k;for(k=0;7>k;++k)a.table[k]=0;a.table[7]=24;a.table[8]=152;a.table[9]=112;for(k=0;24>k;++k)a.trans[k]=256+k;for(k=0;144>k;++k)a.trans[24+k]=k;for(k=0;8>k;++k)a.trans[168+k]=280+k;for(k=0;112>k;++k)a.trans[176+k]=144+k;for(k=0;5>k;++k)b.table[k]=0;b.table[5]=32;for(k=0;32>k;++k)b.trans[k]=k}(qc,rc);b(Qb,Rb,4,3);b($b,ac,2,1);Qb[28]=0;Rb[28]=258;var Fc=function(a,
b){var k=new function(a,b){this.source=a;this.bitcount=this.tag=this.sourceIndex=0;this.dest=b;this.destLen=0;this.ltree=new c;this.dtree=new c}(a,b);do{switch(a=h(k),m(k,2,0)){case 0:b=t(k);break;case 1:b=n(k,qc,rc);break;case 2:w(k,k.ltree,k.dtree);b=n(k,k.ltree,k.dtree);break;default:b=-3}if(0!==b)throw Error("Data error");}while(!a);return k.destLen<k.dest.length?"function"==typeof k.dest.slice?k.dest.slice(0,k.destLen):k.dest.subarray(0,k.destLen):k.dest};p.prototype.isEmpty=function(){return isNaN(this.x1)||
isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};p.prototype.addPoint=function(a,b){"number"==typeof a&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=a,this.x2=a),a<this.x1&&(this.x1=a),a>this.x2&&(this.x2=a));"number"==typeof b&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=b,this.y2=b),b<this.y1&&(this.y1=b),b>this.y2&&(this.y2=b))};p.prototype.addX=function(a){this.addPoint(a,null)};p.prototype.addY=function(a){this.addPoint(null,a)};p.prototype.addBezier=function(a,b,c,d,e,f,h,l){var k=[a,b];c=[c,
d];e=[e,f];f=[h,l];this.addPoint(a,b);this.addPoint(h,l);for(a=0;1>=a;a++)b=6*k[a]-12*c[a]+6*e[a],h=-3*k[a]+9*c[a]-9*e[a]+3*f[a],l=3*c[a]-3*k[a],0!==h?(l=Math.pow(b,2)-4*l*h,0>l||(d=(-b+Math.sqrt(l))/(2*h),0<d&&1>d&&(0===a&&this.addX(g(k[a],c[a],e[a],f[a],d)),1===a&&this.addY(g(k[a],c[a],e[a],f[a],d))),b=(-b-Math.sqrt(l))/(2*h),0<b&&1>b&&(0===a&&this.addX(g(k[a],c[a],e[a],f[a],b)),1===a&&this.addY(g(k[a],c[a],e[a],f[a],b))))):0!==b&&(b=-l/b,0<b&&1>b&&(0===a&&this.addX(g(k[a],c[a],e[a],f[a],b)),1===
a&&this.addY(g(k[a],c[a],e[a],f[a],b))))};p.prototype.addQuad=function(a,b,c,d,e,f){c=a+2/3*(c-a);d=b+2/3*(d-b);this.addBezier(a,b,c,d,c+1/3*(e-a),d+1/3*(f-b),e,f)};q.prototype.moveTo=function(a,b){this.commands.push({type:"M",x:a,y:b})};q.prototype.lineTo=function(a,b){this.commands.push({type:"L",x:a,y:b})};q.prototype.curveTo=q.prototype.bezierCurveTo=function(a,b,c,d,e,f){this.commands.push({type:"C",x1:a,y1:b,x2:c,y2:d,x:e,y:f})};q.prototype.quadTo=q.prototype.quadraticCurveTo=function(a,b,c,
d){this.commands.push({type:"Q",x1:a,y1:b,x:c,y:d})};q.prototype.close=q.prototype.closePath=function(){this.commands.push({type:"Z"})};q.prototype.extend=function(a){if(a.commands)a=a.commands;else if(a instanceof p)return this.moveTo(a.x1,a.y1),this.lineTo(a.x2,a.y1),this.lineTo(a.x2,a.y2),this.lineTo(a.x1,a.y2),void this.close();Array.prototype.push.apply(this.commands,a)};q.prototype.getBoundingBox=function(){for(var a=new p,b=0,c=0,d=0,e=0,f=0;f<this.commands.length;f++){var g=this.commands[f];
switch(g.type){case "M":a.addPoint(g.x,g.y);b=d=g.x;c=e=g.y;break;case "L":a.addPoint(g.x,g.y);d=g.x;e=g.y;break;case "Q":a.addQuad(d,e,g.x1,g.y1,g.x,g.y);d=g.x;e=g.y;break;case "C":a.addBezier(d,e,g.x1,g.y1,g.x2,g.y2,g.x,g.y);d=g.x;e=g.y;break;case "Z":d=b;e=c;break;default:throw Error("Unexpected path command "+g.type);}}return a.isEmpty()&&a.addPoint(0,0),a};q.prototype.draw=function(a){a.beginPath();for(var b=0;b<this.commands.length;b+=1){var k=this.commands[b];"M"===k.type?a.moveTo(k.x,k.y):
"L"===k.type?a.lineTo(k.x,k.y):"C"===k.type?a.bezierCurveTo(k.x1,k.y1,k.x2,k.y2,k.x,k.y):"Q"===k.type?a.quadraticCurveTo(k.x1,k.y1,k.x,k.y):"Z"===k.type&&a.closePath()}this.fill&&(a.fillStyle=this.fill,a.fill());this.stroke&&(a.strokeStyle=this.stroke,a.lineWidth=this.strokeWidth,a.stroke())};q.prototype.toPathData=function(a){function b(){for(var b,k=arguments,c="",d=0;d<arguments.length;d+=1){var e=k[d];0<=e&&0<d&&(c+=" ");c+=(b=e,Math.round(b)===b?""+Math.round(b):b.toFixed(a))}return c}a=void 0!==
a?a:2;for(var k="",c=0;c<this.commands.length;c+=1){var d=this.commands[c];"M"===d.type?k+="M"+b(d.x,d.y):"L"===d.type?k+="L"+b(d.x,d.y):"C"===d.type?k+="C"+b(d.x1,d.y1,d.x2,d.y2,d.x,d.y):"Q"===d.type?k+="Q"+b(d.x1,d.y1,d.x,d.y):"Z"===d.type&&(k+="Z")}return k};q.prototype.toSVG=function(a){var b='<path d="';return b+=this.toPathData(a),b+='"',this.fill&&"black"!==this.fill&&(null===this.fill?b+=' fill="none"':b+=' fill="'+this.fill+'"'),this.stroke&&(b+=' stroke="'+this.stroke+'" stroke-width="'+
this.strokeWidth+'"'),b+"/>"};q.prototype.toDOMElement=function(a){a=this.toPathData(a);var b=document.createElementNS("http://www.w3.org/2000/svg","path");return b.setAttribute("d",a),b};var ia={fail:f,argument:l,assert:l},mb={},M={},ea={};M.BYTE=function(a){return ia.argument(0<=a&&255>=a,"Byte value should be between 0 and 255."),[a]};ea.BYTE=u(1);M.CHAR=function(a){return[a.charCodeAt(0)]};ea.CHAR=u(1);M.CHARARRAY=function(a){for(var b=[],k=0;k<a.length;k+=1)b[k]=a.charCodeAt(k);return b};ea.CHARARRAY=
function(a){return a.length};M.USHORT=function(a){return[a>>8&255,255&a]};ea.USHORT=u(2);M.SHORT=function(a){return 32768<=a&&(a=-(65536-a)),[a>>8&255,255&a]};ea.SHORT=u(2);M.UINT24=function(a){return[a>>16&255,a>>8&255,255&a]};ea.UINT24=u(3);M.ULONG=function(a){return[a>>24&255,a>>16&255,a>>8&255,255&a]};ea.ULONG=u(4);M.LONG=function(a){return 2147483648<=a&&(a=-(4294967296-a)),[a>>24&255,a>>16&255,a>>8&255,255&a]};ea.LONG=u(4);M.FIXED=M.ULONG;ea.FIXED=ea.ULONG;M.FWORD=M.SHORT;ea.FWORD=ea.SHORT;
M.UFWORD=M.USHORT;ea.UFWORD=ea.USHORT;M.LONGDATETIME=function(a){return[0,0,0,0,a>>24&255,a>>16&255,a>>8&255,255&a]};ea.LONGDATETIME=u(8);M.TAG=function(a){return ia.argument(4===a.length,"Tag should be exactly 4 ASCII characters."),[a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2),a.charCodeAt(3)]};ea.TAG=u(4);M.Card8=M.BYTE;ea.Card8=ea.BYTE;M.Card16=M.USHORT;ea.Card16=ea.USHORT;M.OffSize=M.BYTE;ea.OffSize=ea.BYTE;M.SID=M.USHORT;ea.SID=ea.USHORT;M.NUMBER=function(a){return-107<=a&&107>=a?[a+139]:
108<=a&&1131>=a?[247+((a-=108)>>8),255&a]:-1131<=a&&-108>=a?[251+((a=-a-108)>>8),255&a]:-32768<=a&&32767>=a?M.NUMBER16(a):M.NUMBER32(a)};ea.NUMBER=function(a){return M.NUMBER(a).length};M.NUMBER16=function(a){return[28,a>>8&255,255&a]};ea.NUMBER16=u(3);M.NUMBER32=function(a){return[29,a>>24&255,a>>16&255,a>>8&255,255&a]};ea.NUMBER32=u(5);M.REAL=function(a){var b=a.toString(),k=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(b);k&&(b=parseFloat("1e"+((k[2]?+k[2]:0)+k[1].length)),b=(Math.round(a*
b)/b).toString());a="";k=0;for(var c=b.length;k<c;k+=1){var d=b[k];a+="e"===d?"-"===b[++k]?"c":"b":"."===d?"a":"-"===d?"e":d}b=[30];k=0;for(c=(a+=1&a.length?"f":"ff").length;k<c;k+=2)b.push(parseInt(a.substr(k,2),16));return b};ea.REAL=function(a){return M.REAL(a).length};M.NAME=M.CHARARRAY;ea.NAME=ea.CHARARRAY;M.STRING=M.CHARARRAY;ea.STRING=ea.CHARARRAY;mb.UTF8=function(a,b,c){for(var k=[],d=0;d<c;d++,b+=1)k[d]=a.getUint8(b);return String.fromCharCode.apply(null,k)};mb.UTF16=function(a,b,c){var k=
[];c/=2;for(var d=0;d<c;d++,b+=2)k[d]=a.getUint16(b);return String.fromCharCode.apply(null,k)};M.UTF16=function(a){for(var b=[],k=0;k<a.length;k+=1){var c=a.charCodeAt(k);b[b.length]=c>>8&255;b[b.length]=255&c}return b};ea.UTF16=function(a){return 2*a.length};var Ub={"x-mac-croatian":"\u00c4\u00c5\u00c7\u00c9\u00d1\u00d6\u00dc\u00e1\u00e0\u00e2\u00e4\u00e3\u00e5\u00e7\u00e9\u00e8\u00ea\u00eb\u00ed\u00ec\u00ee\u00ef\u00f1\u00f3\u00f2\u00f4\u00f6\u00f5\u00fa\u00f9\u00fb\u00fc\u2020\u00b0\u00a2\u00a3\u00a7\u2022\u00b6\u00df\u00ae\u0160\u2122\u00b4\u00a8\u2260\u017d\u00d8\u221e\u00b1\u2264\u2265\u2206\u00b5\u2202\u2211\u220f\u0161\u222b\u00aa\u00ba\u03a9\u017e\u00f8\u00bf\u00a1\u00ac\u221a\u0192\u2248\u0106\u00ab\u010c\u2026\u00a0\u00c0\u00c3\u00d5\u0152\u0153\u0110\u2014\u201c\u201d\u2018\u2019\u00f7\u25ca\uf8ff\u00a9\u2044\u20ac\u2039\u203a\u00c6\u00bb\u2013\u00b7\u201a\u201e\u2030\u00c2\u0107\u00c1\u010d\u00c8\u00cd\u00ce\u00cf\u00cc\u00d3\u00d4\u0111\u00d2\u00da\u00db\u00d9\u0131\u02c6\u02dc\u00af\u03c0\u00cb\u02da\u00b8\u00ca\u00e6\u02c7",
"x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u2020\u00b0\u0490\u00a3\u00a7\u2022\u00b6\u0406\u00ae\u00a9\u2122\u0402\u0452\u2260\u0403\u0453\u221e\u00b1\u2264\u2265\u0456\u00b5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040a\u045a\u0458\u0405\u00ac\u221a\u0192\u2248\u2206\u00ab\u00bb\u2026\u00a0\u040b\u045b\u040c\u045c\u0455\u2013\u2014\u201c\u201d\u2018\u2019\u00f7\u201e\u040e\u045e\u040f\u045f\u2116\u0401\u0451\u044f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e",
"x-mac-gaelic":"\u00c4\u00c5\u00c7\u00c9\u00d1\u00d6\u00dc\u00e1\u00e0\u00e2\u00e4\u00e3\u00e5\u00e7\u00e9\u00e8\u00ea\u00eb\u00ed\u00ec\u00ee\u00ef\u00f1\u00f3\u00f2\u00f4\u00f6\u00f5\u00fa\u00f9\u00fb\u00fc\u2020\u00b0\u00a2\u00a3\u00a7\u2022\u00b6\u00df\u00ae\u00a9\u2122\u00b4\u00a8\u2260\u00c6\u00d8\u1e02\u00b1\u2264\u2265\u1e03\u010a\u010b\u1e0a\u1e0b\u1e1e\u1e1f\u0120\u0121\u1e40\u00e6\u00f8\u1e41\u1e56\u1e57\u027c\u0192\u017f\u1e60\u00ab\u00bb\u2026\u00a0\u00c0\u00c3\u00d5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u1e61\u1e9b\u00ff\u0178\u1e6a\u20ac\u2039\u203a\u0176\u0177\u1e6b\u00b7\u1ef2\u1ef3\u204a\u00c2\u00ca\u00c1\u00cb\u00c8\u00cd\u00ce\u00cf\u00cc\u00d3\u00d4\u2663\u00d2\u00da\u00db\u00d9\u0131\u00dd\u00fd\u0174\u0175\u1e84\u1e85\u1e80\u1e81\u1e82\u1e83",
"x-mac-greek":"\u00c4\u00b9\u00b2\u00c9\u00b3\u00d6\u00dc\u0385\u00e0\u00e2\u00e4\u0384\u00a8\u00e7\u00e9\u00e8\u00ea\u00eb\u00a3\u2122\u00ee\u00ef\u2022\u00bd\u2030\u00f4\u00f6\u00a6\u20ac\u00f9\u00fb\u00fc\u2020\u0393\u0394\u0398\u039b\u039e\u03a0\u00df\u00ae\u00a9\u03a3\u03aa\u00a7\u2260\u00b0\u00b7\u0391\u00b1\u2264\u2265\u00a5\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u03a6\u03ab\u03a8\u03a9\u03ac\u039d\u00ac\u039f\u03a1\u2248\u03a4\u00ab\u00bb\u2026\u00a0\u03a5\u03a7\u0386\u0388\u0153\u2013\u2015\u201c\u201d\u2018\u2019\u00f7\u0389\u038a\u038c\u038e\u03ad\u03ae\u03af\u03cc\u038f\u03cd\u03b1\u03b2\u03c8\u03b4\u03b5\u03c6\u03b3\u03b7\u03b9\u03be\u03ba\u03bb\u03bc\u03bd\u03bf\u03c0\u03ce\u03c1\u03c3\u03c4\u03b8\u03c9\u03c2\u03c7\u03c5\u03b6\u03ca\u03cb\u0390\u03b0\u00ad",
"x-mac-icelandic":"\u00c4\u00c5\u00c7\u00c9\u00d1\u00d6\u00dc\u00e1\u00e0\u00e2\u00e4\u00e3\u00e5\u00e7\u00e9\u00e8\u00ea\u00eb\u00ed\u00ec\u00ee\u00ef\u00f1\u00f3\u00f2\u00f4\u00f6\u00f5\u00fa\u00f9\u00fb\u00fc\u00dd\u00b0\u00a2\u00a3\u00a7\u2022\u00b6\u00df\u00ae\u00a9\u2122\u00b4\u00a8\u2260\u00c6\u00d8\u221e\u00b1\u2264\u2265\u00a5\u00b5\u2202\u2211\u220f\u03c0\u222b\u00aa\u00ba\u03a9\u00e6\u00f8\u00bf\u00a1\u00ac\u221a\u0192\u2248\u2206\u00ab\u00bb\u2026\u00a0\u00c0\u00c3\u00d5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u00f7\u25ca\u00ff\u0178\u2044\u20ac\u00d0\u00f0\u00de\u00fe\u00fd\u00b7\u201a\u201e\u2030\u00c2\u00ca\u00c1\u00cb\u00c8\u00cd\u00ce\u00cf\u00cc\u00d3\u00d4\uf8ff\u00d2\u00da\u00db\u00d9\u0131\u02c6\u02dc\u00af\u02d8\u02d9\u02da\u00b8\u02dd\u02db\u02c7",
"x-mac-inuit":"\u1403\u1404\u1405\u1406\u140a\u140b\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144e\u144f\u1450\u1451\u1455\u1456\u1466\u146d\u146e\u146f\u1470\u1472\u1473\u1483\u148b\u148c\u148d\u148e\u1490\u1491\u00b0\u14a1\u14a5\u14a6\u2022\u00b6\u14a7\u00ae\u00a9\u2122\u14a8\u14aa\u14ab\u14bb\u14c2\u14c3\u14c4\u14c5\u14c7\u14c8\u14d0\u14ef\u14f0\u14f1\u14f2\u14f4\u14f5\u1505\u14d5\u14d6\u14d7\u14d8\u14da\u14db\u14ea\u1528\u1529\u152a\u152b\u152d\u2026\u00a0\u152e\u153e\u1555\u1556\u1557\u2013\u2014\u201c\u201d\u2018\u2019\u1558\u1559\u155a\u155d\u1546\u1547\u1548\u1549\u154b\u154c\u1550\u157f\u1580\u1581\u1582\u1583\u1584\u1585\u158f\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15a0\u15a1\u15a2\u15a3\u15a4\u15a5\u15a6\u157c\u0141\u0142",
"x-mac-ce":"\u00c4\u0100\u0101\u00c9\u0104\u00d6\u00dc\u00e1\u0105\u010c\u00e4\u010d\u0106\u0107\u00e9\u0179\u017a\u010e\u00ed\u010f\u0112\u0113\u0116\u00f3\u0117\u00f4\u00f6\u00f5\u00fa\u011a\u011b\u00fc\u2020\u00b0\u0118\u00a3\u00a7\u2022\u00b6\u00df\u00ae\u00a9\u2122\u0119\u00a8\u2260\u0123\u012e\u012f\u012a\u2264\u2265\u012b\u0136\u2202\u2211\u0142\u013b\u013c\u013d\u013e\u0139\u013a\u0145\u0146\u0143\u00ac\u221a\u0144\u0147\u2206\u00ab\u00bb\u2026\u00a0\u0148\u0150\u00d5\u0151\u014c\u2013\u2014\u201c\u201d\u2018\u2019\u00f7\u25ca\u014d\u0154\u0155\u0158\u2039\u203a\u0159\u0156\u0157\u0160\u201a\u201e\u0161\u015a\u015b\u00c1\u0164\u0165\u00cd\u017d\u017e\u016a\u00d3\u00d4\u016b\u016e\u00da\u016f\u0170\u0171\u0172\u0173\u00dd\u00fd\u0137\u017b\u0141\u017c\u0122\u02c7",
macintosh:"\u00c4\u00c5\u00c7\u00c9\u00d1\u00d6\u00dc\u00e1\u00e0\u00e2\u00e4\u00e3\u00e5\u00e7\u00e9\u00e8\u00ea\u00eb\u00ed\u00ec\u00ee\u00ef\u00f1\u00f3\u00f2\u00f4\u00f6\u00f5\u00fa\u00f9\u00fb\u00fc\u2020\u00b0\u00a2\u00a3\u00a7\u2022\u00b6\u00df\u00ae\u00a9\u2122\u00b4\u00a8\u2260\u00c6\u00d8\u221e\u00b1\u2264\u2265\u00a5\u00b5\u2202\u2211\u220f\u03c0\u222b\u00aa\u00ba\u03a9\u00e6\u00f8\u00bf\u00a1\u00ac\u221a\u0192\u2248\u2206\u00ab\u00bb\u2026\u00a0\u00c0\u00c3\u00d5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u00f7\u25ca\u00ff\u0178\u2044\u20ac\u2039\u203a\ufb01\ufb02\u2021\u00b7\u201a\u201e\u2030\u00c2\u00ca\u00c1\u00cb\u00c8\u00cd\u00ce\u00cf\u00cc\u00d3\u00d4\uf8ff\u00d2\u00da\u00db\u00d9\u0131\u02c6\u02dc\u00af\u02d8\u02d9\u02da\u00b8\u02dd\u02db\u02c7",
"x-mac-romanian":"\u00c4\u00c5\u00c7\u00c9\u00d1\u00d6\u00dc\u00e1\u00e0\u00e2\u00e4\u00e3\u00e5\u00e7\u00e9\u00e8\u00ea\u00eb\u00ed\u00ec\u00ee\u00ef\u00f1\u00f3\u00f2\u00f4\u00f6\u00f5\u00fa\u00f9\u00fb\u00fc\u2020\u00b0\u00a2\u00a3\u00a7\u2022\u00b6\u00df\u00ae\u00a9\u2122\u00b4\u00a8\u2260\u0102\u0218\u221e\u00b1\u2264\u2265\u00a5\u00b5\u2202\u2211\u220f\u03c0\u222b\u00aa\u00ba\u03a9\u0103\u0219\u00bf\u00a1\u00ac\u221a\u0192\u2248\u2206\u00ab\u00bb\u2026\u00a0\u00c0\u00c3\u00d5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u00f7\u25ca\u00ff\u0178\u2044\u20ac\u2039\u203a\u021a\u021b\u2021\u00b7\u201a\u201e\u2030\u00c2\u00ca\u00c1\u00cb\u00c8\u00cd\u00ce\u00cf\u00cc\u00d3\u00d4\uf8ff\u00d2\u00da\u00db\u00d9\u0131\u02c6\u02dc\u00af\u02d8\u02d9\u02da\u00b8\u02dd\u02db\u02c7",
"x-mac-turkish":"\u00c4\u00c5\u00c7\u00c9\u00d1\u00d6\u00dc\u00e1\u00e0\u00e2\u00e4\u00e3\u00e5\u00e7\u00e9\u00e8\u00ea\u00eb\u00ed\u00ec\u00ee\u00ef\u00f1\u00f3\u00f2\u00f4\u00f6\u00f5\u00fa\u00f9\u00fb\u00fc\u2020\u00b0\u00a2\u00a3\u00a7\u2022\u00b6\u00df\u00ae\u00a9\u2122\u00b4\u00a8\u2260\u00c6\u00d8\u221e\u00b1\u2264\u2265\u00a5\u00b5\u2202\u2211\u220f\u03c0\u222b\u00aa\u00ba\u03a9\u00e6\u00f8\u00bf\u00a1\u00ac\u221a\u0192\u2248\u2206\u00ab\u00bb\u2026\u00a0\u00c0\u00c3\u00d5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u00f7\u25ca\u00ff\u0178\u011e\u011f\u0130\u0131\u015e\u015f\u2021\u00b7\u201a\u201e\u2030\u00c2\u00ca\u00c1\u00cb\u00c8\u00cd\u00ce\u00cf\u00cc\u00d3\u00d4\uf8ff\u00d2\u00da\u00db\u00d9\uf8a0\u02c6\u02dc\u00af\u02d8\u02d9\u02da\u00b8\u02dd\u02db\u02c7"};
mb.MACSTRING=function(a,b,c,d){d=Ub[d];if(void 0!==d){for(var k="",e=0;e<c;e++){var x=a.getUint8(b+e);k+=127>=x?String.fromCharCode(x):d[127&x]}return k}};var Kb,Lb="function"==typeof WeakMap&&new WeakMap;M.MACSTRING=function(a,b){a:{if(!Kb)for(k in Kb={},Ub)Kb[k]=new String(k);var k=Kb[b];if(void 0!==k){if(Lb){var c=Lb.get(k);if(void 0!==c){k=c;break a}}b=Ub[b];if(void 0!==b){c={};for(var d=0;d<b.length;d++)c[b.charCodeAt(d)]=d+128;k=(Lb&&Lb.set(k,c),c);break a}}k=void 0}if(void 0!==k){b=[];for(c=
0;c<a.length;c++){d=a.charCodeAt(c);if(128<=d&&void 0===(d=k[d]))return;b[c]=d}return b}};ea.MACSTRING=function(a,b){a=M.MACSTRING(a,b);return void 0!==a?a.length:0};M.VARDELTAS=function(a){for(var b=0,k=[];b<a.length;){var c=a[b];if(0===c){c=b;b=0;for(var d=a.length;c<d&&64>b&&0===a[c];)++c,++b;c=(k.push(128|b-1),c)}else if(-128<=c&&127>=c){c=a;var e=b;b=k;var f=0,g=c.length;for(d=e;d<g&&64>f;){var h=c[d];if(!(-128<=h&&127>=h))break;if(0===h&&d+1<g&&0===c[d+1])break;++d;++f}for(b.push(f-1);e<d;++e)b.push(c[e]+
256&255);c=d}else{c=a;e=b;b=k;f=0;g=c.length;for(d=e;d<g&&64>f;){h=c[d];if(0===h)break;if(h=-128<=h&&127>=h&&d+1<g)h=c[d+1],h=-128<=h&&127>=h;if(h)break;++d;++f}for(b.push(64|f-1);e<d;++e)f=c[e],b.push(f+65536>>8&255,f+256&255);c=d}b=c}return k};M.INDEX=function(a){for(var b=1,k=[b],c=[],d=0;d<a.length;d+=1){var e=M.OBJECT(a[d]);Array.prototype.push.apply(c,e);b+=e.length;k.push(b)}if(0===c.length)return[0,0];d=[];b=1+Math.floor(Math.log(b)/Math.log(2))/8|0;e=[void 0,M.BYTE,M.USHORT,M.UINT24,M.ULONG][b];
for(var f=0;f<k.length;f+=1){var g=e(k[f]);Array.prototype.push.apply(d,g)}return Array.prototype.concat(M.Card16(a.length),M.OffSize(b),d,c)};ea.INDEX=function(a){return M.INDEX(a).length};M.DICT=function(a){for(var b=[],k=Object.keys(a),c=k.length,d=0;d<c;d+=1){var e=parseInt(k[d],0),f=a[e];b=(b=b.concat(M.OPERAND(f.value,f.type))).concat(M.OPERATOR(e))}return b};ea.DICT=function(a){return M.DICT(a).length};M.OPERATOR=function(a){return 1200>a?[a]:[12,a-1200]};M.OPERAND=function(a,b){var k=[];if(Array.isArray(b))for(var c=
0;c<b.length;c+=1)ia.argument(a.length===b.length,"Not enough arguments given for type"+b),k=k.concat(M.OPERAND(a[c],b[c]));else if("SID"===b)k=k.concat(M.NUMBER(a));else if("offset"===b)k=k.concat(M.NUMBER32(a));else if("number"===b)k=k.concat(M.NUMBER(a));else{if("real"!==b)throw Error("Unknown operand type "+b);k=k.concat(M.REAL(a))}return k};M.OP=M.BYTE;ea.OP=ea.BYTE;var Mb="function"==typeof WeakMap&&new WeakMap;M.CHARSTRING=function(a){if(Mb){var b=Mb.get(a);if(void 0!==b)return b}b=[];for(var k=
a.length,c=0;c<k;c+=1){var d=a[c];b=b.concat(M[d.type](d.value))}return Mb&&Mb.set(a,b),b};ea.CHARSTRING=function(a){return M.CHARSTRING(a).length};M.OBJECT=function(a){var b=M[a.type];return ia.argument(void 0!==b,"No encoding function for type "+a.type),b(a.value)};ea.OBJECT=function(a){var b=ea[a.type];return ia.argument(void 0!==b,"No sizeOf function for type "+a.type),b(a.value)};M.TABLE=function(a){for(var b=[],k=a.fields.length,c=[],d=[],e=0;e<k;e+=1){var f=a.fields[e],g=M[f.type];ia.argument(void 0!==
g,"No encoding function for field type "+f.type+" ("+f.name+")");var h=a[f.name];void 0===h&&(h=f.value);g=g(h);"TABLE"===f.type?(d.push(b.length),b=b.concat([0,0]),c.push(g)):b=b.concat(g)}for(k=0;k<c.length;k+=1)e=d[k],f=b.length,ia.argument(65536>f,"Table "+a.tableName+" too big."),b[e]=f>>8,b[e+1]=255&f,b=b.concat(c[k]);return b};ea.TABLE=function(a){for(var b=0,k=a.fields.length,c=0;c<k;c+=1){var d=a.fields[c],e=ea[d.type];ia.argument(void 0!==e,"No sizeOf function for field type "+d.type+" ("+
d.name+")");var f=a[d.name];void 0===f&&(f=d.value);b+=e(f);"TABLE"===d.type&&(b+=2)}return b};M.RECORD=M.TABLE;ea.RECORD=ea.TABLE;M.LITERAL=function(a){return a};ea.LITERAL=function(a){return a.length};r.prototype.encode=function(){return M.TABLE(this)};r.prototype.sizeOf=function(){return ea.TABLE(this)};var ba={Table:r,Record:r,Coverage:(z.prototype=Object.create(r.prototype)).constructor=z,ScriptList:(I.prototype=Object.create(r.prototype)).constructor=I,FeatureList:(G.prototype=Object.create(r.prototype)).constructor=
G,LookupList:(J.prototype=Object.create(r.prototype)).constructor=J,ushortList:v,tableList:A,recordList:B},Kc={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};y.prototype.parseByte=function(){var a=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,a};y.prototype.parseChar=function(){var a=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,a};y.prototype.parseCard8=y.prototype.parseByte;y.prototype.parseCard16=y.prototype.parseUShort=
function(){var a=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,a};y.prototype.parseSID=y.prototype.parseUShort;y.prototype.parseOffset16=y.prototype.parseUShort;y.prototype.parseShort=function(){var a=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,a};y.prototype.parseF2Dot14=function(){var a=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,a};y.prototype.parseOffset32=y.prototype.parseULong=
function(){var a=F(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,a};y.prototype.parseFixed=function(){var a=K(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,a};y.prototype.parseString=function(a){var b=this.data,k=this.offset+this.relativeOffset,c="";this.relativeOffset+=a;for(var d=0;d<a;d++)c+=String.fromCharCode(b.getUint8(k+d));return c};y.prototype.parseTag=function(){return this.parseString(4)};y.prototype.parseLongDateTime=function(){var a=
F(this.data,this.offset+this.relativeOffset+4);return a-=2082844800,this.relativeOffset+=8,a};y.prototype.parseVersion=function(a){var b=C(this.data,this.offset+this.relativeOffset),k=C(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,void 0===a&&(a=4096),b+k/a/10};y.prototype.skip=function(a,b){void 0===b&&(b=1);this.relativeOffset+=Kc[a]*b};y.prototype.parseULongList=function(a){void 0===a&&(a=this.parseULong());for(var b=Array(a),k=this.data,c=this.offset+this.relativeOffset,
d=0;d<a;d++)b[d]=k.getUint32(c),c+=4;return this.relativeOffset+=4*a,b};y.prototype.parseOffset16List=y.prototype.parseUShortList=function(a){void 0===a&&(a=this.parseUShort());for(var b=Array(a),k=this.data,c=this.offset+this.relativeOffset,d=0;d<a;d++)b[d]=k.getUint16(c),c+=2;return this.relativeOffset+=2*a,b};y.prototype.parseShortList=function(a){for(var b=Array(a),k=this.data,c=this.offset+this.relativeOffset,d=0;d<a;d++)b[d]=k.getInt16(c),c+=2;return this.relativeOffset+=2*a,b};y.prototype.parseByteList=
function(a){for(var b=Array(a),k=this.data,c=this.offset+this.relativeOffset,d=0;d<a;d++)b[d]=k.getUint8(c++);return this.relativeOffset+=a,b};y.prototype.parseList=function(a,b){b||(b=a,a=this.parseUShort());for(var c=Array(a),k=0;k<a;k++)c[k]=b.call(this);return c};y.prototype.parseList32=function(a,b){b||(b=a,a=this.parseULong());for(var c=Array(a),k=0;k<a;k++)c[k]=b.call(this);return c};y.prototype.parseRecordList=function(a,b){b||(b=a,a=this.parseUShort());for(var c=Array(a),k=Object.keys(b),
d=0;d<a;d++){for(var e={},f=0;f<k.length;f++){var g=k[f];e[g]=b[g].call(this)}c[d]=e}return c};y.prototype.parseRecordList32=function(a,b){b||(b=a,a=this.parseULong());for(var c=Array(a),k=Object.keys(b),d=0;d<a;d++){for(var e={},f=0;f<k.length;f++){var g=k[f];e[g]=b[g].call(this)}c[d]=e}return c};y.prototype.parseStruct=function(a){if("function"==typeof a)return a.call(this);for(var b=Object.keys(a),c={},k=0;k<b.length;k++){var d=b[k];c[d]=a[d].call(this)}return c};y.prototype.parseValueRecord=function(a){if(void 0===
a&&(a=this.parseUShort()),0!==a){var b={};return 1&a&&(b.xPlacement=this.parseShort()),2&a&&(b.yPlacement=this.parseShort()),4&a&&(b.xAdvance=this.parseShort()),8&a&&(b.yAdvance=this.parseShort()),16&a&&(b.xPlaDevice=void 0,this.parseShort()),32&a&&(b.yPlaDevice=void 0,this.parseShort()),64&a&&(b.xAdvDevice=void 0,this.parseShort()),128&a&&(b.yAdvDevice=void 0,this.parseShort()),b}};y.prototype.parseValueRecordList=function(){for(var a=this.parseUShort(),b=this.parseUShort(),c=Array(b),d=0;d<b;d++)c[d]=
this.parseValueRecord(a);return c};y.prototype.parsePointer=function(a){var b=this.parseOffset16();if(0<b)return(new y(this.data,this.offset+b)).parseStruct(a)};y.prototype.parsePointer32=function(a){var b=this.parseOffset32();if(0<b)return(new y(this.data,this.offset+b)).parseStruct(a)};y.prototype.parseListOfLists=function(a){for(var b=this.parseOffset16List(),c=b.length,k=this.relativeOffset,d=Array(c),e=0;e<c;e++){var f=b[e];if(0!==f)if(this.relativeOffset=f,a){for(var g=this.parseOffset16List(),
h=Array(g.length),l=0;l<g.length;l++)this.relativeOffset=f+g[l],h[l]=a.call(this);d[e]=h}else d[e]=this.parseUShortList();else d[e]=void 0}return this.relativeOffset=k,d};y.prototype.parseCoverage=function(){var a=this.offset+this.relativeOffset,b=this.parseUShort(),c=this.parseUShort();if(1===b)return{format:1,glyphs:this.parseUShortList(c)};if(2===b){a=Array(c);for(b=0;b<c;b++)a[b]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:a}}throw Error("0x"+
a.toString(16)+": Coverage format must be 1 or 2.");};y.prototype.parseClassDef=function(){var a=this.offset+this.relativeOffset,b=this.parseUShort();if(1===b)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===b)return{format:2,ranges:this.parseRecordList({start:y.uShort,end:y.uShort,classId:y.uShort})};throw Error("0x"+a.toString(16)+": ClassDef format must be 1 or 2.");};y.list=function(a,b){return function(){return this.parseList(a,b)}};y.list32=function(a,b){return function(){return this.parseList32(a,
b)}};y.recordList=function(a,b){return function(){return this.parseRecordList(a,b)}};y.recordList32=function(a,b){return function(){return this.parseRecordList32(a,b)}};y.pointer=function(a){return function(){return this.parsePointer(a)}};y.pointer32=function(a){return function(){return this.parsePointer32(a)}};y.tag=y.prototype.parseTag;y.byte=y.prototype.parseByte;y.uShort=y.offset16=y.prototype.parseUShort;y.uShortList=y.prototype.parseUShortList;y.uLong=y.offset32=y.prototype.parseULong;y.uLongList=
y.prototype.parseULongList;y.struct=y.prototype.parseStruct;y.coverage=y.prototype.parseCoverage;y.classDef=y.prototype.parseClassDef;var sc={reserved:y.uShort,reqFeatureIndex:y.uShort,featureIndexes:y.uShortList};y.prototype.parseScriptList=function(){return this.parsePointer(y.recordList({tag:y.tag,script:y.pointer({defaultLangSys:y.pointer(sc),langSysRecords:y.recordList({tag:y.tag,langSys:y.pointer(sc)})})}))||[]};y.prototype.parseFeatureList=function(){return this.parsePointer(y.recordList({tag:y.tag,
feature:y.pointer({featureParams:y.offset16,lookupListIndexes:y.uShortList})}))||[]};y.prototype.parseLookupList=function(a){return this.parsePointer(y.list(y.pointer(function(){var b=this.parseUShort();ia.argument(1<=b&&9>=b,"GPOS/GSUB lookup type "+b+" unknown.");var c=this.parseUShort(),k=16&c;return{lookupType:b,lookupFlag:c,subtables:this.parseList(y.pointer(a[b])),markFilteringSet:k?this.parseUShort():void 0}})))||[]};y.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var a=
this.parseUShort(),b=this.parseUShort();return ia.argument(1===a&&1>b,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:y.offset32,featureTableSubstitutionOffset:y.offset32})})||[]};var U={getByte:H,getCard8:H,getUShort:C,getCard16:C,getShort:function(a,b){return a.getInt16(b,!1)},getULong:F,getFixed:K,getTag:function(a,b){for(var c="",k=b;k<b+4;k+=1)c+=String.fromCharCode(a.getInt8(k));return c},getOffset:function(a,b,c){for(var k=0,d=0;d<c;d+=1)k<<=8,k+=a.getUint8(b+
d);return k},getBytes:function(a,b,c){for(var k=[];b<c;b+=1)k.push(a.getUint8(b));return k},bytesToString:function(a){for(var b="",c=0;c<a.length;c+=1)b+=String.fromCharCode(a[c]);return b},Parser:y},fc={parse:function(a,b){var c={};c.version=U.getUShort(a,b);ia.argument(0===c.version,"cmap table version should be 0.");c.numTables=U.getUShort(a,b+2);for(var k=-1,d=c.numTables-1;0<=d;--d){var e=U.getUShort(a,b+4+8*d),f=U.getUShort(a,b+4+8*d+2);if(3===e&&(0===f||1===f||10===f)){k=U.getULong(a,b+4+8*
d+4);break}}if(-1===k)throw Error("No valid cmap sub-tables found.");d=new U.Parser(a,b+k);if(c.format=d.parseUShort(),12===c.format)!function(a,b){var c;b.parseUShort();a.length=b.parseULong();a.language=b.parseULong();a.groupCount=c=b.parseULong();a.glyphIndexMap={};for(var k=0;k<c;k+=1)for(var d=b.parseULong(),e=b.parseULong(),f=b.parseULong();d<=e;d+=1)a.glyphIndexMap[d]=f,f++}(c,d);else{if(4!==c.format)throw Error("Only format 4 and 12 cmap tables are supported (found format "+c.format+").");
!function(a,b,c,k,d){var e;a.length=b.parseUShort();a.language=b.parseUShort();a.segCount=e=b.parseUShort()>>1;b.skip("uShort",3);a.glyphIndexMap={};b=new U.Parser(c,k+d+14);var f=new U.Parser(c,k+d+16+2*e),g=new U.Parser(c,k+d+16+4*e),x=new U.Parser(c,k+d+16+6*e);k=k+d+16+8*e;for(d=0;d<e-1;d+=1)for(var h=void 0,L=b.parseUShort(),l=f.parseUShort(),m=g.parseShort(),n=x.parseUShort(),p=l;p<=L;p+=1)0!==n?(k=x.offset+x.relativeOffset-2,k+=n,k+=2*(p-l),0!==(h=U.getUShort(c,k))&&(h=h+m&65535)):h=p+m&65535,
a.glyphIndexMap[p]=h}(c,d,a,b,k)}return c},make:function(a){var b,c=!0;for(b=a.length-1;0<b;--b)if(65535<a.get(b).unicode){console.log("Adding CMAP format 12 (needed!)");c=!1;break}var k=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:c?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:c?12:20}];c||(k=k.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",
value:10},{name:"cmap12Offset",type:"ULONG",value:0}]));k=k.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);k=new ba.Table("cmap",k);k.segments=[];for(b=0;b<a.length;b+=1){for(var d=a.get(b),e=0;e<d.unicodes.length;e+=1){var f=k;var g=d.unicodes[e];
var h=b;f.segments.push({end:g,start:g,delta:-(g-h),offset:0,glyphIndex:h})}k.segments=k.segments.sort(function(a,b){return a.start-b.start})}k.segments.push({end:65535,start:65535,delta:1,offset:0});f=k.segments.length;g=0;h=[];d=[];e=[];var l=[],m=[];a=[];for(b=0;b<f;b+=1){var n=k.segments[b];65535>=n.end&&65535>=n.start?(h=h.concat({name:"end_"+b,type:"USHORT",value:n.end}),d=d.concat({name:"start_"+b,type:"USHORT",value:n.start}),e=e.concat({name:"idDelta_"+b,type:"SHORT",value:n.delta}),l=l.concat({name:"idRangeOffset_"+
b,type:"USHORT",value:n.offset}),void 0!==n.glyphId&&(m=m.concat({name:"glyph_"+b,type:"USHORT",value:n.glyphId}))):g+=1;c||void 0===n.glyphIndex||(a=(a=(a=a.concat({name:"cmap12Start_"+b,type:"ULONG",value:n.start})).concat({name:"cmap12End_"+b,type:"ULONG",value:n.end})).concat({name:"cmap12Glyph_"+b,type:"ULONG",value:n.glyphIndex}))}(k.segCountX2=2*(f-g),k.searchRange=2*Math.pow(2,Math.floor(Math.log(f-g)/Math.log(2))),k.entrySelector=Math.log(k.searchRange/2)/Math.log(2),k.rangeShift=k.segCountX2-
k.searchRange,k.fields=k.fields.concat(h),k.fields.push({name:"reservedPad",type:"USHORT",value:0}),k.fields=k.fields.concat(d),k.fields=k.fields.concat(e),k.fields=k.fields.concat(l),k.fields=k.fields.concat(m),k.cmap4Length=2*h.length+16+2*d.length+2*e.length+2*l.length+2*m.length,c)||(c=16+4*a.length,k.cmap12Offset=20+k.cmap4Length,k.fields=k.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:c},{name:"cmap12Language",
type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:a.length/3}]),k.fields=k.fields.concat(a));return k}},Jb=".notdef;space;exclam;quotedbl;numbersign;dollar;percent;ampersand;quoteright;parenleft;parenright;asterisk;plus;comma;hyphen;period;slash;zero;one;two;three;four;five;six;seven;eight;nine;colon;semicolon;less;equal;greater;question;at;A;B;C;D;E;F;G;H;I;J;K;L;M;N;O;P;Q;R;S;T;U;V;W;X;Y;Z;bracketleft;backslash;bracketright;asciicircum;underscore;quoteleft;a;b;c;d;e;f;g;h;i;j;k;l;m;n;o;p;q;r;s;t;u;v;w;x;y;z;braceleft;bar;braceright;asciitilde;exclamdown;cent;sterling;fraction;yen;florin;section;currency;quotesingle;quotedblleft;guillemotleft;guilsinglleft;guilsinglright;fi;fl;endash;dagger;daggerdbl;periodcentered;paragraph;bullet;quotesinglbase;quotedblbase;quotedblright;guillemotright;ellipsis;perthousand;questiondown;grave;acute;circumflex;tilde;macron;breve;dotaccent;dieresis;ring;cedilla;hungarumlaut;ogonek;caron;emdash;AE;ordfeminine;Lslash;Oslash;OE;ordmasculine;ae;dotlessi;lslash;oslash;oe;germandbls;onesuperior;logicalnot;mu;trademark;Eth;onehalf;plusminus;Thorn;onequarter;divide;brokenbar;degree;thorn;threequarters;twosuperior;registered;minus;eth;multiply;threesuperior;copyright;Aacute;Acircumflex;Adieresis;Agrave;Aring;Atilde;Ccedilla;Eacute;Ecircumflex;Edieresis;Egrave;Iacute;Icircumflex;Idieresis;Igrave;Ntilde;Oacute;Ocircumflex;Odieresis;Ograve;Otilde;Scaron;Uacute;Ucircumflex;Udieresis;Ugrave;Yacute;Ydieresis;Zcaron;aacute;acircumflex;adieresis;agrave;aring;atilde;ccedilla;eacute;ecircumflex;edieresis;egrave;iacute;icircumflex;idieresis;igrave;ntilde;oacute;ocircumflex;odieresis;ograve;otilde;scaron;uacute;ucircumflex;udieresis;ugrave;yacute;ydieresis;zcaron;exclamsmall;Hungarumlautsmall;dollaroldstyle;dollarsuperior;ampersandsmall;Acutesmall;parenleftsuperior;parenrightsuperior;266 ff;onedotenleader;zerooldstyle;oneoldstyle;twooldstyle;threeoldstyle;fouroldstyle;fiveoldstyle;sixoldstyle;sevenoldstyle;eightoldstyle;nineoldstyle;commasuperior;threequartersemdash;periodsuperior;questionsmall;asuperior;bsuperior;centsuperior;dsuperior;esuperior;isuperior;lsuperior;msuperior;nsuperior;osuperior;rsuperior;ssuperior;tsuperior;ff;ffi;ffl;parenleftinferior;parenrightinferior;Circumflexsmall;hyphensuperior;Gravesmall;Asmall;Bsmall;Csmall;Dsmall;Esmall;Fsmall;Gsmall;Hsmall;Ismall;Jsmall;Ksmall;Lsmall;Msmall;Nsmall;Osmall;Psmall;Qsmall;Rsmall;Ssmall;Tsmall;Usmall;Vsmall;Wsmall;Xsmall;Ysmall;Zsmall;colonmonetary;onefitted;rupiah;Tildesmall;exclamdownsmall;centoldstyle;Lslashsmall;Scaronsmall;Zcaronsmall;Dieresissmall;Brevesmall;Caronsmall;Dotaccentsmall;Macronsmall;figuredash;hypheninferior;Ogoneksmall;Ringsmall;Cedillasmall;questiondownsmall;oneeighth;threeeighths;fiveeighths;seveneighths;onethird;twothirds;zerosuperior;foursuperior;fivesuperior;sixsuperior;sevensuperior;eightsuperior;ninesuperior;zeroinferior;oneinferior;twoinferior;threeinferior;fourinferior;fiveinferior;sixinferior;seveninferior;eightinferior;nineinferior;centinferior;dollarinferior;periodinferior;commainferior;Agravesmall;Aacutesmall;Acircumflexsmall;Atildesmall;Adieresissmall;Aringsmall;AEsmall;Ccedillasmall;Egravesmall;Eacutesmall;Ecircumflexsmall;Edieresissmall;Igravesmall;Iacutesmall;Icircumflexsmall;Idieresissmall;Ethsmall;Ntildesmall;Ogravesmall;Oacutesmall;Ocircumflexsmall;Otildesmall;Odieresissmall;OEsmall;Oslashsmall;Ugravesmall;Uacutesmall;Ucircumflexsmall;Udieresissmall;Yacutesmall;Thornsmall;Ydieresissmall;001.000;001.001;001.002;001.003;Black;Bold;Book;Light;Medium;Regular;Roman;Semibold".split(";"),
Lc="                                space exclam quotedbl numbersign dollar percent ampersand quoteright parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore quoteleft a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde                                   exclamdown cent sterling fraction yen florin section currency quotesingle quotedblleft guillemotleft guilsinglleft guilsinglright fi fl  endash dagger daggerdbl periodcentered  paragraph bullet quotesinglbase quotedblbase quotedblright guillemotright ellipsis perthousand  questiondown  grave acute circumflex tilde macron breve dotaccent dieresis  ring cedilla  hungarumlaut ogonek caron emdash                 AE  ordfeminine     Lslash Oslash OE ordmasculine      ae    dotlessi   lslash oslash oe germandbls".split(" "),
Mc="                                space exclamsmall Hungarumlautsmall  dollaroldstyle dollarsuperior ampersandsmall Acutesmall parenleftsuperior parenrightsuperior twodotenleader onedotenleader comma hyphen period fraction zerooldstyle oneoldstyle twooldstyle threeoldstyle fouroldstyle fiveoldstyle sixoldstyle sevenoldstyle eightoldstyle nineoldstyle colon semicolon commasuperior threequartersemdash periodsuperior questionsmall  asuperior bsuperior centsuperior dsuperior esuperior   isuperior   lsuperior msuperior nsuperior osuperior   rsuperior ssuperior tsuperior  ff fi fl ffi ffl parenleftinferior  parenrightinferior Circumflexsmall hyphensuperior Gravesmall Asmall Bsmall Csmall Dsmall Esmall Fsmall Gsmall Hsmall Ismall Jsmall Ksmall Lsmall Msmall Nsmall Osmall Psmall Qsmall Rsmall Ssmall Tsmall Usmall Vsmall Wsmall Xsmall Ysmall Zsmall colonmonetary onefitted rupiah Tildesmall                                   exclamdownsmall centoldstyle Lslashsmall   Scaronsmall Zcaronsmall Dieresissmall Brevesmall Caronsmall  Dotaccentsmall   Macronsmall   figuredash hypheninferior   Ogoneksmall Ringsmall Cedillasmall    onequarter onehalf threequarters questiondownsmall oneeighth threeeighths fiveeighths seveneighths onethird twothirds   zerosuperior onesuperior twosuperior threesuperior foursuperior fivesuperior sixsuperior sevensuperior eightsuperior ninesuperior zeroinferior oneinferior twoinferior threeinferior fourinferior fiveinferior sixinferior seveninferior eightinferior nineinferior centinferior dollarinferior periodinferior commainferior Agravesmall Aacutesmall Acircumflexsmall Atildesmall Adieresissmall Aringsmall AEsmall Ccedillasmall Egravesmall Eacutesmall Ecircumflexsmall Edieresissmall Igravesmall Iacutesmall Icircumflexsmall Idieresissmall Ethsmall Ntildesmall Ogravesmall Oacutesmall Ocircumflexsmall Otildesmall Odieresissmall OEsmall Oslashsmall Ugravesmall Uacutesmall Ucircumflexsmall Udieresissmall Yacutesmall Thornsmall Ydieresissmall".split(" "),
eb=".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(" ");
E.prototype.charToGlyphIndex=function(a){a=a.codePointAt(0);var b=this.font.glyphs;if(b)for(var c=0;c<b.length;c+=1)for(var k=b.get(c),d=0;d<k.unicodes.length;d+=1)if(k.unicodes[d]===a)return c;return null};D.prototype.charToGlyphIndex=function(a){return this.cmap.glyphIndexMap[a.codePointAt(0)]||0};Q.prototype.charToGlyphIndex=function(a){a=a.codePointAt(0);return this.charset.indexOf(this.encoding[a])};Z.prototype.nameToGlyphIndex=function(a){return this.names.indexOf(a)};Z.prototype.glyphIndexToName=
function(a){return this.names[a]};var fb={line:function(a,b,c,d,e){a.beginPath();a.moveTo(b,c);a.lineTo(d,e);a.stroke()}};N.prototype.bindConstructorValues=function(a){var b,c;this.index=a.index||0;this.name=a.name||null;this.unicode=a.unicode||void 0;this.unicodes=a.unicodes||void 0!==a.unicode?[a.unicode]:[];a.xMin&&(this.xMin=a.xMin);a.yMin&&(this.yMin=a.yMin);a.xMax&&(this.xMax=a.xMax);a.yMax&&(this.yMax=a.yMax);a.advanceWidth&&(this.advanceWidth=a.advanceWidth);Object.defineProperty(this,"path",
(b=a.path,c=b||new q,{configurable:!0,get:function(){return"function"==typeof c&&(c=c()),c},set:function(a){c=a}}))};N.prototype.addUnicode=function(a){0===this.unicodes.length&&(this.unicode=a);this.unicodes.push(a)};N.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};N.prototype.getPath=function(a,b,c,d,e){var k;a=void 0!==a?a:0;b=void 0!==b?b:0;c=void 0!==c?c:72;d||(d={});var f=d.xScale,g=d.yScale;(d.hinting&&e&&e.hinting&&(k=this.path&&e.hinting.exec(this,c)),k)?(d=e.hinting.getCommands(k),
a=Math.round(a),b=Math.round(b),f=g=1):(d=this.path.commands,c*=1/this.path.unitsPerEm,void 0===f&&(f=c),void 0===g&&(g=c));c=new q;for(e=0;e<d.length;e+=1)k=d[e],"M"===k.type?c.moveTo(a+k.x*f,b+-k.y*g):"L"===k.type?c.lineTo(a+k.x*f,b+-k.y*g):"Q"===k.type?c.quadraticCurveTo(a+k.x1*f,b+-k.y1*g,a+k.x*f,b+-k.y*g):"C"===k.type?c.curveTo(a+k.x1*f,b+-k.y1*g,a+k.x2*f,b+-k.y2*g,a+k.x*f,b+-k.y*g):"Z"===k.type&&c.closePath();return c};N.prototype.getContours=function(){if(void 0===this.points)return[];for(var a=
[],b=[],c=0;c<this.points.length;c+=1){var d=this.points[c];b.push(d);d.lastPointOfContour&&(a.push(b),b=[])}return ia.argument(0===b.length,"There are still points left in the current contour."),a};N.prototype.getMetrics=function(){for(var a=this.path.commands,b=[],c=[],d=0;d<a.length;d+=1){var e=a[d];"Z"!==e.type&&(b.push(e.x),c.push(e.y));"Q"!==e.type&&"C"!==e.type||(b.push(e.x1),c.push(e.y1));"C"===e.type&&(b.push(e.x2),c.push(e.y2))}a={xMin:Math.min.apply(null,b),yMin:Math.min.apply(null,c),
xMax:Math.max.apply(null,b),yMax:Math.max.apply(null,c),leftSideBearing:this.leftSideBearing};return isFinite(a.xMin)||(a.xMin=0),isFinite(a.xMax)||(a.xMax=this.advanceWidth),isFinite(a.yMin)||(a.yMin=0),isFinite(a.yMax)||(a.yMax=0),a.rightSideBearing=this.advanceWidth-a.leftSideBearing-(a.xMax-a.xMin),a};N.prototype.draw=function(a,b,c,d,e){this.getPath(b,c,d,e).draw(a)};N.prototype.drawPoints=function(a,b,c,d){function k(b,c,k,d){var e=2*Math.PI;a.beginPath();for(var f=0;f<b.length;f+=1)a.moveTo(c+
b[f].x*d,k+b[f].y*d),a.arc(c+b[f].x*d,k+b[f].y*d,2,0,e,!1);a.closePath();a.fill()}b=void 0!==b?b:0;c=void 0!==c?c:0;d=1/this.path.unitsPerEm*(void 0!==d?d:24);for(var e=[],f=[],g=this.path,h=0;h<g.commands.length;h+=1){var x=g.commands[h];void 0!==x.x&&e.push({x:x.x,y:-x.y});void 0!==x.x1&&f.push({x:x.x1,y:-x.y1});void 0!==x.x2&&f.push({x:x.x2,y:-x.y2})}a.fillStyle="blue";k(e,b,c,d);a.fillStyle="red";k(f,b,c,d)};N.prototype.drawMetrics=function(a,b,c,d){b=void 0!==b?b:0;c=void 0!==c?c:0;d=1/this.path.unitsPerEm*
(void 0!==d?d:24);a.lineWidth=1;a.strokeStyle="black";fb.line(a,b,-1E4,b,1E4);fb.line(a,-1E4,c,1E4,c);var k=this.xMin||0,e=this.yMin||0,f=this.xMax||0,g=this.yMax||0,h=this.advanceWidth||0;a.strokeStyle="blue";fb.line(a,b+k*d,-1E4,b+k*d,1E4);fb.line(a,b+f*d,-1E4,b+f*d,1E4);fb.line(a,-1E4,c+-e*d,1E4,c+-e*d);fb.line(a,-1E4,c+-g*d,1E4,c+-g*d);a.strokeStyle="green";fb.line(a,b+h*d,-1E4,b+h*d,1E4)};fa.prototype.get=function(a){return"function"==typeof this.glyphs[a]&&(this.glyphs[a]=this.glyphs[a]()),
this.glyphs[a]};fa.prototype.push=function(a,b){this.glyphs[a]=b;this.length++};var lb={GlyphSet:fa,glyphLoader:function(a,b){return new N({index:b,font:a})},ttfGlyphLoader:function(a,b,c,d,e,f){return function(){var k=new N({index:b,font:a});return k.path=function(){c(k,d,e);var b=f(a.glyphs,k);return b.unitsPerEm=a.unitsPerEm,b},aa(k,"xMin","_xMin"),aa(k,"xMax","_xMax"),aa(k,"yMin","_yMin"),aa(k,"yMax","_yMax"),k}},cffGlyphLoader:function(a,b,c,d){return function(){var k=new N({index:b,font:a});
return k.path=function(){var b=c(a,k,d);return b.unitsPerEm=a.unitsPerEm,b},k}}},cc=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",
value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:"real real real real real real".split(" "),value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",
value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",
op:1238,type:"SID"}],bc=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}],mc={parse:function(a,b,c){c.tables.cff={};var k,d=V(a,V(a,((k={}).formatMajor=U.getCard8(a,b),k.formatMinor=U.getCard8(a,b+1),k.size=U.getCard8(a,b+2),k.offsetSize=U.getCard8(a,b+3),k.startOffset=b,k.endOffset=b+4,k).endOffset,U.bytesToString).endOffset);k=V(a,d.endOffset,U.bytesToString);var e=V(a,k.endOffset);c.gsubrs=e.objects;
c.gsubrsBias=T(c.gsubrs);d=ka(a,b,d.objects,k.objects);if(1!==d.length)throw Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+d.length);d=d[0];if((c.tables.cff.topDict=d)._privateDict&&(c.defaultWidthX=d._privateDict.defaultWidthX,c.nominalWidthX=d._privateDict.nominalWidthX),void 0!==d.ros[0]&&void 0!==d.ros[1]&&(c.isCIDFont=!0),c.isCIDFont){e=d.fdArray;var f=d.fdSelect;if(0===e||0===f)throw Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");
var g=ka(a,b,V(a,e+=b).objects,k.objects);d._fdArray=g;d._fdSelect=function(a,b,c,k){var d,e=[];a=new U.Parser(a,b);b=a.parseCard8();if(0===b)for(var f=0;f<c;f++){if(k<=(d=a.parseCard8()))throw Error("CFF table CID Font FDSelect has bad FD index value "+d+" (FD count "+k+")");e.push(d)}else{if(3!==b)throw Error("CFF Table CID Font FDSelect table has unsupported format "+b);b=a.parseCard16();var g=a.parseCard16();if(0!==g)throw Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+
g);for(var h=0;h<b;h++){if(d=a.parseCard8(),f=a.parseCard16(),k<=d)throw Error("CFF table CID Font FDSelect has bad FD index value "+d+" (FD count "+k+")");if(c<f)throw Error("CFF Table CID Font FDSelect format 3 range has bad GID "+f);for(;g<f;g++)e.push(d);g=f}if(f!==c)throw Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+f);}return e}(a,f+b,c.numGlyphs,g.length)}e=b+d.private[1];f=ja(a,e,d.private[0],k.objects);(c.defaultWidthX=f.defaultWidthX,c.nominalWidthX=f.nominalWidthX,
0!==f.subrs)?(e=V(a,e+f.subrs),c.subrs=e.objects,c.subrsBias=T(c.subrs)):(c.subrs=[],c.subrsBias=0);e=V(a,b+d.charStrings);c.nGlyphs=e.objects.length;k=function(a,b,c,k){var d;a=new U.Parser(a,b);--c;b=[".notdef"];var e=a.parseCard8();if(0===e)for(d=0;d<c;d+=1)e=a.parseSID(),b.push(S(k,e));else if(1===e)for(;b.length<=c;){e=a.parseSID();d=a.parseCard8();for(var f=0;f<=d;f+=1)b.push(S(k,e)),e+=1}else{if(2!==e)throw Error("Unknown charset format "+e);for(;b.length<=c;)for(e=a.parseSID(),d=a.parseCard16(),
f=0;f<=d;f+=1)b.push(S(k,e)),e+=1}return b}(a,b+d.charset,c.nGlyphs,k.objects);0===d.encoding?c.cffEncoding=new Q(Lc,k):1===d.encoding?c.cffEncoding=new Q(Mc,k):c.cffEncoding=function(a,b,c){var k={};a=new U.Parser(a,b);b=a.parseCard8();if(0===b)for(var d=a.parseCard8(),e=0;e<d;e+=1)k[b=a.parseCard8()]=e;else{if(1!==b)throw Error("Unknown encoding format "+b);d=a.parseCard8();b=1;for(e=0;e<d;e+=1)for(var f=a.parseCard8(),g=a.parseCard8(),h=f;h<=f+g;h+=1)k[h]=b,b+=1}return new Q(k,c)}(a,b+d.encoding,
k);c.encoding=c.encoding||c.cffEncoding;c.glyphs=new lb.GlyphSet(c);for(a=0;a<c.nGlyphs;a+=1)c.glyphs.push(a,lb.cffGlyphLoader(c,a,X,e.objects[a]))},make:function(a,b){var c=new ba.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),k=1/b.unitsPerEm;k={version:b.version,
fullName:b.fullName,familyName:b.familyName,weight:b.weightName,fontBBox:b.fontBBox||[0,0,0,0],fontMatrix:[k,0,0,k,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]};for(var d=[],e=1;e<a.length;e+=1){var f=a.get(e);d.push(f.name)}f=[];c.header=new ba.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]);c.nameIndex=function(a){var b=new ba.Record("Name INDEX",[{name:"names",type:"INDEX",
value:[]}]);b.names=[];for(var c=0;c<a.length;c+=1)b.names.push({name:"name_"+c,type:"NAME",value:a[c]});return b}([b.postScriptName]);var g,h;b=ha(k,f);c.topDictIndex=oa(b);c.globalSubrIndex=new ba.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]);c.charsets=function(a,b){for(var c=new ba.Record("Charsets",[{name:"format",type:"Card8",value:0}]),k=0;k<a.length;k+=1){var d=Y(a[k],b);c.fields.push({name:"glyph_"+k,type:"SID",value:d})}return c}(d,f);c.charStringsIndex=function(a){for(var b=
new ba.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),c=0;c<a.length;c+=1){var k=a.get(c);var d=[];var e=k.path;d.push({name:"width",type:"NUMBER",value:k.advanceWidth});for(var f=0,g=0,h=0;h<e.commands.length;h+=1){var x=e.commands[h];"Q"===x.type&&(x={type:"C",x:x.x,y:x.y,x1:1/3*f+2/3*x.x1,y1:1/3*g+2/3*x.y1,x2:1/3*x.x+2/3*x.x1,y2:1/3*x.y+2/3*x.y1});if("M"===x.type)f=Math.round(x.x-f),g=Math.round(x.y-g),d.push({name:"dx",type:"NUMBER",value:f}),d.push({name:"dy",type:"NUMBER",
value:g}),d.push({name:"rmoveto",type:"OP",value:21}),f=Math.round(x.x),g=Math.round(x.y);else if("L"===x.type)f=Math.round(x.x-f),g=Math.round(x.y-g),d.push({name:"dx",type:"NUMBER",value:f}),d.push({name:"dy",type:"NUMBER",value:g}),d.push({name:"rlineto",type:"OP",value:5}),f=Math.round(x.x),g=Math.round(x.y);else if("C"===x.type){var l=Math.round(x.x1-f),m=Math.round(x.y1-g),L=Math.round(x.x2-x.x1),n=Math.round(x.y2-x.y1);f=Math.round(x.x-x.x2);g=Math.round(x.y-x.y2);d.push({name:"dx1",type:"NUMBER",
value:l});d.push({name:"dy1",type:"NUMBER",value:m});d.push({name:"dx2",type:"NUMBER",value:L});d.push({name:"dy2",type:"NUMBER",value:n});d.push({name:"dx",type:"NUMBER",value:f});d.push({name:"dy",type:"NUMBER",value:g});d.push({name:"rrcurveto",type:"OP",value:8});f=Math.round(x.x);g=Math.round(x.y)}}d=(d.push({name:"endchar",type:"OP",value:14}),d);b.charStrings.push({name:k.name,type:"CHARSTRING",value:d})}return b}(a);c.privateDict=(g={},(h=new ba.Record("Private DICT",[{name:"dict",type:"DICT",
value:{}}])).dict=W(bc,g,f),h);c.stringIndex=function(a){var b=new ba.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);b.strings=[];for(var c=0;c<a.length;c+=1)b.strings.push({name:"string_"+c,type:"STRING",value:a[c]});return b}(f);a=c.header.sizeOf()+c.nameIndex.sizeOf()+c.topDictIndex.sizeOf()+c.stringIndex.sizeOf()+c.globalSubrIndex.sizeOf();return k.charset=a,k.encoding=0,k.charStrings=k.charset+c.charsets.sizeOf(),k.private[1]=k.charStrings+c.charStringsIndex.sizeOf(),b=ha(k,
f),c.topDictIndex=oa(b),c}},gc={parse:function(a,b){var c={};a=new U.Parser(a,b);return c.version=a.parseVersion(),c.fontRevision=Math.round(1E3*a.parseFixed())/1E3,c.checkSumAdjustment=a.parseULong(),c.magicNumber=a.parseULong(),ia.argument(1594834165===c.magicNumber,"Font header has wrong magic number."),c.flags=a.parseUShort(),c.unitsPerEm=a.parseUShort(),c.created=a.parseLongDateTime(),c.modified=a.parseLongDateTime(),c.xMin=a.parseShort(),c.yMin=a.parseShort(),c.xMax=a.parseShort(),c.yMax=a.parseShort(),
c.macStyle=a.parseUShort(),c.lowestRecPPEM=a.parseUShort(),c.fontDirectionHint=a.parseShort(),c.indexToLocFormat=a.parseShort(),c.glyphDataFormat=a.parseShort(),c},make:function(a){var b=Math.round((new Date).getTime()/1E3)+2082844800,c=b;return a.createdTimestamp&&(c=a.createdTimestamp+2082844800),new ba.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},
{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1E3},{name:"created",type:"LONGDATETIME",value:c},{name:"modified",type:"LONGDATETIME",value:b},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",
type:"SHORT",value:0}],a)}},hc={parse:function(a,b){var c={};a=new U.Parser(a,b);return c.version=a.parseVersion(),c.ascender=a.parseShort(),c.descender=a.parseShort(),c.lineGap=a.parseShort(),c.advanceWidthMax=a.parseUShort(),c.minLeftSideBearing=a.parseShort(),c.minRightSideBearing=a.parseShort(),c.xMaxExtent=a.parseShort(),c.caretSlopeRise=a.parseShort(),c.caretSlopeRun=a.parseShort(),c.caretOffset=a.parseShort(),a.relativeOffset+=8,c.metricDataFormat=a.parseShort(),c.numberOfHMetrics=a.parseUShort(),
c},make:function(a){return new ba.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",
type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],a)}},nc={parse:function(a,b,c,d,e){var k,f;a=new U.Parser(a,b);for(b=0;b<d;b+=1){b<c&&(k=a.parseUShort(),f=a.parseShort());var g=e.get(b);g.advanceWidth=k;g.leftSideBearing=f}},make:function(a){for(var b=new ba.Table("hmtx",
[]),c=0;c<a.length;c+=1){var k=a.get(c),d=k.leftSideBearing||0;b.fields.push({name:"advanceWidth_"+c,type:"USHORT",value:k.advanceWidth||0});b.fields.push({name:"leftSideBearing_"+c,type:"SHORT",value:d})}return b}},ic={make:function(a){for(var b=new ba.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:a.length}]),c="",k=12+4*a.length,d=0;d<a.length;++d){var e=c.indexOf(a[d]);0>e&&(e=c.length,c+=a[d]);b.fields.push({name:"offset "+
d,type:"USHORT",value:k+e});b.fields.push({name:"length "+d,type:"USHORT",value:a[d].length})}return b.fields.push({name:"stringPool",type:"CHARARRAY",value:c}),b},parse:function(a,b){var c=new U.Parser(a,b),k=c.parseULong();ia.argument(1===k,"Unsupported ltag table version.");c.skip("uLong",1);k=c.parseULong();for(var d=[],e=0;e<k;e++){for(var f="",g=b+c.parseUShort(),h=c.parseUShort(),x=g;x<g+h;++x)f+=String.fromCharCode(a.getInt8(x));d.push(f)}return d}},jc={parse:function(a,b){var c={};a=new U.Parser(a,
b);return c.version=a.parseVersion(),c.numGlyphs=a.parseUShort(),1===c.version&&(c.maxPoints=a.parseUShort(),c.maxContours=a.parseUShort(),c.maxCompositePoints=a.parseUShort(),c.maxCompositeContours=a.parseUShort(),c.maxZones=a.parseUShort(),c.maxTwilightPoints=a.parseUShort(),c.maxStorage=a.parseUShort(),c.maxFunctionDefs=a.parseUShort(),c.maxInstructionDefs=a.parseUShort(),c.maxStackElements=a.parseUShort(),c.maxSizeOfInstructions=a.parseUShort(),c.maxComponentElements=a.parseUShort(),c.maxComponentDepth=
a.parseUShort()),c},make:function(a){return new ba.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:a}])}},tc="copyright fontFamily fontSubfamily uniqueID fullName version postScriptName trademark manufacturer designer description manufacturerURL designerURL license licenseURL reserved preferredFamily preferredSubfamily compatibleFullName sampleText postScriptFindFontName wwsFamily wwsSubfamily".split(" "),uc={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",
6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",
67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Nc={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,
11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,
137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},vc={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",
5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",
3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",
1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",
4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},Ec={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",
7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Dc={15:"x-mac-icelandic",17:"x-mac-turkish",
18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"},lc={parse:function(a,b,c){var k={};b=new U.Parser(a,b);for(var d=b.parseUShort(),e=b.parseUShort(),f=b.offset+b.parseUShort(),g=0;g<e;g++){var h=b.parseUShort(),x=b.parseUShort(),l=b.parseUShort(),m=b.parseUShort();m=tc[m]||m;var n=b.parseUShort(),p=b.parseUShort();a:{switch(h){case 0:if(65535===
l){var L="und";break a}if(c){L=c[l];break a}break;case 1:L=uc[l];break a;case 3:L=vc[l];break a}L=void 0}h=Ca(h,x,l);void 0!==h&&void 0!==L&&(h="utf-16"===h?mb.UTF16(a,f+p,n):mb.MACSTRING(a,f+p,n,h))&&(x=k[m],void 0===x&&(x=k[m]={}),x[L]=h)}return 1===d&&b.parseUShort(),k},make:function(a,b){var c,d=[],k={},e=Da(tc);for(g in a){var f=e[g];if(void 0===f&&(f=g),c=parseInt(f),isNaN(c))throw Error('Name table entry "'+g+'" does not exist, see nameTableNames for complete list.');k[c]=a[g];d.push(c)}var g=
Da(uc);f=Da(vc);a=[];e=[];for(var h=0;h<d.length;h++){var x=k[c=d[h]],l;for(l in x){var m=x[l],n=1,p=g[l],q=Nc[p],r=Ca(n,q,p);r=M.MACSTRING(m,r);void 0===r&&(n=0,0>(p=b.indexOf(l))&&(p=b.length,b.push(l)),q=4,r=M.UTF16(m));var t=Aa(r,e);a.push(Ga(n,q,p,c,r.length,t));n=f[l];void 0!==n&&(m=M.UTF16(m),p=Aa(m,e),a.push(Ga(3,1,n,c,m.length,p)))}}a.sort(function(a,b){return a.platformID-b.platformID||a.encodingID-b.encodingID||a.languageID-b.languageID||a.nameID-b.nameID});b=new ba.Table("name",[{name:"format",
type:"USHORT",value:0},{name:"count",type:"USHORT",value:a.length},{name:"stringOffset",type:"USHORT",value:6+12*a.length}]);for(c=0;c<a.length;c++)b.fields.push({name:"record_"+c,type:"RECORD",value:a[c]});return b.fields.push({name:"strings",type:"LITERAL",value:e}),b}},Vb=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},
{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},
{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},
{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,
end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},
{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},
{begin:66E3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Sb={parse:function(a,b){var c={};a=new U.Parser(a,b);c.version=a.parseUShort();c.xAvgCharWidth=a.parseShort();c.usWeightClass=a.parseUShort();c.usWidthClass=a.parseUShort();c.fsType=a.parseUShort();c.ySubscriptXSize=a.parseShort();c.ySubscriptYSize=a.parseShort();c.ySubscriptXOffset=a.parseShort();c.ySubscriptYOffset=a.parseShort();c.ySuperscriptXSize=a.parseShort();c.ySuperscriptYSize=a.parseShort();c.ySuperscriptXOffset=a.parseShort();
c.ySuperscriptYOffset=a.parseShort();c.yStrikeoutSize=a.parseShort();c.yStrikeoutPosition=a.parseShort();c.sFamilyClass=a.parseShort();c.panose=[];for(b=0;10>b;b++)c.panose[b]=a.parseByte();return c.ulUnicodeRange1=a.parseULong(),c.ulUnicodeRange2=a.parseULong(),c.ulUnicodeRange3=a.parseULong(),c.ulUnicodeRange4=a.parseULong(),c.achVendID=String.fromCharCode(a.parseByte(),a.parseByte(),a.parseByte(),a.parseByte()),c.fsSelection=a.parseUShort(),c.usFirstCharIndex=a.parseUShort(),c.usLastCharIndex=
a.parseUShort(),c.sTypoAscender=a.parseShort(),c.sTypoDescender=a.parseShort(),c.sTypoLineGap=a.parseShort(),c.usWinAscent=a.parseUShort(),c.usWinDescent=a.parseUShort(),1<=c.version&&(c.ulCodePageRange1=a.parseULong(),c.ulCodePageRange2=a.parseULong()),2<=c.version&&(c.sxHeight=a.parseShort(),c.sCapHeight=a.parseShort(),c.usDefaultChar=a.parseUShort(),c.usBreakChar=a.parseUShort(),c.usMaxContent=a.parseUShort()),c},make:function(a){return new ba.Table("OS/2",[{name:"version",type:"USHORT",value:3},
{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",
value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",
type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",
value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],a)},unicodeRanges:Vb,
getUnicodeRange:function(a){for(var b=0;b<Vb.length;b+=1){var c=Vb[b];if(a>=c.begin&&a<c.end)return b}return-1}},kc={parse:function(a,b){var c={};a=new U.Parser(a,b);switch(c.version=a.parseVersion(),c.italicAngle=a.parseFixed(),c.underlinePosition=a.parseShort(),c.underlineThickness=a.parseShort(),c.isFixedPitch=a.parseULong(),c.minMemType42=a.parseULong(),c.maxMemType42=a.parseULong(),c.minMemType1=a.parseULong(),c.maxMemType1=a.parseULong(),c.version){case 1:c.names=eb.slice();break;case 2:c.numberOfGlyphs=
a.parseUShort();c.glyphNameIndex=Array(c.numberOfGlyphs);for(b=0;b<c.numberOfGlyphs;b++)c.glyphNameIndex[b]=a.parseUShort();c.names=[];for(b=0;b<c.numberOfGlyphs;b++)if(c.glyphNameIndex[b]>=eb.length){var d=a.parseChar();c.names.push(a.parseString(d))}break;case 2.5:for(c.numberOfGlyphs=a.parseUShort(),c.offset=Array(c.numberOfGlyphs),b=0;b<c.numberOfGlyphs;b++)c.offset[b]=a.parseChar()}return c},make:function(){return new ba.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",
type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},Ka=Array(9);Ka[1]=function(){var a=this.offset+this.relativeOffset,b=this.parseUShort();return 1===b?{substFormat:1,coverage:this.parsePointer(y.coverage),deltaGlyphId:this.parseUShort()}:
2===b?{substFormat:2,coverage:this.parsePointer(y.coverage),substitute:this.parseOffset16List()}:void ia.assert(!1,"0x"+a.toString(16)+": lookup type 1 format must be 1 or 2.")};Ka[2]=function(){var a=this.parseUShort();return ia.argument(1===a,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:a,coverage:this.parsePointer(y.coverage),sequences:this.parseListOfLists()}};Ka[3]=function(){var a=this.parseUShort();return ia.argument(1===a,"GSUB Alternate Substitution Subtable identifier-format must be 1"),
{substFormat:a,coverage:this.parsePointer(y.coverage),alternateSets:this.parseListOfLists()}};Ka[4]=function(){var a=this.parseUShort();return ia.argument(1===a,"GSUB ligature table identifier-format must be 1"),{substFormat:a,coverage:this.parsePointer(y.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var nb={sequenceIndex:y.uShort,lookupListIndex:y.uShort};Ka[5]=function(){var a=this.offset+this.relativeOffset,
b=this.parseUShort();if(1===b)return{substFormat:b,coverage:this.parsePointer(y.coverage),ruleSets:this.parseListOfLists(function(){var a=this.parseUShort(),b=this.parseUShort();return{input:this.parseUShortList(a-1),lookupRecords:this.parseRecordList(b,nb)}})};if(2===b)return{substFormat:b,coverage:this.parsePointer(y.coverage),classDef:this.parsePointer(y.classDef),classSets:this.parseListOfLists(function(){var a=this.parseUShort(),b=this.parseUShort();return{classes:this.parseUShortList(a-1),lookupRecords:this.parseRecordList(b,
nb)}})};if(3===b){a=this.parseUShort();var c=this.parseUShort();return{substFormat:b,coverages:this.parseList(a,y.pointer(y.coverage)),lookupRecords:this.parseRecordList(c,nb)}}ia.assert(!1,"0x"+a.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};Ka[6]=function(){var a=this.offset+this.relativeOffset,b=this.parseUShort();return 1===b?{substFormat:1,coverage:this.parsePointer(y.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-
1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(nb)}})}:2===b?{substFormat:2,coverage:this.parsePointer(y.coverage),backtrackClassDef:this.parsePointer(y.classDef),inputClassDef:this.parsePointer(y.classDef),lookaheadClassDef:this.parsePointer(y.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(nb)}})}:3===b?{substFormat:3,
backtrackCoverage:this.parseList(y.pointer(y.coverage)),inputCoverage:this.parseList(y.pointer(y.coverage)),lookaheadCoverage:this.parseList(y.pointer(y.coverage)),lookupRecords:this.parseRecordList(nb)}:void ia.assert(!1,"0x"+a.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};Ka[7]=function(){var a=this.parseUShort();ia.argument(1===a,"GSUB Extension Substitution subtable identifier-format must be 1");a=this.parseUShort();var b=new y(this.data,this.offset+this.parseULong());return{substFormat:1,
lookupType:a,extension:Ka[a].call(b)}};Ka[8]=function(){var a=this.parseUShort();return ia.argument(1===a,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:a,coverage:this.parsePointer(y.coverage),backtrackCoverage:this.parseList(y.pointer(y.coverage)),lookaheadCoverage:this.parseList(y.pointer(y.coverage)),substitutes:this.parseUShortList()}};var Nb=Array(9);Nb[1]=function(a){return 1===a.substFormat?new ba.Table("substitutionTable",[{name:"substFormat",
type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new ba.Coverage(a.coverage)},{name:"deltaGlyphID",type:"USHORT",value:a.deltaGlyphId}]):new ba.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new ba.Coverage(a.coverage)}].concat(ba.ushortList("substitute",a.substitute)))};Nb[3]=function(a){return ia.assert(1===a.substFormat,"Lookup type 3 substFormat must be 1."),new ba.Table("substitutionTable",[{name:"substFormat",type:"USHORT",
value:1},{name:"coverage",type:"TABLE",value:new ba.Coverage(a.coverage)}].concat(ba.tableList("altSet",a.alternateSets,function(a){return new ba.Table("alternateSetTable",ba.ushortList("alternate",a))})))};Nb[4]=function(a){return ia.assert(1===a.substFormat,"Lookup type 4 substFormat must be 1."),new ba.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new ba.Coverage(a.coverage)}].concat(ba.tableList("ligSet",a.ligatureSets,function(a){return new ba.Table("ligatureSetTable",
ba.tableList("ligature",a,function(a){return new ba.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:a.ligGlyph}].concat(ba.ushortList("component",a.components,a.components.length+1)))}))})))};var oc={parse:function(a,b){a=new y(a,b||0);b=a.parseVersion(1);return ia.argument(1===b||1.1===b,"Unsupported GSUB table version."),1===b?{version:b,scripts:a.parseScriptList(),features:a.parseFeatureList(),lookups:a.parseLookupList(Ka)}:{version:b,scripts:a.parseScriptList(),features:a.parseFeatureList(),
lookups:a.parseLookupList(Ka),variations:a.parseFeatureVariationsList()}},make:function(a){return new ba.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new ba.ScriptList(a.scripts)},{name:"features",type:"TABLE",value:new ba.FeatureList(a.features)},{name:"lookups",type:"TABLE",value:new ba.LookupList(a.lookups,Nb)}])}},pc={parse:function(a,b){var c=new U.Parser(a,b),d=c.parseULong();ia.argument(1===d,"Unsupported META table version.");c.parseULong();c.parseULong();
d=c.parseULong();for(var k={},e=0;e<d;e++){var f=c.parseTag(),g=c.parseULong(),h=c.parseULong();g=mb.UTF8(a,b+g,h);k[f]=g}return k},make:function(a){var b=Object.keys(a).length,c="",d=16+12*b;b=new ba.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:d},{name:"numTags",type:"ULONG",value:b}]);for(var k in a){var e=c.length;c+=a[k];b.fields.push({name:"tag "+k,type:"TAG",value:k});b.fields.push({name:"offset "+k,type:"ULONG",value:d+
e});b.fields.push({name:"length "+k,type:"ULONG",value:a[k].length})}return b.fields.push({name:"stringPool",type:"CHARARRAY",value:c}),b}},Oc={make:qa,fontToTable:function(a){for(var b,c=[],d=[],k=[],e=[],f=[],g=[],h=[],l=0,m=0,n=0,p=0,q=0,r=0;r<a.glyphs.length;r+=1){var t=a.glyphs.get(r),u=0|t.unicode;if(isNaN(t.advanceWidth))throw Error("Glyph "+t.name+" ("+r+"): advanceWidth is not a number.");(u<b||void 0===b)&&0<u&&(b=u);l<u&&(l=u);u=Sb.getUnicodeRange(u);if(32>u)m|=1<<u;else if(64>u)n|=1<<
u-32;else if(96>u)p|=1<<u-64;else{if(!(123>u))throw Error("Unicode ranges bits > 123 are reserved for internal usage");q|=1<<u-96}".notdef"!==t.name&&(u=t.getMetrics(),c.push(u.xMin),d.push(u.yMin),k.push(u.xMax),e.push(u.yMax),g.push(u.leftSideBearing),h.push(u.rightSideBearing),f.push(t.advanceWidth))}c=Math.min.apply(null,c);d=Math.min.apply(null,d);k=Math.max.apply(null,k);e=Math.max.apply(null,e);r=Math.max.apply(null,f);for(u=t=0;u<f.length;u+=1)t+=f[u];e={xMin:c,yMin:d,xMax:k,yMax:e,advanceWidthMax:r,
advanceWidthAvg:t/f.length,minLeftSideBearing:Math.min.apply(null,g),maxLeftSideBearing:Math.max.apply(null,g),minRightSideBearing:Math.min.apply(null,h)};e.ascender=a.ascender;e.descender=a.descender;f=gc.make({flags:3,unitsPerEm:a.unitsPerEm,xMin:e.xMin,yMin:e.yMin,xMax:e.xMax,yMax:e.yMax,lowestRecPPEM:3,createdTimestamp:a.createdTimestamp});g=hc.make({ascender:e.ascender,descender:e.descender,advanceWidthMax:e.advanceWidthMax,minLeftSideBearing:e.minLeftSideBearing,minRightSideBearing:e.minRightSideBearing,
xMaxExtent:e.maxLeftSideBearing+(e.xMax-e.xMin),numberOfHMetrics:a.glyphs.length});h=jc.make(a.glyphs.length);b=Sb.make({xAvgCharWidth:Math.round(e.advanceWidthAvg),usWeightClass:a.tables.os2.usWeightClass,usWidthClass:a.tables.os2.usWidthClass,usFirstCharIndex:b,usLastCharIndex:l,ulUnicodeRange1:m,ulUnicodeRange2:n,ulUnicodeRange3:p,ulUnicodeRange4:q,fsSelection:a.tables.os2.fsSelection,sTypoAscender:e.ascender,sTypoDescender:e.descender,sTypoLineGap:0,usWinAscent:e.yMax,usWinDescent:Math.abs(e.yMin),
ulCodePageRange1:1,sxHeight:ua(a,"xyvw",{yMax:Math.round(e.ascender/2)}).yMax,sCapHeight:ua(a,"HIKLEFJMNTZBDPRAGOQSUVWXY",e).yMax,usDefaultChar:a.hasChar(" ")?32:0,usBreakChar:a.hasChar(" ")?32:0});l=nc.make(a.glyphs);m=fc.make(a.glyphs);n=a.getEnglishName("fontFamily");p=a.getEnglishName("fontSubfamily");q=n+" "+p;(k=a.getEnglishName("postScriptName"))||(k=n.replace(/\s/g,"")+"-"+p);d={};for(var v in a.names)d[v]=a.names[v];d.uniqueID||(d.uniqueID={en:a.getEnglishName("manufacturer")+":"+q});d.postScriptName||
(d.postScriptName={en:k});d.preferredFamily||(d.preferredFamily=a.names.fontFamily);d.preferredSubfamily||(d.preferredSubfamily=a.names.fontSubfamily);c=[];v=lc.make(d,c);d=0<c.length?ic.make(c):void 0;c=kc.make();p=mc.make(a.glyphs,{version:a.getEnglishName("version"),fullName:q,familyName:n,weightName:p,postScriptName:k,unitsPerEm:a.unitsPerEm,fontBBox:[0,e.yMin,e.ascender,e.advanceWidthMax]});n=a.metas&&0<Object.keys(a.metas).length?pc.make(a.metas):void 0;v=[f,g,h,b,v,m,c,p,l];d&&v.push(d);a.tables.gsub&&
v.push(oc.make(a.tables.gsub));n&&v.push(n);a=qa(v);v=ra(a.encode());b=a.fields;l=!1;for(m=0;m<b.length;m+=1)if("head table"===b[m].name){b[m].value.checkSumAdjustment=2981146554-v;l=!0;break}if(!l)throw Error("Could not find head table with checkSum to adjust.");return a},computeCheckSum:ra};(kb.prototype=jb.prototype={searchTag:ma,binSearch:Ha,getTable:function(a){var b=this.font.tables[this.tableName];return!b&&a&&(b=this.font.tables[this.tableName]=this.createDefaultTable()),b},getScriptNames:function(){var a=
this.getTable();return a?a.scripts.map(function(a){return a.tag}):[]},getDefaultScriptName:function(){var a=this.getTable();if(a){for(var b=!1,c=0;c<a.scripts.length;c++){var d=a.scripts[c].tag;if("DFLT"===d)return d;"latn"===d&&(b=!0)}return b?"latn":void 0}},getScriptTable:function(a,b){var c=this.getTable(b);if(c){a=a||"DFLT";var d=c.scripts;c=ma(c.scripts,a);if(0<=c)return d[c].script;if(b)return a={tag:a,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}},
d.splice(-1-c,0,a),a.script}},getLangSysTable:function(a,b,c){if(a=this.getScriptTable(a,c)){if(!b||"dflt"===b||"DFLT"===b)return a.defaultLangSys;var d=ma(a.langSysRecords,b);if(0<=d)return a.langSysRecords[d].langSys;if(c)return b={tag:b,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}},a.langSysRecords.splice(-1-d,0,b),b.langSys}},getFeatureTable:function(a,b,c,d){if(a=this.getLangSysTable(a,b,d)){var k;a=a.featureIndexes;b=this.font.tables[this.tableName].features;for(var e=0;e<a.length;e++)if((k=
b[a[e]]).tag===c)return k.feature;if(d)return d=b.length,ia.assert(0===d||c>=b[d-1].tag,"Features must be added in alphabetical order."),k={tag:c,feature:{params:0,lookupListIndexes:[]}},b.push(k),a.push(d),k.feature}},getLookupTables:function(a,b,c,d,e){b=this.getFeatureTable(a,b,c,e);a=[];if(b){var k;b=b.lookupListIndexes;c=this.font.tables[this.tableName].lookups;for(var f=0;f<b.length;f++)(k=c[b[f]]).lookupType===d&&a.push(k);if(0===a.length&&e)return k={lookupType:d,lookupFlag:0,subtables:[],
markFilteringSet:void 0},d=c.length,c.push(k),b.push(d),[k]}return a},getGlyphClass:function(a,b){switch(a.format){case 1:return a.startGlyph<=b&&b<a.startGlyph+a.classes.length?a.classes[b-a.startGlyph]:0;case 2:return(a=Bb(a.ranges,b))?a.classId:0}},getCoverageIndex:function(a,b){switch(a.format){case 1:return b=Ha(a.glyphs,b),0<=b?b:-1;case 2:return(a=Bb(a.ranges,b))?a.index+b-a.start:-1}},expandCoverage:function(a){if(1===a.format)return a.glyphs;var b=[];a=a.ranges;for(var c=0;c<a.length;c++){var d=
a[c],k=d.end;for(d=d.start;d<=k;d++)b.push(d)}return b}}).init=function(){var a=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(a)};kb.prototype.getKerningValue=function(a,b,c){for(var d=0;d<a.length;d++)for(var k=a[d].subtables,e=0;e<k.length;e++){var f=k[e],g=this.getCoverageIndex(f.coverage,b);if(!(0>g))switch(f.posFormat){case 1:f=f.pairSets[g];for(g=0;g<f.length;g++){var h=f[g];if(h.secondGlyph===c)return h.value1&&h.value1.xAdvance||0}break;case 2:return a=this.getGlyphClass(f.classDef1,
b),c=this.getGlyphClass(f.classDef2,c),c=f.classRecords[a][c],c.value1&&c.value1.xAdvance||0}}return 0};kb.prototype.getKerningTables=function(a,b){if(this.font.tables.gpos)return this.getLookupTables(a,b,"kern",2)};(Ba.prototype=jb.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};Ba.prototype.getSingle=function(a,b,c){var d=[];a=this.getLookupTables(b,
c,a,1);for(b=0;b<a.length;b++){c=a[b].subtables;for(var k=0;k<c.length;k++){var e=c[k],f=this.expandCoverage(e.coverage);if(1===e.substFormat){var g=e.deltaGlyphId;for(e=0;e<f.length;e++){var h=f[e];d.push({sub:h,by:h+g})}}else for(g=e.substitute,e=0;e<f.length;e++)d.push({sub:f[e],by:g[e]})}}return d};Ba.prototype.getAlternates=function(a,b,c){var d=[];a=this.getLookupTables(b,c,a,3);for(b=0;b<a.length;b++){c=a[b].subtables;for(var k=0;k<c.length;k++){var e=c[k],f=this.expandCoverage(e.coverage);
e=e.alternateSets;for(var g=0;g<f.length;g++)d.push({sub:f[g],by:e[g]})}}return d};Ba.prototype.getLigatures=function(a,b,c){var d=[];a=this.getLookupTables(b,c,a,4);for(b=0;b<a.length;b++){c=a[b].subtables;for(var k=0;k<c.length;k++){var e=c[k],f=this.expandCoverage(e.coverage);e=e.ligatureSets;for(var g=0;g<f.length;g++)for(var h=f[g],l=e[g],x=0;x<l.length;x++){var m=l[x];d.push({sub:[h].concat(m.components),by:m.ligGlyph})}}}return d};Ba.prototype.addSingle=function(a,b,c,d){a=wb(this.getLookupTables(c,
d,a,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});ia.assert(1===a.coverage.format,"Ligature: unable to modify coverage table format "+a.coverage.format);c=b.sub;d=this.binSearch(a.coverage.glyphs,c);0>d&&(d=-1-d,a.coverage.glyphs.splice(d,0,c),a.substitute.splice(d,0,0));a.substitute[d]=b.by};Ba.prototype.addAlternate=function(a,b,c,d){a=wb(this.getLookupTables(c,d,a,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});ia.assert(1===a.coverage.format,
"Ligature: unable to modify coverage table format "+a.coverage.format);c=b.sub;d=this.binSearch(a.coverage.glyphs,c);0>d&&(d=-1-d,a.coverage.glyphs.splice(d,0,c),a.alternateSets.splice(d,0,0));a.alternateSets[d]=b.by};Ba.prototype.addLigature=function(a,b,c,d){a=this.getLookupTables(c,d,a,4,!0)[0];(c=a.subtables[0])||(c={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},a.subtables[0]=c);ia.assert(1===c.coverage.format,"Ligature: unable to modify coverage table format "+c.coverage.format);
d=b.sub[0];a=b.sub.slice(1);b={ligGlyph:b.by,components:a};var k=this.binSearch(c.coverage.glyphs,d);if(0<=k){c=c.ligatureSets[k];for(d=0;d<c.length;d++){a:{k=c[d].components;var e=k.length;if(e!==a.length)k=!1;else{for(var f=0;f<e;f++)if(k[f]!==a[f]){k=!1;break a}k=!0}}if(k)return}c.push(b)}else k=-1-k,c.coverage.glyphs.splice(k,0,d),c.ligatureSets.splice(k,0,[b])};Ba.prototype.getFeature=function(a,b,c){if(/ss\d\d/.test(a))return this.getSingle(a,b,c);switch(a){case "aalt":case "salt":return this.getSingle(a,
b,c).concat(this.getAlternates(a,b,c));case "dlig":case "liga":case "rlig":return this.getLigatures(a,b,c)}};Ba.prototype.add=function(a,b,c,d){if(/ss\d\d/.test(a))return this.addSingle(a,b,c,d);switch(a){case "aalt":case "salt":return"number"==typeof b.by?this.addSingle(a,b,c,d):this.addAlternate(a,b,c,d);case "dlig":case "liga":case "rlig":return this.addLigature(a,b,c,d)}};var ec={getPath:va,parse:function(a,b,c,d){for(var k=new lb.GlyphSet(d),e=0;e<c.length-1;e+=1){var f=c[e];f!==c[e+1]?k.push(e,
lb.ttfGlyphLoader(d,e,Sa,a,b+f,gb)):k.push(e,lb.glyphLoader(d,e))}return k}},wc=function(a){var b=this.srPeriod,c=this.srPhase,d=1;return 0>a&&(a=-a,d=-1),a+=this.srThreshold-c,a=Math.trunc(a/b)*b,0>(a+=c)?c*d:a*d},Ra={x:1,y:0,axis:"x",distance:function(a,b,c,d){return(c?a.xo:a.x)-(d?b.xo:b.x)},interpolate:function(a,b,c,d){var e,k,f,g,h,l,m;if(!d||d===this)return e=a.xo-b.xo,k=a.xo-c.xo,h=b.x-b.xo,l=c.x-c.xo,0===(m=(f=Math.abs(e))+(g=Math.abs(k)))?void(a.x=a.xo+(h+l)/2):void(a.x=a.xo+(h*g+l*f)/m);
e=d.distance(a,b,!0,!0);k=d.distance(a,c,!0,!0);h=d.distance(b,b,!1,!0);l=d.distance(c,c,!1,!0);0!==(m=(f=Math.abs(e))+(g=Math.abs(k)))?Ra.setRelative(a,a,(h*g+l*f)/m,d,!0):Ra.setRelative(a,a,(h+l)/2,d,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(a,b,c,d,e){a.x=d&&d!==this?(e?b.xo:b.x)+c*d.x+(a.y-((e?b.yo:b.y)+c*d.y))/d.normalSlope:(e?b.xo:b.x)+c},slope:0,touch:function(a){a.xTouched=!0},touched:function(a){return a.xTouched},untouch:function(a){a.xTouched=!1}},Wa={x:0,y:1,axis:"y",
distance:function(a,b,c,d){return(c?a.yo:a.y)-(d?b.yo:b.y)},interpolate:function(a,b,c,d){var e,k,f,g,h,l,m;if(!d||d===this)return e=a.yo-b.yo,k=a.yo-c.yo,h=b.y-b.yo,l=c.y-c.yo,0===(m=(f=Math.abs(e))+(g=Math.abs(k)))?void(a.y=a.yo+(h+l)/2):void(a.y=a.yo+(h*g+l*f)/m);e=d.distance(a,b,!0,!0);k=d.distance(a,c,!0,!0);h=d.distance(b,b,!1,!0);l=d.distance(c,c,!1,!0);0!==(m=(f=Math.abs(e))+(g=Math.abs(k)))?Wa.setRelative(a,a,(h*g+l*f)/m,d,!0):Wa.setRelative(a,a,(h+l)/2,d,!0)},normalSlope:0,setRelative:function(a,
b,c,d,e){a.y=d&&d!==this?(e?b.yo:b.y)+c*d.y+d.normalSlope*(a.x-((e?b.xo:b.x)+c*d.x)):(e?b.yo:b.y)+c},slope:Number.POSITIVE_INFINITY,touch:function(a){a.yTouched=!0},touched:function(a){return a.yTouched},untouch:function(a){a.yTouched=!1}};Object.freeze(Ra);Object.freeze(Wa);$a.prototype.distance=function(a,b,c,d){return this.x*Ra.distance(a,b,c,d)+this.y*Wa.distance(a,b,c,d)};$a.prototype.interpolate=function(a,b,c,d){var e,k,f;var g=d.distance(a,b,!0,!0);var h=d.distance(a,c,!0,!0);b=d.distance(b,
b,!1,!0);c=d.distance(c,c,!1,!0);0!==(f=(e=Math.abs(g))+(k=Math.abs(h)))?this.setRelative(a,a,(b*k+c*e)/f,d,!0):this.setRelative(a,a,(b+c)/2,d,!0)};$a.prototype.setRelative=function(a,b,c,d,e){d=d||this;var k=d.normalSlope,f=this.slope,g=a.x,h=a.y;a.x=(f*g-k*((e?b.xo:b.x)+c*d.x)+((e?b.yo:b.y)+c*d.y)-h)/(f-k);a.y=f*(a.x-g)+h};$a.prototype.touch=function(a){a.xTouched=!0;a.yTouched=!0};Ia.prototype.nextTouched=function(a){for(var b=this.nextPointOnContour;!a.touched(b)&&b!==this;)b=b.nextPointOnContour;
return b};Ia.prototype.prevTouched=function(a){for(var b=this.prevPointOnContour;!a.touched(b)&&b!==this;)b=b.prevPointOnContour;return b};var vb=Object.freeze(new Ia(0,0)),Pc={cvCutIn:1.0625,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};Ya.prototype.exec=function(b,c){if("number"!=typeof c)throw Error("Point size is not a number!");if(!(2<this._errorState)){var d=this.font,e=this._prepState;if(!e||e.ppem!==c){e=this._fpgmState;if(!e){Na.prototype=Pc;(e=this._fpgmState=new Na("fpgm",d.tables.fpgm)).funcs=
[];e.font=d;a.DEBUG&&(console.log("---EXEC FPGM---"),e.step=-1);try{ob(e)}catch(Pa){return console.log("Hinting error in FPGM:"+Pa),void(this._errorState=3)}}Na.prototype=e;(e=this._prepState=new Na("prep",d.tables.prep)).ppem=c;var k=d.tables.cvt;if(k){var f=e.cvt=Array(k.length);c/=d.unitsPerEm;for(d=0;d<k.length;d++)f[d]=k[d]*c}else e.cvt=[];a.DEBUG&&(console.log("---EXEC PREP---"),e.step=-1);try{ob(e)}catch(Pa){2>this._errorState&&console.log("Hinting error in PREP:"+Pa),this._errorState=2}}if(!(1<
this._errorState))try{return Qc(b,e)}catch(Pa){return 1>this._errorState&&(console.log("Hinting error:"+Pa),console.log("Note: further hinting errors are silenced")),void(this._errorState=1)}}};var Qc=function(b,c){var d=c.ppem/c.font.unitsPerEm,e=b.components;if(Na.prototype=c,e){var k=c.font;var f=[];c=[];for(var g=0;g<e.length;g++){var h=e[g],l=k.glyphs.get(h.glyphIndex);var m=new Na("glyf",l.instructions);a.DEBUG&&(console.log("---EXEC COMP "+g+"---"),m.step=-1);xc(l,m,d,d);l=Math.round(h.dx*
d);var n=Math.round(h.dy*d),x=m.gZone;h=m.contours;for(var p=0;p<x.length;p++){var q=x[p];q.xTouched=q.yTouched=!1;q.xo=q.x+=l;q.yo=q.y+=n}l=f.length;f.push.apply(f,x);for(x=0;x<h.length;x++)c.push(h[x]+l)}b.instructions&&!m.inhibitGridFit&&((m=new Na("glyf",b.instructions)).gZone=m.z0=m.z1=m.z2=f,m.contours=c,f.push(new Ia(0,0),new Ia(Math.round(b.advanceWidth*d),0)),a.DEBUG&&(console.log("---EXEC COMPOSITE---"),m.step=-1),ob(m),f.length-=2)}else m=new Na("glyf",b.instructions),a.DEBUG&&(console.log("---EXEC GLYPH---"),
m.step=-1),xc(b,m,d,d),f=m.gZone;return f};var xc=function(b,c,d,e){for(var k,f,g,h=b.points||[],l=h.length,m=c.gZone=c.z0=c.z1=c.z2=[],n=c.contours=[],x=0;x<l;x++)k=h[x],m[x]=new Ia(k.x*d,k.y*e,k.lastPointOfContour,k.onCurve);for(e=0;e<l;e++)k=m[e],f||(f=k,n.push(e)),k.lastPointOfContour?((k.nextPointOnContour=f).prevPointOnContour=k,f=void 0):(g=m[e+1],(k.nextPointOnContour=g).prevPointOnContour=k);if(!c.inhibitGridFit){if(a.DEBUG)for(console.log("PROCESSING GLYPH",c.stack),k=0;k<l;k++)console.log(k,
m[k].x,m[k].y);if(m.push(new Ia(0,0),new Ia(Math.round(b.advanceWidth*d),0)),ob(c),m.length-=2,a.DEBUG)for(console.log("FINISHED GLYPH",c.stack),b=0;b<l;b++)console.log(b,m[b].x,m[b].y)}};var ob=function(b){var c=b.prog;if(c){var d,e=c.length;for(b.ip=0;b.ip<e;b.ip++){if(a.DEBUG&&b.step++,!(d=Rc[c[b.ip]]))throw Error("unknown instruction: 0x"+Number(c[b.ip]).toString(16));d(b)}}};var Rc=[Eb.bind(void 0,Wa),Eb.bind(void 0,Ra),pb.bind(void 0,Wa),pb.bind(void 0,Ra),qb.bind(void 0,Wa),qb.bind(void 0,
Ra),Fb.bind(void 0,0),Fb.bind(void 0,1),yb.bind(void 0,0),yb.bind(void 0,1),function(b){var c=b.stack,d=c.pop();c=c.pop();a.DEBUG&&console.log(b.step,"SPVFS[]",d,c);b.pv=b.dpv=Ma(c,d)},function(b){var c=b.stack,d=c.pop();c=c.pop();a.DEBUG&&console.log(b.step,"SPVFS[]",d,c);b.fv=Ma(c,d)},function(b){var c=b.stack,d=b.pv;a.DEBUG&&console.log(b.step,"GPV[]");c.push(16384*d.x);c.push(16384*d.y)},function(b){var c=b.stack,d=b.fv;a.DEBUG&&console.log(b.step,"GFV[]");c.push(16384*d.x);c.push(16384*d.y)},
function(b){b.fv=b.pv;a.DEBUG&&console.log(b.step,"SFVTPV[]")},function(b){var c=b.stack,d=c.pop(),e=c.pop(),k=c.pop(),f=c.pop(),g=c.pop(),h=b.z0;c=b.z1;var l=h[d],m=h[e];h=c[k];c=c[f];b=b.z2[g];a.DEBUG&&console.log("ISECT[], ",d,e,k,f,g);d=l.x;e=l.y;k=m.x;m=m.y;f=h.x;h=h.y;l=c.x;c=c.y;g=(d-k)*(h-c)-(e-m)*(f-l);var n=d*m-e*k,p=f*c-h*l;b.x=(n*(f-l)-p*(d-k))/g;b.y=(n*(h-c)-p*(e-m))/g},function(b){b.rp0=b.stack.pop();a.DEBUG&&console.log(b.step,"SRP0[]",b.rp0)},function(b){b.rp1=b.stack.pop();a.DEBUG&&
console.log(b.step,"SRP1[]",b.rp1)},function(b){b.rp2=b.stack.pop();a.DEBUG&&console.log(b.step,"SRP2[]",b.rp2)},function(b){var c=b.stack.pop();switch(a.DEBUG&&console.log(b.step,"SZP0[]",c),b.zp0=c){case 0:b.tZone||hb(b);b.z0=b.tZone;break;case 1:b.z0=b.gZone;break;default:throw Error("Invalid zone pointer");}},function(b){var c=b.stack.pop();switch(a.DEBUG&&console.log(b.step,"SZP1[]",c),b.zp1=c){case 0:b.tZone||hb(b);b.z1=b.tZone;break;case 1:b.z1=b.gZone;break;default:throw Error("Invalid zone pointer");
}},function(b){var c=b.stack.pop();switch(a.DEBUG&&console.log(b.step,"SZP2[]",c),b.zp2=c){case 0:b.tZone||hb(b);b.z2=b.tZone;break;case 1:b.z2=b.gZone;break;default:throw Error("Invalid zone pointer");}},function(b){var c=b.stack.pop();switch(a.DEBUG&&console.log(b.step,"SZPS[]",c),b.zp0=b.zp1=b.zp2=c,c){case 0:b.tZone||hb(b);b.z0=b.z1=b.z2=b.tZone;break;case 1:b.z0=b.z1=b.z2=b.gZone;break;default:throw Error("Invalid zone pointer");}},function(b){b.loop=b.stack.pop();a.DEBUG&&console.log(b.step,
"SLOOP[]",b.loop)},function(b){a.DEBUG&&console.log(b.step,"RTG[]");b.round=Za},function(b){a.DEBUG&&console.log(b.step,"RTHG[]");b.round=Ea},function(b){var c=b.stack.pop();a.DEBUG&&console.log(b.step,"SMD[]",c);b.minDis=c/64},function(b){a.DEBUG&&console.log(b.step,"ELSE[]");Db(b,!1)},function(b){var c=b.stack.pop();a.DEBUG&&console.log(b.step,"JMPR[]",c);b.ip+=c-1},function(b){var c=b.stack.pop();a.DEBUG&&console.log(b.step,"SCVTCI[]",c);b.cvCutIn=c/64},void 0,void 0,function(b){var c=b.stack;
a.DEBUG&&console.log(b.step,"DUP[]");c.push(c[c.length-1])},rb,function(b){a.DEBUG&&console.log(b.step,"CLEAR[]");b.stack.length=0},function(b){var c=b.stack,d=c.pop(),e=c.pop();a.DEBUG&&console.log(b.step,"SWAP[]");c.push(d);c.push(e)},function(b){var c=b.stack;a.DEBUG&&console.log(b.step,"DEPTH[]");c.push(c.length)},function(b){var c=b.stack,d=c.pop();a.DEBUG&&console.log(b.step,"CINDEX[]",d);c.push(c[c.length-d])},function(b){var c=b.stack,d=c.pop();a.DEBUG&&console.log(b.step,"MINDEX[]",d);c.push(c.splice(c.length-
d,1)[0])},void 0,void 0,void 0,function(b){var c=b.stack,d=c.pop();c=c.pop();a.DEBUG&&console.log(b.step,"LOOPCALL[]",d,c);var e=b.ip,f=b.prog;b.prog=b.funcs[d];for(d=0;d<c;d++)ob(b),a.DEBUG&&console.log(++b.step,d+1<c?"next loopcall":"done loopcall",d);b.ip=e;b.prog=f},function(b){var c=b.stack.pop();a.DEBUG&&console.log(b.step,"CALL[]",c);var d=b.ip,e=b.prog;b.prog=b.funcs[c];ob(b);b.ip=d;b.prog=e;a.DEBUG&&console.log(++b.step,"returning from",c)},function(b){if("fpgm"!==b.env)throw Error("FDEF not allowed here");
var c=b.prog,d=b.ip,e=b.stack.pop(),f=d;for(a.DEBUG&&console.log(b.step,"FDEF[]",e);45!==c[++d];);b.ip=d;b.funcs[e]=c.slice(f+1,d)},void 0,Gb.bind(void 0,0),Gb.bind(void 0,1),zb.bind(void 0,Wa),zb.bind(void 0,Ra),Ab.bind(void 0,0),Ab.bind(void 0,1),tb.bind(void 0,0),tb.bind(void 0,1),ub.bind(void 0,0),ub.bind(void 0,1),function(b){for(var c=b.stack,d=b.loop,e=b.fv,f=c.pop()/64,k=b.z2;d--;){var g=c.pop(),h=k[g];a.DEBUG&&console.log(b.step,(1<b.loop?"loop "+(b.loop-d)+": ":"")+"SHPIX[]",g,f);e.setRelative(h,
h,f);e.touch(h)}b.loop=1},function(b){for(var c=b.stack,d=b.rp1,e=b.rp2,f=b.loop,k=b.z0[d],g=b.z1[e],h=b.fv,l=b.dpv,m=b.z2;f--;){var n=c.pop(),p=m[n];a.DEBUG&&console.log(b.step,(1<b.loop?"loop "+(b.loop-f)+": ":"")+"IP[]",n,d,"<->",e);h.interpolate(p,k,g,l);h.touch(p)}b.loop=1},sb.bind(void 0,0),sb.bind(void 0,1),function(b){for(var c=b.stack,d=b.z0[b.rp0],e=b.loop,f=b.fv,k=b.pv,g=b.z1;e--;){var h=c.pop(),l=g[h];a.DEBUG&&console.log(b.step,(1<b.loop?"loop "+(b.loop-e)+": ":"")+"ALIGNRP[]",h);f.setRelative(l,
d,0,k);f.touch(l)}b.loop=1},function(b){a.DEBUG&&console.log(b.step,"RTDG[]");b.round=db},ib.bind(void 0,0),ib.bind(void 0,1),function(b){var c=b.prog,d=b.ip,e=b.stack,f=c[++d];a.DEBUG&&console.log(b.step,"NPUSHB[]",f);for(var k=0;k<f;k++)e.push(c[++d]);b.ip=d},function(b){var c=b.ip,d=b.prog,e=b.stack,f=d[++c];a.DEBUG&&console.log(b.step,"NPUSHW[]",f);for(var k=0;k<f;k++){var g=d[++c]<<8|d[++c];32768&g&&(g=-(1+(65535^g)));e.push(g)}b.ip=c},function(b){var c=b.stack,d=b.store;d||(d=b.store=[]);var e=
c.pop();c=c.pop();a.DEBUG&&console.log(b.step,"WS",e,c);d[c]=e},function(b){var c=b.stack,d=b.store,e=c.pop();a.DEBUG&&console.log(b.step,"RS",e);c.push(d&&d[e]||0)},function(b){var c=b.stack,d=c.pop();c=c.pop();a.DEBUG&&console.log(b.step,"WCVTP",d,c);b.cvt[c]=d/64},function(b){var c=b.stack,d=c.pop();a.DEBUG&&console.log(b.step,"RCVT",d);c.push(64*b.cvt[d])},Oa.bind(void 0,0),Oa.bind(void 0,1),void 0,ab.bind(void 0,0),ab.bind(void 0,1),function(b){a.DEBUG&&console.log(b.step,"MPPEM[]");b.stack.push(b.ppem)},
void 0,function(b){a.DEBUG&&console.log(b.step,"FLIPON[]");b.autoFlip=!0},void 0,void 0,function(b){var c=b.stack,d=c.pop(),e=c.pop();a.DEBUG&&console.log(b.step,"LT[]",d,e);c.push(e<d?1:0)},function(b){var c=b.stack,d=c.pop(),e=c.pop();a.DEBUG&&console.log(b.step,"LTEQ[]",d,e);c.push(e<=d?1:0)},function(b){var c=b.stack,d=c.pop(),e=c.pop();a.DEBUG&&console.log(b.step,"GT[]",d,e);c.push(d<e?1:0)},function(b){var c=b.stack,d=c.pop(),e=c.pop();a.DEBUG&&console.log(b.step,"GTEQ[]",d,e);c.push(d<=e?1:
0)},function(b){var c=b.stack,d=c.pop(),e=c.pop();a.DEBUG&&console.log(b.step,"EQ[]",d,e);c.push(d===e?1:0)},function(b){var c=b.stack,d=c.pop(),e=c.pop();a.DEBUG&&console.log(b.step,"NEQ[]",d,e);c.push(d!==e?1:0)},function(b){var c=b.stack,d=c.pop();a.DEBUG&&console.log(b.step,"ODD[]",d);c.push(Math.trunc(d)%2?1:0)},function(b){var c=b.stack,d=c.pop();a.DEBUG&&console.log(b.step,"EVEN[]",d);c.push(Math.trunc(d)%2?0:1)},function(b){var c=b.stack.pop();a.DEBUG&&console.log(b.step,"IF[]",c);c||(Db(b,
!0),a.DEBUG&&console.log(b.step,"EIF[]"))},function(b){a.DEBUG&&console.log(b.step,"EIF[]")},function(b){var c=b.stack,d=c.pop(),e=c.pop();a.DEBUG&&console.log(b.step,"AND[]",d,e);c.push(d&&e?1:0)},function(b){var c=b.stack,d=c.pop(),e=c.pop();a.DEBUG&&console.log(b.step,"OR[]",d,e);c.push(d||e?1:0)},function(b){var c=b.stack,d=c.pop();a.DEBUG&&console.log(b.step,"NOT[]",d);c.push(d?0:1)},Ta.bind(void 0,1),function(b){var c=b.stack.pop();a.DEBUG&&console.log(b.step,"SDB[]",c);b.deltaBase=c},function(b){var c=
b.stack.pop();a.DEBUG&&console.log(b.step,"SDS[]",c);b.deltaShift=Math.pow(.5,c)},function(b){var c=b.stack,d=c.pop(),e=c.pop();a.DEBUG&&console.log(b.step,"ADD[]",d,e);c.push(e+d)},function(b){var c=b.stack,d=c.pop(),e=c.pop();a.DEBUG&&console.log(b.step,"SUB[]",d,e);c.push(e-d)},function(b){var c=b.stack,d=c.pop(),e=c.pop();a.DEBUG&&console.log(b.step,"DIV[]",d,e);c.push(64*e/d)},function(b){var c=b.stack,d=c.pop(),e=c.pop();a.DEBUG&&console.log(b.step,"MUL[]",d,e);c.push(e*d/64)},function(b){var c=
b.stack,d=c.pop();a.DEBUG&&console.log(b.step,"ABS[]",d);c.push(Math.abs(d))},function(b){var c=b.stack,d=c.pop();a.DEBUG&&console.log(b.step,"NEG[]",d);c.push(-d)},function(b){var c=b.stack,d=c.pop();a.DEBUG&&console.log(b.step,"FLOOR[]",d);c.push(64*Math.floor(d/64))},function(b){var c=b.stack,d=c.pop();a.DEBUG&&console.log(b.step,"CEILING[]",d);c.push(64*Math.ceil(d/64))},Va.bind(void 0,0),Va.bind(void 0,1),Va.bind(void 0,2),Va.bind(void 0,3),void 0,void 0,void 0,void 0,function(b){var c=b.stack,
d=c.pop();c=c.pop();a.DEBUG&&console.log(b.step,"WCVTF[]",d,c);b.cvt[c]=d*b.ppem/b.font.unitsPerEm},Ta.bind(void 0,2),Ta.bind(void 0,3),bb.bind(void 0,1),bb.bind(void 0,2),bb.bind(void 0,3),function(b){var c=b.stack.pop();switch(a.DEBUG&&console.log(b.step,"SROUND[]",c),b.round=wc,192&c){case 0:var d=.5;break;case 64:d=1;break;case 128:d=2;break;default:throw Error("invalid SROUND value");}switch(b.srPeriod=d,48&c){case 0:b.srPhase=0;break;case 16:b.srPhase=.25*d;break;case 32:b.srPhase=.5*d;break;
case 48:b.srPhase=.75*d;break;default:throw Error("invalid SROUND value");}c&=15;b.srThreshold=0===c?0:(c/8-.5)*d},function(b){var c=b.stack.pop();switch(a.DEBUG&&console.log(b.step,"S45ROUND[]",c),b.round=wc,192&c){case 0:var d=Math.sqrt(2)/2;break;case 64:d=Math.sqrt(2);break;case 128:d=2*Math.sqrt(2);break;default:throw Error("invalid S45ROUND value");}switch(b.srPeriod=d,48&c){case 0:b.srPhase=0;break;case 16:b.srPhase=.25*d;break;case 32:b.srPhase=.5*d;break;case 48:b.srPhase=.75*d;break;default:throw Error("invalid S45ROUND value");
}c&=15;b.srThreshold=0===c?0:(c/8-.5)*d},void 0,void 0,function(b){a.DEBUG&&console.log(b.step,"ROFF[]");b.round=cb},void 0,function(b){a.DEBUG&&console.log(b.step,"RUTG[]");b.round=Ua},function(b){a.DEBUG&&console.log(b.step,"RDTG[]");b.round=Cb},rb,rb,void 0,void 0,void 0,void 0,void 0,function(b){var c=b.stack.pop();a.DEBUG&&console.log(b.step,"SCANCTRL[]",c)},za.bind(void 0,0),za.bind(void 0,1),function(b){var c=b.stack,d=c.pop(),e=0;a.DEBUG&&console.log(b.step,"GETINFO[]",d);1&d&&(e=35);32&d&&
(e|=4096);c.push(e)},void 0,function(b){var c=b.stack,d=c.pop(),e=c.pop(),f=c.pop();a.DEBUG&&console.log(b.step,"ROLL[]");c.push(e);c.push(d);c.push(f)},function(b){var c=b.stack,d=c.pop(),e=c.pop();a.DEBUG&&console.log(b.step,"MAX[]",d,e);c.push(Math.max(e,d))},function(b){var c=b.stack,d=c.pop(),e=c.pop();a.DEBUG&&console.log(b.step,"MIN[]",d,e);c.push(Math.min(e,d))},function(b){var c=b.stack.pop();a.DEBUG&&console.log(b.step,"SCANTYPE[]",c)},function(b){var c=b.stack.pop(),d=b.stack.pop();switch(a.DEBUG&&
console.log(b.step,"INSTCTRL[]",c,d),c){case 1:return void(b.inhibitGridFit=!!d);case 2:return void(b.ignoreCvt=!!d);default:throw Error("invalid INSTCTRL[] selector");}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,ya.bind(void 0,1),ya.bind(void 0,2),ya.bind(void 0,3),ya.bind(void 0,4),ya.bind(void 0,5),ya.bind(void 0,
6),ya.bind(void 0,7),ya.bind(void 0,8),wa.bind(void 0,1),wa.bind(void 0,2),wa.bind(void 0,3),wa.bind(void 0,4),wa.bind(void 0,5),wa.bind(void 0,6),wa.bind(void 0,7),wa.bind(void 0,8),P.bind(void 0,0,0,0,0,0),P.bind(void 0,0,0,0,0,1),P.bind(void 0,0,0,0,0,2),P.bind(void 0,0,0,0,0,3),P.bind(void 0,0,0,0,1,0),P.bind(void 0,0,0,0,1,1),P.bind(void 0,0,0,0,1,2),P.bind(void 0,0,0,0,1,3),P.bind(void 0,0,0,1,0,0),P.bind(void 0,0,0,1,0,1),P.bind(void 0,0,0,1,0,2),P.bind(void 0,0,0,1,0,3),P.bind(void 0,0,0,
1,1,0),P.bind(void 0,0,0,1,1,1),P.bind(void 0,0,0,1,1,2),P.bind(void 0,0,0,1,1,3),P.bind(void 0,0,1,0,0,0),P.bind(void 0,0,1,0,0,1),P.bind(void 0,0,1,0,0,2),P.bind(void 0,0,1,0,0,3),P.bind(void 0,0,1,0,1,0),P.bind(void 0,0,1,0,1,1),P.bind(void 0,0,1,0,1,2),P.bind(void 0,0,1,0,1,3),P.bind(void 0,0,1,1,0,0),P.bind(void 0,0,1,1,0,1),P.bind(void 0,0,1,1,0,2),P.bind(void 0,0,1,1,0,3),P.bind(void 0,0,1,1,1,0),P.bind(void 0,0,1,1,1,1),P.bind(void 0,0,1,1,1,2),P.bind(void 0,0,1,1,1,3),P.bind(void 0,1,0,0,
0,0),P.bind(void 0,1,0,0,0,1),P.bind(void 0,1,0,0,0,2),P.bind(void 0,1,0,0,0,3),P.bind(void 0,1,0,0,1,0),P.bind(void 0,1,0,0,1,1),P.bind(void 0,1,0,0,1,2),P.bind(void 0,1,0,0,1,3),P.bind(void 0,1,0,1,0,0),P.bind(void 0,1,0,1,0,1),P.bind(void 0,1,0,1,0,2),P.bind(void 0,1,0,1,0,3),P.bind(void 0,1,0,1,1,0),P.bind(void 0,1,0,1,1,1),P.bind(void 0,1,0,1,1,2),P.bind(void 0,1,0,1,1,3),P.bind(void 0,1,1,0,0,0),P.bind(void 0,1,1,0,0,1),P.bind(void 0,1,1,0,0,2),P.bind(void 0,1,1,0,0,3),P.bind(void 0,1,1,0,1,
0),P.bind(void 0,1,1,0,1,1),P.bind(void 0,1,1,0,1,2),P.bind(void 0,1,1,0,1,3),P.bind(void 0,1,1,1,0,0),P.bind(void 0,1,1,1,0,1),P.bind(void 0,1,1,1,0,2),P.bind(void 0,1,1,1,0,3),P.bind(void 0,1,1,1,1,0),P.bind(void 0,1,1,1,1,1),P.bind(void 0,1,1,1,1,2),P.bind(void 0,1,1,1,1,3)];var Sc=Array.from||function(a){return a.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};la.prototype.hasChar=function(a){return null!==this.encoding.charToGlyphIndex(a)};la.prototype.charToGlyphIndex=function(a){return this.encoding.charToGlyphIndex(a)};
la.prototype.charToGlyph=function(a){a=this.charToGlyphIndex(a);a=this.glyphs.get(a);return a||(a=this.glyphs.get(0)),a};la.prototype.stringToGlyphs=function(a,b){b=b||this.defaultRenderOptions;var c=Sc(a);a=[];for(var d=0;d<c.length;d+=1)a.push(this.charToGlyphIndex(c[d]));c=a.length;if(b.features){var e=b.script||this.substitution.getDefaultScriptName();d=[];b.features.liga&&(d=d.concat(this.substitution.getFeature("liga",e,b.language)));b.features.rlig&&(d=d.concat(this.substitution.getFeature("rlig",
e,b.language)));for(b=0;b<c;b+=1)for(e=0;e<d.length;e++){for(var f=d[e],g=f.sub,h=g.length,k=0;k<h&&g[k]===a[b+k];)k++;k===h&&(a.splice(b,h,f.by),c=c-h+1)}}d=Array(c);b=this.glyphs.get(0);for(e=0;e<c;e+=1)d[e]=this.glyphs.get(a[e])||b;return d};la.prototype.nameToGlyphIndex=function(a){return this.glyphNames.nameToGlyphIndex(a)};la.prototype.nameToGlyph=function(a){a=this.nameToGlyphIndex(a);a=this.glyphs.get(a);return a||(a=this.glyphs.get(0)),a};la.prototype.glyphIndexToName=function(a){return this.glyphNames.glyphIndexToName?
this.glyphNames.glyphIndexToName(a):""};la.prototype.getKerningValue=function(a,b){a=a.index||a;b=b.index||b;var c=this.position.defaultKerningTables;return c?this.position.getKerningValue(c,a,b):this.kerningPairs[a+","+b]||0};la.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}};la.prototype.forEachGlyph=function(a,b,c,d,e,f){b=void 0!==b?b:0;c=void 0!==c?c:0;d=void 0!==d?d:72;e=e||this.defaultRenderOptions;var g=1/this.unitsPerEm*d;a=this.stringToGlyphs(a,e);if(e.kerning){var h=
e.script||this.position.getDefaultScriptName();h=this.position.getKerningTables(h,e.language)}for(var k=0;k<a.length;k+=1){var l=a[k];if(f.call(this,l,b,c,d,e),l.advanceWidth&&(b+=l.advanceWidth*g),e.kerning&&k<a.length-1)b+=(h?this.position.getKerningValue(h,l.index,a[k+1].index):this.getKerningValue(l,a[k+1]))*g;e.letterSpacing?b+=e.letterSpacing*d:e.tracking&&(b+=e.tracking/1E3*d)}return b};la.prototype.getPath=function(a,b,c,d,e){var f=new q;return this.forEachGlyph(a,b,c,d,e,function(a,b,c,d){a=
a.getPath(b,c,d,e,this);f.extend(a)}),f};la.prototype.getPaths=function(a,b,c,d,e){var f=[];return this.forEachGlyph(a,b,c,d,e,function(a,b,c,d){a=a.getPath(b,c,d,e,this);f.push(a)}),f};la.prototype.getAdvanceWidth=function(a,b,c){return this.forEachGlyph(a,0,0,b,c,function(){})};la.prototype.draw=function(a,b,c,d,e,f){this.getPath(b,c,d,e,f).draw(a)};la.prototype.drawPoints=function(a,b,c,d,e,f){this.forEachGlyph(b,c,d,e,f,function(b,c,d,e){b.drawPoints(a,c,d,e)})};la.prototype.drawMetrics=function(a,
b,c,d,e,f){this.forEachGlyph(b,c,d,e,f,function(b,c,d,e){b.drawMetrics(a,c,d,e)})};la.prototype.getEnglishName=function(a){if(a=this.names[a])return a.en};la.prototype.validate=function(){function a(a){(a=b.getEnglishName(a))&&a.trim().length}var b=this;a("fontFamily");a("weightName");a("manufacturer");a("copyright");a("version");this.unitsPerEm};la.prototype.toTables=function(){return Oc.fontToTable(this)};la.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),
this.toArrayBuffer()};la.prototype.toArrayBuffer=function(){for(var a=this.toTables().encode(),b=new ArrayBuffer(a.length),c=new Uint8Array(b),d=0;d<a.length;d++)c[d]=a[d];return b};la.prototype.download=function(a){var b=this.getEnglishName("fontFamily"),c=this.getEnglishName("fontSubfamily");a=a||b.replace(/\s/g,"")+"-"+c+".otf";var d=this.toArrayBuffer();"undefined"!=typeof window?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,
d.byteLength,function(b){b.root.getFile(a,{create:!0},function(a){a.createWriter(function(b){var c=new DataView(d);c=new Blob([c],{type:"font/opentype"});b.write(c);b.addEventListener("writeend",function(){location.href=a.toURL()},!1)})})},function(a){throw Error(a.name+": "+a.message);})):(b=require("fs"),c=function(a){var b=new Buffer(a.byteLength);a=new Uint8Array(a);for(var c=0;c<b.length;++c)b[c]=a[c];return b}(d),b.writeFileSync(a,c))};la.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,
OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};la.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};la.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Jc={make:function(a,b){var c,d,e,f,g=new ba.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",
type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:a.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:a.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*a.axes.length}]);g.offsetToData=g.sizeOf();for(var h=0;h<a.axes.length;h++)g.fields=g.fields.concat((c=h,d=a.axes[h],e=b,f=Wb(d.name,e),[{name:"tag_"+c,type:"TAG",value:d.tag},{name:"minValue_"+c,type:"FIXED",value:d.minValue<<16},
{name:"defaultValue_"+c,type:"FIXED",value:d.defaultValue<<16},{name:"maxValue_"+c,type:"FIXED",value:d.maxValue<<16},{name:"flags_"+c,type:"USHORT",value:0},{name:"nameID_"+c,type:"USHORT",value:f}]));for(c=0;c<a.instances.length;c++)g.fields=g.fields.concat(yc(c,a.instances[c],a.axes,b));return g},parse:function(a,b,c){var d=new U.Parser(a,b),e=d.parseULong();ia.argument(65536===e,"Unsupported fvar table version.");var f=d.parseOffset16();d.skip("uShort",1);var g,h,k,l,m,n=d.parseUShort(),p=d.parseUShort();
e=d.parseUShort();d=d.parseUShort();for(var q=[],r=0;r<n;r++)q.push((g=a,h=b+f+r*p,k=c,m=l=void 0,l={},m=new U.Parser(g,h),l.tag=m.parseTag(),l.minValue=m.parseFixed(),l.defaultValue=m.parseFixed(),l.maxValue=m.parseFixed(),m.skip("uShort",1),l.name=k[m.parseUShort()]||{},l));g=[];b=b+f+n*p;for(f=0;f<e;f++)g.push(zc(a,b+f*d,q,c));return{axes:q,instances:g}}},La=Array(10);La[1]=function(){var a=this.offset+this.relativeOffset,b=this.parseUShort();return 1===b?{posFormat:1,coverage:this.parsePointer(y.coverage),
value:this.parseValueRecord()}:2===b?{posFormat:2,coverage:this.parsePointer(y.coverage),values:this.parseValueRecordList()}:void ia.assert(!1,"0x"+a.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};La[2]=function(){var a=this.offset+this.relativeOffset,b=this.parseUShort();ia.assert(1===b||2===b,"0x"+a.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");a=this.parsePointer(y.coverage);var c=this.parseUShort(),d=this.parseUShort();if(1===b)return{posFormat:b,coverage:a,valueFormat1:c,
valueFormat2:d,pairSets:this.parseList(y.pointer(y.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(c),value2:this.parseValueRecord(d)}})))};if(2===b){var e=this.parsePointer(y.classDef),f=this.parsePointer(y.classDef),g=this.parseUShort(),h=this.parseUShort();return{posFormat:b,coverage:a,valueFormat1:c,valueFormat2:d,classDef1:e,classDef2:f,class1Count:g,class2Count:h,classRecords:this.parseList(g,y.list(h,function(){return{value1:this.parseValueRecord(c),value2:this.parseValueRecord(d)}}))}}};
La[3]=function(){return{error:"GPOS Lookup 3 not supported"}};La[4]=function(){return{error:"GPOS Lookup 4 not supported"}};La[5]=function(){return{error:"GPOS Lookup 5 not supported"}};La[6]=function(){return{error:"GPOS Lookup 6 not supported"}};La[7]=function(){return{error:"GPOS Lookup 7 not supported"}};La[8]=function(){return{error:"GPOS Lookup 8 not supported"}};La[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var Tc=Array(10),Ic={parse:function(a,b){a=new y(a,b||0);b=a.parseVersion(1);
return ia.argument(1===b||1.1===b,"Unsupported GPOS table version "+b),1===b?{version:b,scripts:a.parseScriptList(),features:a.parseFeatureList(),lookups:a.parseLookupList(La)}:{version:b,scripts:a.parseScriptList(),features:a.parseFeatureList(),lookups:a.parseLookupList(La),variations:a.parseFeatureVariationsList()}},make:function(a){return new ba.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new ba.ScriptList(a.scripts)},{name:"features",type:"TABLE",
value:new ba.FeatureList(a.features)},{name:"lookups",type:"TABLE",value:new ba.LookupList(a.lookups,Tc)}])}},Hc={parse:function(a,b){a=new U.Parser(a,b);b=a.parseUShort();if(0===b)return function(a){var b={};a.skip("uShort");var c=a.parseUShort();ia.argument(0===c,"Unsupported kern sub-table version.");a.skip("uShort",2);c=a.parseUShort();a.skip("uShort",3);for(var d=0;d<c;d+=1){var e=a.parseUShort(),f=a.parseUShort(),g=a.parseShort();b[e+","+f]=g}return b}(a);if(1===b)return function(a){var b={};
a.skip("uShort");1<a.parseULong()&&console.warn("Only the first kern subtable is supported.");a.skip("uLong");var c=255&a.parseUShort();if(a.skip("uShort"),0===c){c=a.parseUShort();a.skip("uShort",3);for(var d=0;d<c;d+=1){var e=a.parseUShort(),f=a.parseUShort(),g=a.parseShort();b[e+","+f]=g}}return b}(a);throw Error("Unsupported kern table version ("+b+").");}},Gc={parse:function(a,b,c,d){a=new U.Parser(a,b);b=d?a.parseUShort:a.parseULong;for(var e=[],f=0;f<c+1;f+=1){var g=b.call(a);d&&(g*=2);e.push(g)}return e}};
a.Font=la;a.Glyph=N;a.Path=q;a.BoundingBox=p;a._parse=U;a.parse=Ob;a.load=function(a,b){("undefined"==typeof window?Ac:Bc)(a,function(a,c){if(a)return b(a);try{var d=Ob(c)}catch(Ib){return b(Ib,null)}return b(null,d)})};a.loadSync=function(a){return Ob(xb(require("fs").readFileSync(a)))};Object.defineProperty(a,"__esModule",{value:!0})});
(function(a){function c(b){this.settings=e(b,h);this.os=this.settings.os;this.getBrowserInformations();this.setDevice();this.setWidth();this.setHeight();a.deviceDetector=this}function b(a,b){var c=a.getShaderPrecisionFormat(b,a.HIGH_FLOAT),d=a.getShaderPrecisionFormat(b,a.MEDIUM_FLOAT);a=a.getShaderPrecisionFormat(b,a.LOW_FLOAT);return{high:c,medium:d,low:a}}function e(a,b){var c=Object.assign({},b);if(!a)return c;for(var d in b)void 0!=a[d]&&(c[d]=a[d]);return c}var h={vfov:"",hfov:"",os:"",disableGPUInspection:!1},
m={name:"unknown",screenHeight:0,screenWidth:0,pixelRatio:0,responseTime:void 0,maxOS:-1,oldRenderer:void 0,hasZoom:!1,version:0,vfov:void 0,hfov:void 0,camPosition:[.13,.06],isOld:!1,isIos:!1,isAndroid:!1,isNativeAndroidArCompatible:!1,isIosArCompatible:!1},d=e({name:"iOS device",vfov:62.7,hfov:48,isIos:!0,isIosArCompatible:!0},m),w=e({name:"Android device",isAndroid:!0,isNativeAndroidArCompatible:!0},m),n={"iPhone 14 Plus":e({name:"iPhone 14 Plus",screenHeight:926,screenWidth:428,pixelRatio:3,responseTime:void 0,
maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:void 0,isOld:!1},d),"iPhone 14 Pro Max":e({name:"iPhone 14 Pro Max",screenHeight:932,screenWidth:430,pixelRatio:3,responseTime:void 0,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:void 0,isOld:!1},d),"iPhone 14 Pro":e({name:"iPhone 14 Pro",screenHeight:852,screenWidth:393,pixelRatio:3,responseTime:void 0,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:void 0,isOld:!1},
d),"iPhone 14":e({name:"iPhone 14",screenHeight:844,screenWidth:390,pixelRatio:3,responseTime:8,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:void 0,isOld:!1},d),"iPhone SE (2022)":e({name:"iPhone SE (2022)",screenHeight:667,screenWidth:375,pixelRatio:2,responseTime:8,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:void 0,isOld:!1},d),"iPhone 13 Pro Max":e({name:"iPhone 13 Pro Max",screenHeight:926,screenWidth:428,pixelRatio:3,responseTime:8,
maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:void 0,isOld:!1},d),"iPhone 13 Pro":e({name:"iPhone 13 Pro",screenHeight:844,screenWidth:390,pixelRatio:3,responseTime:8,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:void 0,isOld:!1},d),"iPhone 13 Mini":e({name:"iPhone 13 Mini",screenHeight:780,screenWidth:360,pixelRatio:3,responseTime:8,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:void 0,isOld:!1},d),"iPhone 13":e({name:"iPhone 13",
screenHeight:844,screenWidth:390,pixelRatio:3,responseTime:8,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:void 0,isOld:!1},d),"iPhone 12 Pro Max":e({name:"iPhone 12 Pro Max",screenHeight:926,screenWidth:428,pixelRatio:3,responseTime:9,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:void 0,isOld:!1},d),"iPhone 12 Mini":e({name:"iPhone 12 Mini",screenHeight:780,screenWidth:360,pixelRatio:3,responseTime:18,maxOS:-1,oldRenderer:void 0,hasZoom:!1,
vfov:void 0,hfov:void 0,camPosition:void 0,isOld:!1},d),"iPhone 12 Pro":e({name:"iPhone 12 Pro",screenHeight:844,screenWidth:390,pixelRatio:3,responseTime:9,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:65.841737878827,hfov:52.251265071546,camPosition:void 0,isOld:!1},d),"iPhone 12":e({name:"iPhone 12",screenHeight:844,screenWidth:390,pixelRatio:3,responseTime:18,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:66.023239527987,hfov:52.274303587598,camPosition:void 0,isOld:!1},d),"iPhone SE (2020)":e({name:"iPhone SE (2020)",
screenHeight:667,screenWidth:375,pixelRatio:2,responseTime:16,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:60.597782608588,hfov:47.79287227146,camPosition:void 0,isOld:!1},d),"iPhone 11 Pro Max":e({name:"iPhone 11 Pro Max",screenHeight:896,screenWidth:414,pixelRatio:3,responseTime:14,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:void 0,isOld:!1},d),"iPhone 11 Pro":e({name:"iPhone 11 Pro",screenHeight:812,screenWidth:375,pixelRatio:3,responseTime:20,maxOS:-1,oldRenderer:void 0,
hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:void 0,isOld:!1},d),"iPhone 11":e({name:"iPhone 11",screenHeight:896,screenWidth:414,pixelRatio:2,responseTime:14,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:65.99676042101,hfov:52.24811486297,camPosition:void 0,isOld:!1},d),"iPhone Xr":e({name:"iPhone Xr",screenHeight:896,screenWidth:414,pixelRatio:2,responseTime:16,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:66.098731023977,hfov:52.230913405883,camPosition:[.14,.065],isOld:!1},d),"iPhone Xs Max":e({name:"iPhone Xs Max",
screenHeight:896,screenWidth:414,pixelRatio:3,responseTime:12,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:[.145,.067],isOld:!1},d),"iPhone Xs":e({name:"iPhone Xs",screenHeight:812,screenWidth:375,pixelRatio:3,responseTime:16,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:66.048477838137,hfov:52.265316320058,camPosition:[.13,.06],isOld:!1},d),"iPhone X":e({name:"iPhone X",screenHeight:812,screenWidth:375,pixelRatio:3,responseTime:10,maxOS:-1,oldRenderer:void 0,hasZoom:!1,
vfov:64.638613052323,hfov:49.578924944634,camPosition:[.13,.06],isOld:!1},d),"iPhone 8 Plus":e({name:"iPhone 8 Plus",screenHeight:736,screenWidth:414,pixelRatio:3,responseTime:25,maxOS:-1,oldRenderer:"Apple A11 GPU",hasZoom:!1,vfov:63.005876803,hfov:49.643879609,camPosition:[.148,.078],isOld:!1},d),"iPhone 8 Plus (display zoom)":e({name:"iPhone 8 Plus (display zoom)",screenHeight:667,screenWidth:375,pixelRatio:3,responseTime:25,maxOS:-1,oldRenderer:"Apple A11 GPU",hasZoom:!0,vfov:63.005876803,hfov:49.643879609,
camPosition:[.148,.078],isOld:!1},d),"iPhone 8":e({name:"iPhone 8",screenHeight:568,screenWidth:320,pixelRatio:2,responseTime:19,maxOS:-1,oldRenderer:"Apple A11 GPU",hasZoom:!1,vfov:62.3,hfov:48.7,camPosition:[.13,.06],isOld:!1},d),"iPhone 8 (display zoom)":e({name:"iPhone 8 (display zoom)",screenHeight:667,screenWidth:375,pixelRatio:2,responseTime:19,maxOS:-1,oldRenderer:"Apple A11 GPU",hasZoom:!0,vfov:void 0,hfov:void 0,camPosition:[.13,.06],isOld:!1},d),"iPhone 7 Plus":e({name:"iPhone 7 Plus",
screenHeight:736,screenWidth:414,pixelRatio:3,responseTime:void 0,maxOS:15.7,oldRenderer:"Apple A10 GPU",hasZoom:!1,vfov:62.383768348371,hfov:49.109478479524,camPosition:[.148,.078],isOld:!1},d),"iPhone 7 Plus (display zoom)":e({name:"iPhone 7 Plus (display zoom)",screenHeight:667,screenWidth:375,pixelRatio:3,responseTime:void 0,maxOS:15.7,oldRenderer:"Apple A10 GPU",hasZoom:!0,vfov:62.383768348371,hfov:49.109478479524,camPosition:[.148,.078],isOld:!1},d),"iPhone 7":e({name:"iPhone 7",screenHeight:667,
screenWidth:375,pixelRatio:2,responseTime:23,maxOS:15.7,oldRenderer:"Apple A10 GPU",hasZoom:!1,vfov:62.459519081,hfov:49.132963321,camPosition:[.13,.06],isOld:!1},d),"iPhone 7 (display zoom)":e({name:"iPhone 7 (display zoom)",screenHeight:568,screenWidth:320,pixelRatio:2,responseTime:23,maxOS:15.7,oldRenderer:"Apple A10 GPU",hasZoom:!0,vfov:62.459519081,hfov:49.132963321,camPosition:[.13,.06],isOld:!1},d),"iPhone SE 1":e({name:"iPhone SE 1",screenHeight:568,screenWidth:320,pixelRatio:2,responseTime:30,
maxOS:15.7,oldRenderer:"Apple A9 GPU",hasZoom:!1,vfov:60.520453962,hfov:47.762723056,camPosition:[.115,.048],isOld:!1},d),"iPhone 6s Plus":e({name:"iPhone 6s Plus",screenHeight:736,screenWidth:414,pixelRatio:3,responseTime:19,maxOS:15.7,oldRenderer:"Apple A9 GPU",hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:[.148,.078],isOld:!1},d),"iPhone 6s Plus (display zoom)":e({name:"iPhone 6s Plus (display zoom)",screenHeight:667,screenWidth:375,pixelRatio:3,responseTime:19,maxOS:15.7,oldRenderer:"Apple A9 GPU",
hasZoom:!0,vfov:void 0,hfov:void 0,camPosition:[.148,.078],isOld:!1},d),"iPhone 6s":e({name:"iPhone 6s",screenHeight:667,screenWidth:375,pixelRatio:2,responseTime:33,maxOS:15.7,oldRenderer:"Apple A9 GPU",hasZoom:!1,vfov:60.296782130803,hfov:48.673670457939,camPosition:[.13,.06],isOld:!1},d),"iPhone 6s (display zoom)":e({name:"iPhone 6s (display zoom)",screenHeight:568,screenWidth:320,pixelRatio:2,responseTime:33,maxOS:15.7,oldRenderer:"Apple A9 GPU",hasZoom:!0,vfov:60.296782130803,hfov:48.673670457939,
camPosition:[.13,.06],isOld:!1},d),"iPhone 6 Plus":e({name:"iPhone 6 Plus",screenHeight:736,screenWidth:414,pixelRatio:3,responseTime:33,maxOS:12.5,oldRenderer:"Apple A8 GPU",hasZoom:!1,vfov:61.495738870237,hfov:48.387298552232,camPosition:[.148,.078],isOld:!1},d),"iPhone 6 Plus (display zoom)":e({name:"iPhone 6 Plus (display zoom)",screenHeight:667,screenWidth:375,pixelRatio:3,responseTime:33,maxOS:12.5,oldRenderer:"Apple A8 GPU",hasZoom:!0,vfov:61.495738870237,hfov:48.387298552232,camPosition:[.148,
.078],isOld:!1},d),"iPhone 6":e({name:"iPhone 6",screenHeight:667,screenWidth:375,pixelRatio:2,responseTime:48,maxOS:12.5,oldRenderer:"Apple A8 GPU",hasZoom:!1,vfov:60.059811528,hfov:47.224977378,camPosition:[.13,.06],isOld:!1},d),"iPhone 6 (display zoom)":e({name:"iPhone 6 (display zoom)",screenHeight:568,screenWidth:320,pixelRatio:2,responseTime:48,maxOS:12.5,oldRenderer:"Apple A8 GPU",hasZoom:!0,vfov:60.059811528,hfov:47.224977378,camPosition:[.13,.06],isOld:!1},d),"iPhone 5s":e({name:"iPhone 5s",
screenHeight:568,screenWidth:320,pixelRatio:2,responseTime:57,maxOS:12.5,oldRenderer:"Apple A7 GPU",hasZoom:!1,vfov:60.752439902664,hfov:47.853170701819,camPosition:[.115,.048],isOld:!0},d),"iPhone 5c":e({name:"iPhone 5c",screenHeight:568,screenWidth:320,pixelRatio:2,responseTime:void 0,maxOS:10.3,oldRenderer:"PowerVR SGX 543",hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:[.115,.048],isOld:!0},d),"iPhone 5":e({name:"iPhone 5",screenHeight:568,screenWidth:320,pixelRatio:2,responseTime:void 0,maxOS:10.3,
oldRenderer:"PowerVR SGX 543",hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:[.115,.048],isOld:!0},d),"iPhone 4s":e({name:"iPhone 4s",screenHeight:480,screenWidth:320,pixelRatio:2,responseTime:void 0,maxOS:9.3,oldRenderer:"PowerVR SGX 543",hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:[.107,.048],isOld:!0},d),"iPhone 4":e({name:"iPhone 4",screenHeight:480,screenWidth:320,pixelRatio:2,responseTime:void 0,maxOS:7.1,oldRenderer:"PowerVR SGX 535",hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:[.107,
.048],isOld:!0},d),"iPhone 3GS":e({name:"iPhone 3GS",screenHeight:480,screenWidth:320,pixelRatio:1,responseTime:void 0,maxOS:6.1,oldRenderer:"ALP0298C05",hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:[.107,.048],isOld:!0},d),"iPhone 3G":e({name:"iPhone 3G",screenHeight:480,screenWidth:320,pixelRatio:1,responseTime:void 0,maxOS:4.2,oldRenderer:"S5L8900",hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:[.107,.048],isOld:!0},d),"iPhone 2G":e({name:"iPhone 2G",screenHeight:480,screenWidth:320,pixelRatio:1,
responseTime:void 0,maxOS:3.1,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:[.107,.048],isOld:!0},d),iPhone:e({name:"iPhone",screenHeight:480,screenWidth:320,pixelRatio:1,responseTime:void 0,maxOS:3.1,oldRenderer:"S5L8900",hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:void 0,isOld:!0},d),"iPad 9":e({name:"iPad 9",screenHeight:1080,screenWidth:810,pixelRatio:2,responseTime:14,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:void 0,isOld:!1},d),"iPad 8":e({name:"iPad 8",
screenHeight:1080,screenWidth:810,pixelRatio:2,responseTime:16,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:void 0,isOld:!1},d),"iPad 7":e({name:"iPad 7",screenHeight:1080,screenWidth:810,pixelRatio:2,responseTime:23,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:void 0,isOld:!1},d),"iPad 6":e({name:"iPad (2018)",screenHeight:1024,screenWidth:768,pixelRatio:2,responseTime:15,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:[.22,
.15],isOld:!1},d),"iPad 5":e({name:"iPad (2017)",screenHeight:1024,screenWidth:768,pixelRatio:2,responseTime:25,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:57.559046579015,hfov:45.214493551356,camPosition:[.22,.15],isOld:!1},d),"iPad 4":e({name:"iPad 4",screenHeight:1024,screenWidth:768,pixelRatio:2,responseTime:void 0,maxOS:10.3,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:[.22,.15],isOld:!1},d),"iPad 3":e({name:"iPad 3",screenHeight:1024,screenWidth:768,pixelRatio:2,responseTime:void 0,
maxOS:9.3,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:[.22,.15],isOld:!1},d),"iPad 2":e({name:"iPad 2",screenHeight:1024,screenWidth:768,pixelRatio:2,responseTime:void 0,maxOS:9.3,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:[.22,.15],isOld:!1},d),iPad:e({name:"iPad",screenHeight:1024,screenWidth:768,pixelRatio:1,responseTime:void 0,maxOS:5.1,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:[.22,.15],isOld:!1},d),"iPad Air 5":e({name:"iPad Air 5",
screenHeight:1180,screenWidth:820,pixelRatio:2,responseTime:8,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:void 0,isOld:!1},d),"iPad Air 4":e({name:"iPad Air 4",screenHeight:1180,screenWidth:820,pixelRatio:2,responseTime:18,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:void 0,isOld:!1},d),"iPad Air 3":e({name:"iPad Air 3",screenHeight:1112,screenWidth:834,pixelRatio:2,responseTime:18,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,
camPosition:[.22,.15],isOld:!1},d),"iPad Air 2":e({name:"iPad Air 2",screenHeight:1024,screenWidth:768,pixelRatio:2,responseTime:40,maxOS:15.7,oldRenderer:void 0,hasZoom:!1,vfov:57,hfov:44.8,camPosition:[.22,.15],isOld:!1,isIosArCompatible:!1},d),"iPad Air":e({name:"iPad Air",screenHeight:1024,screenWidth:768,pixelRatio:2,responseTime:49,maxOS:12.5,oldRenderer:void 0,hasZoom:!1,vfov:57,hfov:44.2,camPosition:[.22,.15],isOld:!1,isIosArCompatible:!1},d),"iPad Mini 6":e({name:"iPad Mini 6",screenHeight:1133,
screenWidth:744,pixelRatio:2,responseTime:9,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:void 0,isOld:!1,isIosArCompatible:!1},d),"iPad Mini 5":e({name:"iPad Mini 5",screenHeight:1024,screenWidth:768,pixelRatio:2,responseTime:20,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:[.19,.12],isOld:!1,isIosArCompatible:!1},d),"iPad Mini 4":e({name:"iPad Mini 4",screenHeight:1024,screenWidth:768,pixelRatio:2,responseTime:25,maxOS:15.7,oldRenderer:void 0,
hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:[.19,.12],isOld:!1,isIosArCompatible:!1},d),"iPad Mini 3":e({name:"iPad Mini 3",screenHeight:1024,screenWidth:768,pixelRatio:2,responseTime:48,maxOS:12.5,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:[.19,.12],isOld:!1,isIosArCompatible:!1},d),"iPad Mini 2":e({name:"iPad Mini 2",screenHeight:1024,screenWidth:768,pixelRatio:2,responseTime:3E3,maxOS:12.5,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:[.19,.12],isOld:!1,
isIosArCompatible:!1},d),"iPad Mini":e({name:"iPad Mini",screenHeight:1024,screenWidth:768,pixelRatio:1,responseTime:void 0,maxOS:9.3,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:[.19,.12],isOld:!1,isIosArCompatible:!1},d),"iPad Pro 11 (2022)":e({name:"iPad Pro 11 (2022)",screenHeight:1194,screenWidth:834,pixelRatio:2,responseTime:void 0,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:void 0,isOld:!1},d),"iPad Pro 12.9 (2022)":e({name:"iPad Pro 12.9 (2022)",
screenHeight:1366,screenWidth:1024,pixelRatio:2,responseTime:void 0,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:void 0,isOld:!1},d),"iPad Pro 11 (2021)":e({name:"iPad Pro 11 (2021)",screenHeight:1194,screenWidth:834,pixelRatio:2,responseTime:17,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:void 0,isOld:!1},d),"iPad Pro 12.9 (2021)":e({name:"iPad Pro 12.9 (2021)",screenHeight:1366,screenWidth:1024,pixelRatio:2,responseTime:17,maxOS:-1,oldRenderer:void 0,
hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:void 0,isOld:!1},d),"iPad Pro 11 (2020)":e({name:"iPad Pro 11 (2020)",screenHeight:1194,screenWidth:834,pixelRatio:2,responseTime:20,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:void 0,isOld:!1},d),"iPad Pro 12.9 (2020)":e({name:"iPad Pro 12.9 (2020)",screenHeight:1366,screenWidth:1024,pixelRatio:2,responseTime:16,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:void 0,isOld:!1},d),"iPad Pro 11 (2018)":e({name:"iPad Pro 11 (2018)",
screenHeight:1194,screenWidth:834,pixelRatio:2,responseTime:21,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:[.23,.17],isOld:!1},d),"iPad Pro 12.9 (2018)":e({name:"iPad Pro 12.9 (2018)",screenHeight:1366,screenWidth:1024,pixelRatio:2,responseTime:16,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:62.193752157333,hfov:48.840162653183,camPosition:[.27,.2],isOld:!1},d),"iPad Pro 12.9 (2017)":e({name:"iPad Pro 12.9 (2017)",screenHeight:1366,screenWidth:1024,pixelRatio:2,responseTime:15,
maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:62.193752157333,hfov:48.840162653183,camPosition:[.27,.2],isOld:!1},d),"iPad Pro 10.5 (2017)":e({name:"iPad Pro 10.5 (2017)",screenHeight:1112,screenWidth:834,pixelRatio:2,responseTime:void 0,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:[.24,.16],isOld:!1},d),"iPad Pro 12.9 (2015)":e({name:"iPad Pro 12.9 (2015)",screenHeight:1366,screenWidth:1024,pixelRatio:2,responseTime:void 0,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:62.193752157333,
hfov:48.840162653183,camPosition:[.27,.2],isOld:!1},d),"iPad Pro 9.7 (2016)":e({name:"iPad Pro 9.7 (2016)",screenHeight:1024,screenWidth:768,pixelRatio:2,responseTime:15,maxOS:-1,oldRenderer:void 0,hasZoom:!1,vfov:void 0,hfov:void 0,camPosition:[.22,.15],isOld:!1},d)},t={"ANA-NX9":e({name:"Huawei P40",isNativeAndroidArCompatible:!1},w),"NEM-L51":e({name:"Honor 5C",isNativeAndroidArCompatible:!1},w),ASUS_X008DC:e({name:"Asus Zenfone 3",isNativeAndroidArCompatible:!1},w)};c.prototype.setWidth=function(){this.width=
window.screen.availWidth};c.prototype.getWidth=function(){return this.width};c.prototype.setHeight=function(){this.height=window.screen.availHeight};c.prototype.getHeight=function(){return this.height};c.prototype.setDevice=function(){this.isAndroid=!!navigator.userAgent.match(/Android/);this.isIos=(this.isIPad=!!navigator.platform.match(/(iPad)/)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints)||null!=navigator.platform.match(/(iPod|iPhone|iPad)/)||null!=navigator.userAgent.match(/(iPod|iPhone|iPad|FxiOS)/);
this.isChromeOS=/(CrOS)/.test(navigator.userAgent)||/(CriOS)/.test(navigator.userAgent);this.isMac=!this.isIPad&&null!=navigator.platform.match(/(Mac68K|MacPPC|MacIntel)/);this.isApple=this.isIos||this.isMac||navigator.vendor.match(/Apple/);this.isWindow=navigator.platform.match(/Win/);this.isIPhone=!!navigator.platform.match(/(iPhone)/);this.isIPod=!!navigator.platform.match(/(iPod)/);this.isHonor5C=null!=navigator.userAgent.match(/NEM-L51/);this.isSmartphone=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(navigator.userAgent||
navigator.vendor||window.opera)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((navigator.userAgent||
navigator.vendor||window.opera).substr(0,4));this.pixelRatio=window.devicePixelRatio;this.screenWidth=window.screen.width;this.windowWidth=window.innerWidth;this.screenHeight=window.screen.height;this.windowHeight=window.innerHeight;this.isTouchEnabled="ontouchstart"in window||navigator.maxTouchPoints;this.supportMultisampling=!0;this.isPhone=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(navigator.userAgent||
navigator.vendor||window.opera)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((navigator.userAgent||
navigator.vendor||window.opera).substr(0,4));this.vfov=parseFloat(this.settings.vfov);this.hfov=parseFloat(this.settings.hfov);this.getDeviceInformation();if(this.isIPhone||this.isIPad||(this.isIos||this.isMac)&&this.browser.isSafari)this.isIos||null==this.model.match(/(iPod|iPhone|iPad)/)||(this.isIos=!0,this.isIPad|=null!=this.model.match(/(iPad)/),this.isIPhone|=null!=this.model.match(/(iPhone)/),this.isIPod|=null!=this.model.match(/(isIPod)/));else if("Windows"==this.settings.os)this.camPosition=
[.16,.19];else{var a=[.14,.07],c=[.24,.17];this.camPosition=500>window.screen.width?[2/3*a[0],.5*a[1]]:[2/3*c[0],.5*c[1]]}this.isMobile=this.isHonor5C||this.isSmartphone||this.isIos||this.isChromeOS;this.vfov_rad=this.vfov*Math.PI/180;this.hfov_rad=this.hfov*Math.PI/180;this.isTouchable=window.matchMedia("(pointer: coarse)").matches;this.isMouseable=window.matchMedia("(pointer: fine)").matches;this.isHoverable=window.matchMedia("(hover: hover)").matches;this.isWindowHybrid=this.isWindowHybrid();this.isAndroid?
(navigator.userAgent.includes(" Mobile ")?this.isPhone=!0:"Mozilla"===navigator.appCodeName&&navigator.userAgent.includes(" Mobile;")&&(this.isPhone=!0),this.isDesktop=!1):(this.isDesktop=!this.isMac&&this.isIos?!1:!0,this.isTablet=this.isIPad?!0:!1,this.isPhone=this.isIPhone?!0:!1);this.isMac&&this.browser.isSafari&&(this.supportMultisampling=!1);if(!this.settings.disableGPUInspection){a="VENDOR VERSION RENDERER SHADING_LANGUAGE_VERSION RED_BITS GREEN_BITS BLUE_BITS ALPHA_BITS DEPTH_BITS STENCIL_BITS MAX_RENDERBUFFER_SIZE MAX_COMBINED_TEXTURE_IMAGE_UNITS MAX_CUBE_MAP_TEXTURE_SIZE MAX_FRAGMENT_UNIFORM_VECTORS MAX_TEXTURE_IMAGE_UNITS MAX_TEXTURE_SIZE MAX_VARYING_VECTORS MAX_VERTEX_ATTRIBS MAX_VERTEX_TEXTURE_IMAGE_UNITS MAX_VERTEX_UNIFORM_VECTORS ALIASED_LINE_WIDTH_RANGE ALIASED_POINT_SIZE_RANGE MAX_VIEWPORT_DIMS".split(" ");
a={webgl2:{parameters:a.concat("MAX_VERTEX_UNIFORM_COMPONENTS MAX_VERTEX_UNIFORM_BLOCKS MAX_VERTEX_OUTPUT_COMPONENTS MAX_VARYING_COMPONENTS MAX_FRAGMENT_UNIFORM_COMPONENTS MAX_FRAGMENT_UNIFORM_BLOCKS MAX_FRAGMENT_INPUT_COMPONENTS MIN_PROGRAM_TEXEL_OFFSET MAX_PROGRAM_TEXEL_OFFSET MAX_DRAW_BUFFERS MAX_COLOR_ATTACHMENTS MAX_SAMPLES MAX_3D_TEXTURE_SIZE MAX_ARRAY_TEXTURE_LAYERS MAX_TEXTURE_LOD_BIAS MAX_UNIFORM_BUFFER_BINDINGS MAX_UNIFORM_BLOCK_SIZE UNIFORM_BUFFER_OFFSET_ALIGNMENT MAX_COMBINED_UNIFORM_BLOCKS MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS MAX_ELEMENT_INDEX MAX_SERVER_WAIT_TIMEOUT".split(" "))},
webgl:{parameters:a},"experimental-webgl":{parameters:a}};c=null;for(var d in a){var e=document.createElement("canvas");e.width=1;e.height=1;try{c=e.getContext(d,{preserveDrawingBuffer:!0,antialias:!0,stencil:!0})}catch(v){}if(c){this[d]={};this[d].extensions=[];this[d].parameters={};var h=c.getSupportedExtensions();if(h){for(e=0;e<h.length;e++){var m=h[e];c.getExtension(m)&&this[d].extensions.push(m)}for(e=0;e<a[d].parameters.length;e++)h=a[d].parameters[e],this[d].parameters[h]=c.getParameter(c[h]);
this[d].parameters.antialias=c.getContextAttributes().antialias?"Available":"Not available";e=this[d].parameters;h=c;m={renderer:"",vendor:""};var n=h.getExtension("WEBGL_debug_renderer_info");null!=n&&(m.renderer=h.getParameter(n.UNMASKED_RENDERER_WEBGL),m.vendor=h.getParameter(n.UNMASKED_VENDOR_WEBGL));e.unMaskedInfo=m;e=this[d].parameters;h=c;(m=h.getExtension("EXT_texture_filter_anisotropic")||h.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||h.getExtension("MOZ_EXT_texture_filter_anisotropic"))?
(h=h.getParameter(m.MAX_TEXTURE_MAX_ANISOTROPY_EXT),0===h&&(h=2)):h=null;e.maxAnisotropy=h;e=this[d].parameters;h=c;m=1;n=h.getExtension("WEBGL_draw_buffers");null!=n&&(m=h.getParameter(n.MAX_DRAW_BUFFERS_WEBGL));e.maxColorBuffers=m;this[d].parameters.vertexShaderBestPrecision=b(c,c.VERTEX_SHADER);this[d].parameters.fragmentShaderBestPrecision=b(c,c.FRAGMENT_SHADER);e=this[d].parameters;h=c;m=h.getShaderPrecisionFormat(h.FRAGMENT_SHADER,h.HIGH_FLOAT);n=0!==m.precision?"highp/":"mediump/";m=h.getShaderPrecisionFormat(h.FRAGMENT_SHADER,
h.HIGH_INT);n+=0!==m.rangeMax?"highp":"lowp";e.fragmentShaderFloatIntPrecision=n}}}}};c.prototype.getDevice=function(){return this};c.prototype.getBrowserInformations=function(){this.browser={isEdge:0<=navigator.userAgent.indexOf(" EdgiOS/")||0<=navigator.userAgent.indexOf(" EdgA/"),isOpera:!!window.opera||0<=navigator.userAgent.indexOf(" OPR/"),isFirefox:"undefined"!==typeof InstallTrigger||0<=navigator.userAgent.indexOf(" FxiOS/"),isIE:!!document.documentMode,isChrome:/(CrOS)/.test(navigator.userAgent)||
/(CriOS)/.test(navigator.userAgent)||/(Chrome)/.test(navigator.userAgent),oldSafari:!0};this.browser.isChrome&&this.browser.isEdge&&(this.browser.isChrome=!1);this.browser.isChrome||this.browser.isFirefox||this.browser.IsOpera||this.browser.isEdge||this.browser.isIE?(this.browser.isSafari=!1,this.browser.oldSafari=!1):(this.browser.isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),1<navigator.userAgent.split("Version/").length&&(safariVersion=parseInt(navigator.userAgent.split("Version/")[1].substring(0,
4)),13<=safariVersion&&(this.browser.oldSafari=!1)));this.browser.frequence=30};c.prototype.getDeviceInformation=function(){if(this.isIPhone||this.isIPad||(this.isIos||this.isMac)&&this.browser.isSafari)this.deviceInformation=this.getiOSDevice(),this.vfov=this.deviceInformation.vfov,this.hfov=this.deviceInformation.hfov,this.camPosition=this.deviceInformation.camPosition;else{this.deviceInformation=e({},w);var a=navigator.userAgent;a.indexOf("Android")&&(a=a.split("("),2<=a.length&&(a=a[1].split(")"),
2<=a.length&&(a=a[0].split("; "),3<=a.length&&(a=a[2].split(" Build")[0],t[a]&&(this.deviceInformation=t[a])))))}this.model=this.deviceInformation.name};c.prototype.getiOSDevice=function(){var a=null;navigator.appVersion&&(a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/));!a&&navigator.userAgent&&(a=navigator.userAgent.match(/Version\/(\d+)\.(\d+)\.?(\d+)?/));var b=0;a&&(b=parseFloat(parseInt(a[1],10)+"."+parseInt(a[2],10)));b||(a=navigator.userAgent.split("(")[1].split(")")[0],a=a.split("; ")[1],
a=a.split(" ")[3],a=a.split("_"),b=parseFloat(a[0]+"."+a[1]));iPhoneModel=this.getiOSDeviceModel(b);16>b&&(this.supportMultisampling=!1);return iPhoneModel};c.prototype.getiOSDeviceModel=function(a){for(var b=Object.keys(n),c=[],f=0;f<b.length;f++){var g=n[b[f]];window.screen.height==g.screenHeight&&window.screen.width==g.screenWidth&&window.devicePixelRatio==g.pixelRatio&&(0==a||-1==g.maxOS||a<=g.maxOS)&&c.push(g)}if(1<c.length){b=[];if(12<=a){for(f=0;f<c.length;f++)void 0!=c[f].responseTime&&b.push(c[f]);
if(1<b.length){c=this.CPUtest();g=f=void 0;for(var h=0;h<b.length;h++)if(Math.abs(c-b[h].responseTime)<=f||void 0==f)f=Math.abs(c-b[h].responseTime),g=b[h];b=[g]}}else for(f=this.getGpuName(),g=[],h=0;h<c.length;h++)c[h].oldRenderer==f&&g.push(c[h]);c=b}if(0==c.length)a=e({name:"unknown iOS device",screenWidth:window.screen.width,screenHeight:window.screen.height,pixelRatio:window.devicePixelRatio,version:a},d);else if(1==c.length)a=e({version:a},c[0]);else{b="Unable to tell between ";for(f=0;f<c.length;f++)b+=
c[f].name,f<c.length-1&&(b+=", ");a=e({name:b,version:a},c[0])}return a};c.prototype.isPreviPhone=function(){return this.deviceInformation&&this.deviceInformation.isIos&&this.deviceInformation.isOld};c.prototype.supportsNativeAndroidAr=function(a){a=void 0===a?[]:a;var b=!0;this.isMobile||(a.push("not-mobile"),b=!1);this.deviceInformation||(a.push("no-device-information"),b=!1);this.deviceInformation&&!this.deviceInformation.isAndroid&&(a.push("not-android"),b=!1);this.browser.isChrome||(a.push("not-chrome"),
b=!1);this.deviceInformation&&!this.deviceInformation.isNativeAndroidArCompatible&&(a.push("not-ar-compatible"),b=!1);return b};c.prototype.supportsNativeIOSAr=function(a){a=void 0===a?[]:a;var b=!0;this.isMobile||(a.push("not-mobile"),b=!1);this.deviceInformation||(a.push("no-device-information"),b=!1);this.deviceInformation&&!this.deviceInformation.isIos&&(a.push("not-ios"),b=!1);if(this.deviceInformation&&!this.deviceInformation.isIosArCompatible||this.deviceInformation&&12>=parseInt(this.deviceInformation.version))a.push("not-ar-compatible"),
b=!1;this.deviceInformation&&this.deviceInformation.isIosArCompatible&&12>=parseInt(this.deviceInformation.version)&&(-1==this.deviceInformation.maxOS||12<this.deviceInformation.maxOS)&&(a.push("not-ar-compatible-need-update"),b=!1);return b};c.prototype.supportsNativeAr=function(a){a=void 0===a?[]:a;if(!this.deviceInformation)return a.push("no-device-information"),!1;if(this.deviceInformation.isAndroid)return this.supportsNativeAndroidAr(a);if(this.deviceInformation.isIos)return this.supportsNativeIOSAr(a);
a.push("neither-android-nor-ios");return!1};c.prototype.supportsNativeIOSArInLastVersion=function(){return this.isIos&&this.deviceInformation&&this.deviceInformation.isIosArCompatible?12>=parseInt(this.deviceInformation.version)?-1==this.deviceInformation.maxOS||12<this.deviceInformation.maxOS:!1:!1};c.prototype.CPUtest=function(){for(var a=function(b,c,d){return b<=c?c:a(a(b-1,c,d),a(c-1,d,b),a(d-1,b,c))},b=0,c=0;13>c;c++){var d=Date.now();a(17,13,6);3<=c&&(b+=Date.now()-d)}return b/10};c.prototype.isWindowHybrid=
function(){if("Windows"==this.os&&!this.isMobile&&this.isTouchEnabled){var a=this.getGpuName();if(null!=a.match(/Intel/i))for(var b=[515,520,540,615,620,640],c=0;c<b.length;c++)if(null!=a.match("Graphics "+b[c]))return!0}return!1};c.prototype.getGpuName=function(){var a=document.createElement("canvas");if(a&&(a=a.getContext("webgl")||a.getContext("experimental-webgl"))){var b=a.getExtension("WEBGL_debug_renderer_info");if(b)return a.getParameter(b.UNMASKED_RENDERER_WEBGL)}};a.DeviceDetector=c})(this);
